const __vite__fileDeps=["./DszsoTHC.js","./CnK0mgqx.js","./DlAUqK2U.js","./index.CdFrMziu.css","./BqRY-Qea.js","./C9LG1XnO.js","./X0_ptZKl.js","./CKSQGtbZ.js","./BKTBkhmi.js","./C3nBtsiQ.js","./CHbBsdSD.js","./nS6lwJW4.js","./DtkZo4t5.js","./CM9cSAiZ.js","./index.COmEW5jT.css","./DT7w2XFO.js","./Icon.DlTts4Fd.css","./COiYDASg.js","./error-404.JekaaCis.css","./C8wzLd-L.js","./error-500.CNP9nqm1.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
const Xt=globalThis||void 0||self;/**
* @vue/shared v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Eh(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Be={},di=[],zt=()=>{},SE=()=>!1,so=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ih=t=>t.startsWith("onUpdate:"),it=Object.assign,bh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},CE=Object.prototype.hasOwnProperty,Ae=(t,e)=>CE.call(t,e),le=Array.isArray,pi=t=>Hi(t)==="[object Map]",rc=t=>Hi(t)==="[object Set]",vd=t=>Hi(t)==="[object Date]",AE=t=>Hi(t)==="[object RegExp]",de=t=>typeof t=="function",We=t=>typeof t=="string",Ln=t=>typeof t=="symbol",Me=t=>t!==null&&typeof t=="object",Th=t=>(Me(t)||de(t))&&de(t.then)&&de(t.catch),Tm=Object.prototype.toString,Hi=t=>Tm.call(t),kE=t=>Hi(t).slice(8,-1),Sm=t=>Hi(t)==="[object Object]",Sh=t=>We(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,gi=Eh(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ic=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},RE=/-(\w)/g,Tn=ic(t=>t.replace(RE,(e,n)=>n?n.toUpperCase():"")),xE=/\B([A-Z])/g,qi=ic(t=>t.replace(xE,"-$1").toLowerCase()),sc=ic(t=>t.charAt(0).toUpperCase()+t.slice(1)),ol=ic(t=>t?`on${sc(t)}`:""),gr=(t,e)=>!Object.is(t,e),mi=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Cm=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},ma=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Am=t=>{const e=We(t)?Number(t):NaN;return isNaN(e)?t:e};let wd;const km=()=>wd||(wd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof Xt<"u"?Xt:{});function oc(t){if(le(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=We(r)?DE(r):oc(r);if(i)for(const s in i)e[s]=i[s]}return e}else if(We(t)||Me(t))return t}const PE=/;(?![^(]*\))/g,NE=/:([^]+)/,OE=/\/\*[^]*?\*\//g;function DE(t){const e={};return t.replace(OE,"").split(PE).forEach(n=>{if(n){const r=n.split(NE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function ac(t){let e="";if(We(t))e=t;else if(le(t))for(let n=0;n<t.length;n++){const r=ac(t[n]);r&&(e+=r+" ")}else if(Me(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ME(t){if(!t)return null;let{class:e,style:n}=t;return e&&!We(e)&&(t.class=ac(e)),n&&(t.style=oc(n)),t}const LE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",FE=Eh(LE);function Rm(t){return!!t||t===""}function UE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=cc(t[r],e[r]);return n}function cc(t,e){if(t===e)return!0;let n=vd(t),r=vd(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=Ln(t),r=Ln(e),n||r)return t===e;if(n=le(t),r=le(e),n||r)return n&&r?UE(t,e):!1;if(n=Me(t),r=Me(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!cc(t[o],e[o]))return!1}}return String(t)===String(e)}function BE(t,e){return t.findIndex(n=>cc(n,e))}const ZL=t=>We(t)?t:t==null?"":le(t)||Me(t)&&(t.toString===Tm||!de(t.toString))?JSON.stringify(t,xm,2):String(t),xm=(t,e)=>e&&e.__v_isRef?xm(t,e.value):pi(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i],s)=>(n[al(r,s)+" =>"]=i,n),{})}:rc(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>al(n))}:Ln(e)?al(e):Me(e)&&!le(e)&&!Sm(e)?String(e):e,al=(t,e="")=>{var n;return Ln(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Bt;class Pm{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Bt,!e&&Bt&&(this.index=(Bt.scopes||(Bt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Bt;try{return Bt=this,e()}finally{Bt=n}}}on(){Bt=this}off(){Bt=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function $E(t){return new Pm(t)}function VE(t,e=Bt){e&&e.active&&e.effects.push(t)}function jE(){return Bt}function eF(t){Bt&&Bt.cleanups.push(t)}let Br;class Ch{constructor(e,n,r,i){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,VE(this,i)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,_r();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(HE(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),Er()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=lr,n=Br;try{return lr=!0,Br=this,this._runnings++,_d(this),this.fn()}finally{Ed(this),this._runnings--,Br=n,lr=e}}stop(){this.active&&(_d(this),Ed(this),this.onStop&&this.onStop(),this.active=!1)}}function HE(t){return t.value}function _d(t){t._trackId++,t._depsLength=0}function Ed(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Nm(t.deps[e],t);t.deps.length=t._depsLength}}function Nm(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let lr=!0,ou=0;const Om=[];function _r(){Om.push(lr),lr=!1}function Er(){const t=Om.pop();lr=t===void 0?!0:t}function Ah(){ou++}function kh(){for(ou--;!ou&&au.length;)au.shift()()}function Dm(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Nm(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const au=[];function Mm(t,e,n){Ah();for(const r of t.keys()){let i;r._dirtyLevel<e&&(i??(i=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(i??(i=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&au.push(r.scheduler)))}kh()}const Lm=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},ya=new WeakMap,$r=Symbol(""),cu=Symbol("");function Lt(t,e,n){if(lr&&Br){let r=ya.get(t);r||ya.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=Lm(()=>r.delete(n))),Dm(Br,i)}}function On(t,e,n,r,i,s){const o=ya.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&le(t)){const c=Number(r);o.forEach((u,l)=>{(l==="length"||!Ln(l)&&l>=c)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":le(t)?Sh(n)&&a.push(o.get("length")):(a.push(o.get($r)),pi(t)&&a.push(o.get(cu)));break;case"delete":le(t)||(a.push(o.get($r)),pi(t)&&a.push(o.get(cu)));break;case"set":pi(t)&&a.push(o.get($r));break}Ah();for(const c of a)c&&Mm(c,4);kh()}function qE(t,e){const n=ya.get(t);return n&&n.get(e)}const KE=Eh("__proto__,__v_isRef,__isVue"),Fm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ln)),Id=WE();function WE(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Re(this);for(let s=0,o=this.length;s<o;s++)Lt(r,"get",s+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Re)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){_r(),Ah();const r=Re(this)[e].apply(this,n);return kh(),Er(),r}}),t}function zE(t){Ln(t)||(t=String(t));const e=Re(this);return Lt(e,"has",t),e.hasOwnProperty(t)}class Um{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const i=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return s;if(n==="__v_raw")return r===(i?s?oI:jm:s?Vm:$m).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=le(e);if(!i){if(o&&Ae(Id,n))return Reflect.get(Id,n,r);if(n==="hasOwnProperty")return zE}const a=Reflect.get(e,n,r);return(Ln(n)?Fm.has(n):KE(n))||(i||Lt(e,"get",n),s)?a:gt(a)?o&&Sh(n)?a:a.value:Me(a)?i?Hm(a):Ir(a):a}}class Bm extends Um{constructor(e=!1){super(!1,e)}set(e,n,r,i){let s=e[n];if(!this._isShallow){const c=Ri(s);if(!va(r)&&!Ri(r)&&(s=Re(s),r=Re(r)),!le(e)&&gt(s)&&!gt(r))return c?!1:(s.value=r,!0)}const o=le(e)&&Sh(n)?Number(n)<e.length:Ae(e,n),a=Reflect.set(e,n,r,i);return e===Re(i)&&(o?gr(r,s)&&On(e,"set",n,r):On(e,"add",n,r)),a}deleteProperty(e,n){const r=Ae(e,n);e[n];const i=Reflect.deleteProperty(e,n);return i&&r&&On(e,"delete",n,void 0),i}has(e,n){const r=Reflect.has(e,n);return(!Ln(n)||!Fm.has(n))&&Lt(e,"has",n),r}ownKeys(e){return Lt(e,"iterate",le(e)?"length":$r),Reflect.ownKeys(e)}}class GE extends Um{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const QE=new Bm,YE=new GE,JE=new Bm(!0);const Rh=t=>t,lc=t=>Reflect.getPrototypeOf(t);function Oo(t,e,n=!1,r=!1){t=t.__v_raw;const i=Re(t),s=Re(e);n||(gr(e,s)&&Lt(i,"get",e),Lt(i,"get",s));const{has:o}=lc(i),a=r?Rh:n?Nh:Ns;if(o.call(i,e))return a(t.get(e));if(o.call(i,s))return a(t.get(s));t!==i&&t.get(e)}function Do(t,e=!1){const n=this.__v_raw,r=Re(n),i=Re(t);return e||(gr(t,i)&&Lt(r,"has",t),Lt(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Mo(t,e=!1){return t=t.__v_raw,!e&&Lt(Re(t),"iterate",$r),Reflect.get(t,"size",t)}function bd(t){t=Re(t);const e=Re(this);return lc(e).has.call(e,t)||(e.add(t),On(e,"add",t,t)),this}function Td(t,e){e=Re(e);const n=Re(this),{has:r,get:i}=lc(n);let s=r.call(n,t);s||(t=Re(t),s=r.call(n,t));const o=i.call(n,t);return n.set(t,e),s?gr(e,o)&&On(n,"set",t,e):On(n,"add",t,e),this}function Sd(t){const e=Re(this),{has:n,get:r}=lc(e);let i=n.call(e,t);i||(t=Re(t),i=n.call(e,t)),r&&r.call(e,t);const s=e.delete(t);return i&&On(e,"delete",t,void 0),s}function Cd(){const t=Re(this),e=t.size!==0,n=t.clear();return e&&On(t,"clear",void 0,void 0),n}function Lo(t,e){return function(r,i){const s=this,o=s.__v_raw,a=Re(o),c=e?Rh:t?Nh:Ns;return!t&&Lt(a,"iterate",$r),o.forEach((u,l)=>r.call(i,c(u),c(l),s))}}function Fo(t,e,n){return function(...r){const i=this.__v_raw,s=Re(i),o=pi(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=i[t](...r),l=n?Rh:e?Nh:Ns;return!e&&Lt(s,"iterate",c?cu:$r),{next(){const{value:d,done:p}=u.next();return p?{value:d,done:p}:{value:a?[l(d[0]),l(d[1])]:l(d),done:p}},[Symbol.iterator](){return this}}}}function Wn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function XE(){const t={get(s){return Oo(this,s)},get size(){return Mo(this)},has:Do,add:bd,set:Td,delete:Sd,clear:Cd,forEach:Lo(!1,!1)},e={get(s){return Oo(this,s,!1,!0)},get size(){return Mo(this)},has:Do,add:bd,set:Td,delete:Sd,clear:Cd,forEach:Lo(!1,!0)},n={get(s){return Oo(this,s,!0)},get size(){return Mo(this,!0)},has(s){return Do.call(this,s,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Lo(!0,!1)},r={get(s){return Oo(this,s,!0,!0)},get size(){return Mo(this,!0)},has(s){return Do.call(this,s,!0)},add:Wn("add"),set:Wn("set"),delete:Wn("delete"),clear:Wn("clear"),forEach:Lo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=Fo(s,!1,!1),n[s]=Fo(s,!0,!1),e[s]=Fo(s,!1,!0),r[s]=Fo(s,!0,!0)}),[t,n,e,r]}const[ZE,eI,tI,nI]=XE();function xh(t,e){const n=e?t?nI:tI:t?eI:ZE;return(r,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Ae(n,i)&&i in r?n:r,i,s)}const rI={get:xh(!1,!1)},iI={get:xh(!1,!0)},sI={get:xh(!0,!1)};const $m=new WeakMap,Vm=new WeakMap,jm=new WeakMap,oI=new WeakMap;function aI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function cI(t){return t.__v_skip||!Object.isExtensible(t)?0:aI(kE(t))}function Ir(t){return Ri(t)?t:Ph(t,!1,QE,rI,$m)}function oo(t){return Ph(t,!1,JE,iI,Vm)}function Hm(t){return Ph(t,!0,YE,sI,jm)}function Ph(t,e,n,r,i){if(!Me(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=cI(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return i.set(t,a),a}function ys(t){return Ri(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function Ri(t){return!!(t&&t.__v_isReadonly)}function va(t){return!!(t&&t.__v_isShallow)}function qm(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function lI(t){return Object.isExtensible(t)&&Cm(t,"__v_skip",!0),t}const Ns=t=>Me(t)?Ir(t):t,Nh=t=>Me(t)?Hm(t):t;class Km{constructor(e,n,r,i){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Ch(()=>e(this._value),()=>ta(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Re(this);return(!e._cacheable||e.effect.dirty)&&gr(e._value,e._value=e.effect.run())&&ta(e,4),Wm(e),e.effect._dirtyLevel>=2&&ta(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function uI(t,e,n=!1){let r,i;const s=de(t);return s?(r=t,i=zt):(r=t.get,i=t.set),new Km(r,i,s||!i,n)}function Wm(t){var e;lr&&Br&&(t=Re(t),Dm(Br,(e=t.dep)!=null?e:t.dep=Lm(()=>t.dep=void 0,t instanceof Km?t:void 0)))}function ta(t,e=4,n){t=Re(t);const r=t.dep;r&&Mm(r,e)}function gt(t){return!!(t&&t.__v_isRef===!0)}function wn(t){return zm(t,!1)}function Os(t){return zm(t,!0)}function zm(t,e){return gt(t)?t:new hI(t,e)}class hI{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Re(e),this._value=n?e:Ns(e)}get value(){return Wm(this),this._value}set value(e){const n=this.__v_isShallow||va(e)||Ri(e);e=n?e:Re(e),gr(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Ns(e),ta(this,4))}}function qe(t){return gt(t)?t.value:t}function tF(t){return de(t)?t():qe(t)}const fI={get:(t,e,n)=>qe(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return gt(i)&&!gt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function Gm(t){return ys(t)?t:new Proxy(t,fI)}class dI{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return qE(Re(this._object),this._key)}}class pI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Qm(t,e,n){return gt(t)?t:de(t)?new pI(t):Me(t)&&arguments.length>1?gI(t,e,n):wn(t)}function gI(t,e,n){const r=t[e];return gt(r)?r:new dI(t,e,n)}/**
* @vue/runtime-core v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ur(t,e,n,r){try{return r?t(...r):t()}catch(i){Ki(i,e,n)}}function Qt(t,e,n,r){if(de(t)){const i=ur(t,e,n,r);return i&&Th(i)&&i.catch(s=>{Ki(s,e,n)}),i}if(le(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Qt(t[s],e,n,r));return i}}function Ki(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let s=e.parent;const o=e.proxy,a=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const u=s.ec;if(u){for(let l=0;l<u.length;l++)if(u[l](t,o,a)===!1)return}s=s.parent}const c=e.appContext.config.errorHandler;if(c){_r(),ur(c,null,10,[t,o,a]),Er();return}}mI(t,n,i,r)}function mI(t,e,n,r=!0){console.error(t)}let Ds=!1,lu=!1;const _t=[];let dn=0;const yi=[];let Xn=null,xr=0;const Ym=Promise.resolve();let Oh=null;function Wi(t){const e=Oh||Ym;return t?e.then(this?t.bind(this):t):e}function yI(t){let e=dn+1,n=_t.length;for(;e<n;){const r=e+n>>>1,i=_t[r],s=Ms(i);s<t||s===t&&i.pre?e=r+1:n=r}return e}function uc(t){(!_t.length||!_t.includes(t,Ds&&t.allowRecurse?dn+1:dn))&&(t.id==null?_t.push(t):_t.splice(yI(t.id),0,t),Jm())}function Jm(){!Ds&&!lu&&(lu=!0,Oh=Ym.then(Xm))}function vI(t){const e=_t.indexOf(t);e>dn&&_t.splice(e,1)}function uu(t){le(t)?yi.push(...t):(!Xn||!Xn.includes(t,t.allowRecurse?xr+1:xr))&&yi.push(t),Jm()}function Ad(t,e,n=Ds?dn+1:0){for(;n<_t.length;n++){const r=_t[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;_t.splice(n,1),n--,r()}}}function wa(t){if(yi.length){const e=[...new Set(yi)].sort((n,r)=>Ms(n)-Ms(r));if(yi.length=0,Xn){Xn.push(...e);return}for(Xn=e,xr=0;xr<Xn.length;xr++)Xn[xr]();Xn=null,xr=0}}const Ms=t=>t.id==null?1/0:t.id,wI=(t,e)=>{const n=Ms(t)-Ms(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Xm(t){lu=!1,Ds=!0,_t.sort(wI);try{for(dn=0;dn<_t.length;dn++){const e=_t[dn];e&&e.active!==!1&&ur(e,null,14)}}finally{dn=0,_t.length=0,wa(),Ds=!1,Oh=null,(_t.length||yi.length)&&Xm()}}function _I(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Be;let i=n;const s=e.startsWith("update:"),o=s&&e.slice(7);if(o&&o in r){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:p}=r[l]||Be;p&&(i=n.map(m=>We(m)?m.trim():m)),d&&(i=n.map(ma))}let a,c=r[a=ol(e)]||r[a=ol(Tn(e))];!c&&s&&(c=r[a=ol(qi(e))]),c&&Qt(c,t,6,i);const u=r[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Qt(u,t,6,i)}}function Zm(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!de(t)){const c=u=>{const l=Zm(u,e,!0);l&&(a=!0,it(o,l))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(Me(t)&&r.set(t,null),null):(le(s)?s.forEach(c=>o[c]=null):it(o,s),Me(t)&&r.set(t,o),o)}function hc(t,e){return!t||!so(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ae(t,e[0].toLowerCase()+e.slice(1))||Ae(t,qi(e))||Ae(t,e))}let rt=null,fc=null;function _a(t){const e=rt;return rt=t,fc=t&&t.type.__scopeId||null,e}function nF(t){fc=t}function rF(){fc=null}function ey(t,e=rt,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&$d(-1);const s=_a(e);let o;try{o=t(...i)}finally{_a(s),r._d&&$d(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function cl(t){const{type:e,vnode:n,proxy:r,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:u,renderCache:l,props:d,data:p,setupState:m,ctx:_,inheritAttrs:S}=t,x=_a(t);let F,b;try{if(n.shapeFlag&4){const T=i||r,P=T;F=qt(u.call(P,T,l,d,m,p,_)),b=a}else{const T=e;F=qt(T.length>1?T(d,{attrs:a,slots:o,emit:c}):T(d,null)),b=e.props?a:II(a)}}catch(T){_s.length=0,Ki(T,t,1),F=Ke(It)}let E=F;if(b&&S!==!1){const T=Object.keys(b),{shapeFlag:P}=E;T.length&&P&7&&(s&&T.some(Ih)&&(b=bI(b,s)),E=Fn(E,b,!1,!0))}return n.dirs&&(E=Fn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),F=E,_a(x),F}function EI(t,e=!0){let n;for(let r=0;r<t.length;r++){const i=t[r];if(Ni(i)){if(i.type!==It||i.children==="v-if"){if(n)return;n=i}}else return}return n}const II=t=>{let e;for(const n in t)(n==="class"||n==="style"||so(n))&&((e||(e={}))[n]=t[n]);return e},bI=(t,e)=>{const n={};for(const r in t)(!Ih(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function TI(t,e,n){const{props:r,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?kd(r,o,u):!!o;if(c&8){const l=e.dynamicProps;for(let d=0;d<l.length;d++){const p=l[d];if(o[p]!==r[p]&&!hc(u,p))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?kd(r,o,u):!0:!!o;return!1}function kd(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(e[s]!==t[s]&&!hc(n,s))return!0}return!1}function Dh({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const ty="components";function iF(t,e){return ry(ty,t,!0,e)||t}const ny=Symbol.for("v-ndc");function SI(t){return We(t)?ry(ty,t,!1)||t:t||ny}function ry(t,e,n=!0,r=!1){const i=rt||ot;if(i){const s=i.type;{const a=Eu(s,!1);if(a&&(a===e||a===Tn(e)||a===sc(Tn(e))))return s}const o=Rd(i[t]||s[t],e)||Rd(i.appContext[t],e);return!o&&r?s:o}}function Rd(t,e){return t&&(t[e]||t[Tn(e)]||t[sc(Tn(e))])}const iy=t=>t.__isSuspense;let hu=0;const CI={name:"Suspense",__isSuspense:!0,process(t,e,n,r,i,s,o,a,c,u){if(t==null)AI(e,n,r,i,s,o,a,c,u);else{if(s&&s.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}kI(t,e,n,r,i,o,a,c,u)}},hydrate:RI,create:Mh,normalize:xI},sy=CI;function Ls(t,e){const n=t.props&&t.props[e];de(n)&&n()}function AI(t,e,n,r,i,s,o,a,c){const{p:u,o:{createElement:l}}=c,d=l("div"),p=t.suspense=Mh(t,i,r,e,d,n,s,o,a,c);u(null,p.pendingBranch=t.ssContent,d,null,r,p,s,o),p.deps>0?(Ls(t,"onPending"),Ls(t,"onFallback"),u(null,t.ssFallback,e,n,r,null,s,o),vi(p,t.ssFallback)):p.resolve(!1,!0)}function kI(t,e,n,r,i,s,o,a,{p:c,um:u,o:{createElement:l}}){const d=e.suspense=t.suspense;d.vnode=e,e.el=t.el;const p=e.ssContent,m=e.ssFallback,{activeBranch:_,pendingBranch:S,isInFallback:x,isHydrating:F}=d;if(S)d.pendingBranch=p,tn(p,S)?(c(S,p,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():x&&(F||(c(_,m,n,r,i,null,s,o,a),vi(d,m)))):(d.pendingId=hu++,F?(d.isHydrating=!1,d.activeBranch=S):u(S,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=l("div"),x?(c(null,p,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(c(_,m,n,r,i,null,s,o,a),vi(d,m))):_&&tn(p,_)?(c(_,p,n,r,i,d,s,o,a),d.resolve(!0)):(c(null,p,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(_&&tn(p,_))c(_,p,n,r,i,d,s,o,a),vi(d,p);else if(Ls(e,"onPending"),d.pendingBranch=p,p.shapeFlag&512?d.pendingId=p.component.suspenseId:d.pendingId=hu++,c(null,p,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:b,pendingId:E}=d;b>0?setTimeout(()=>{d.pendingId===E&&d.fallback(m)},b):b===0&&d.fallback(m)}}function Mh(t,e,n,r,i,s,o,a,c,u,l=!1){const{p:d,m:p,um:m,n:_,o:{parentNode:S,remove:x}}=u;let F;const b=PI(t);b&&e&&e.pendingBranch&&(F=e.pendingId,e.deps++);const E=t.props?Am(t.props.timeout):void 0,T=s,P={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:i,deps:0,pendingId:hu++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!l,isHydrating:l,isUnmounted:!1,effects:[],resolve(A=!1,$=!1){const{vnode:O,activeBranch:V,pendingBranch:H,pendingId:B,effects:k,parentComponent:Q,container:ee}=P;let ye=!1;P.isHydrating?P.isHydrating=!1:A||(ye=V&&H.transition&&H.transition.mode==="out-in",ye&&(V.transition.afterLeave=()=>{B===P.pendingId&&(p(H,ee,s===T?_(V):s,0),uu(k))}),V&&(S(V.el)!==P.hiddenContainer&&(s=_(V)),m(V,Q,P,!0)),ye||p(H,ee,s,0)),vi(P,H),P.pendingBranch=null,P.isInFallback=!1;let J=P.parent,ce=!1;for(;J;){if(J.pendingBranch){J.effects.push(...k),ce=!0;break}J=J.parent}!ce&&!ye&&uu(k),P.effects=[],b&&e&&e.pendingBranch&&F===e.pendingId&&(e.deps--,e.deps===0&&!$&&e.resolve()),Ls(O,"onResolve")},fallback(A){if(!P.pendingBranch)return;const{vnode:$,activeBranch:O,parentComponent:V,container:H,namespace:B}=P;Ls($,"onFallback");const k=_(O),Q=()=>{P.isInFallback&&(d(null,A,H,k,V,null,B,a,c),vi(P,A))},ee=A.transition&&A.transition.mode==="out-in";ee&&(O.transition.afterLeave=Q),P.isInFallback=!0,m(O,V,null,!0),ee||Q()},move(A,$,O){P.activeBranch&&p(P.activeBranch,A,$,O),P.container=A},next(){return P.activeBranch&&_(P.activeBranch)},registerDep(A,$){const O=!!P.pendingBranch;O&&P.deps++;const V=A.vnode.el;A.asyncDep.catch(H=>{Ki(H,A,0)}).then(H=>{if(A.isUnmounted||P.isUnmounted||P.pendingId!==A.suspenseId)return;A.asyncResolved=!0;const{vnode:B}=A;_u(A,H,!1),V&&(B.el=V);const k=!V&&A.subTree.el;$(A,B,S(V||A.subTree.el),V?null:_(A.subTree),P,o,c),k&&x(k),Dh(A,B.el),O&&--P.deps===0&&P.resolve()})},unmount(A,$){P.isUnmounted=!0,P.activeBranch&&m(P.activeBranch,n,A,$),P.pendingBranch&&m(P.pendingBranch,n,A,$)}};return P}function RI(t,e,n,r,i,s,o,a,c){const u=e.suspense=Mh(e,r,n,t.parentNode,document.createElement("div"),null,i,s,o,a,!0),l=c(t,u.pendingBranch=e.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),l}function xI(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=xd(r?n.default:n),t.ssFallback=r?xd(n.fallback):Ke(It)}function xd(t){let e;if(de(t)){const n=Pi&&t._c;n&&(t._d=!1,pn()),t=t(),n&&(t._d=!0,e=Gt,Oy())}return le(t)&&(t=EI(t)),t=qt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function oy(t,e){e&&e.pendingBranch?le(t)?e.effects.push(...t):e.effects.push(t):uu(t)}function vi(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let i=e.el;for(;!i&&e.component;)e=e.component.subTree,i=e.el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,Dh(r,i))}function PI(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const NI=Symbol.for("v-scx"),OI=()=>Pt(NI);function DI(t,e){return Lh(t,null,e)}const Uo={};function Vr(t,e,n){return Lh(t,e,n)}function Lh(t,e,{immediate:n,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=Be){if(e&&s){const A=e;e=(...$)=>{A(...$),P()}}const c=ot,u=A=>r===!0?A:Nr(A,r===!1?1:void 0);let l,d=!1,p=!1;if(gt(t)?(l=()=>t.value,d=va(t)):ys(t)?(l=()=>u(t),d=!0):le(t)?(p=!0,d=t.some(A=>ys(A)||va(A)),l=()=>t.map(A=>{if(gt(A))return A.value;if(ys(A))return u(A);if(de(A))return ur(A,c,2)})):de(t)?e?l=()=>ur(t,c,2):l=()=>(m&&m(),Qt(t,c,3,[_])):l=zt,e&&r){const A=l;l=()=>Nr(A())}let m,_=A=>{m=E.onStop=()=>{ur(A,c,4),m=E.onStop=void 0}},S;if(uo)if(_=zt,e?n&&Qt(e,c,3,[l(),p?[]:void 0,_]):l(),i==="sync"){const A=OI();S=A.__watcherHandles||(A.__watcherHandles=[])}else return zt;let x=p?new Array(t.length).fill(Uo):Uo;const F=()=>{if(!(!E.active||!E.dirty))if(e){const A=E.run();(r||d||(p?A.some(($,O)=>gr($,x[O])):gr(A,x)))&&(m&&m(),Qt(e,c,3,[A,x===Uo?void 0:p&&x[0]===Uo?[]:x,_]),x=A)}else E.run()};F.allowRecurse=!!e;let b;i==="sync"?b=F:i==="post"?b=()=>ht(F,c&&c.suspense):(F.pre=!0,c&&(F.id=c.uid),b=()=>uc(F));const E=new Ch(l,zt,b),T=jE(),P=()=>{E.stop(),T&&bh(T.effects,E)};return e?n?F():x=E.run():i==="post"?ht(E.run.bind(E),c&&c.suspense):E.run(),S&&S.push(P),P}function MI(t,e,n){const r=this.proxy,i=We(t)?t.includes(".")?ay(r,t):()=>r[t]:t.bind(r,r);let s;de(e)?s=e:(s=e.handler,n=e);const o=Kr(this),a=Lh(i,s.bind(r),n);return o(),a}function ay(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Nr(t,e=1/0,n){if(e<=0||!Me(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,gt(t))Nr(t.value,e,n);else if(le(t))for(let r=0;r<t.length;r++)Nr(t[r],e,n);else if(rc(t)||pi(t))t.forEach(r=>{Nr(r,e,n)});else if(Sm(t))for(const r in t)Nr(t[r],e,n);return t}function sF(t,e){if(rt===null)return t;const n=mc(rt)||rt.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=Be]=e[i];s&&(de(s)&&(s={mounted:s,updated:s}),s.deep&&Nr(o),r.push({dir:s,instance:n,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function un(t,e,n,r){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[r];c&&(_r(),Qt(c,n,8,[t.el,a,t,e]),Er())}}const Zn=Symbol("_leaveCb"),Bo=Symbol("_enterCb");function LI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pc(()=>{t.isMounted=!0}),gc(()=>{t.isUnmounting=!0}),t}const Vt=[Function,Array],cy={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Vt,onEnter:Vt,onAfterEnter:Vt,onEnterCancelled:Vt,onBeforeLeave:Vt,onLeave:Vt,onAfterLeave:Vt,onLeaveCancelled:Vt,onBeforeAppear:Vt,onAppear:Vt,onAfterAppear:Vt,onAppearCancelled:Vt},FI={name:"BaseTransition",props:cy,setup(t,{slots:e}){const n=lo(),r=LI();return()=>{const i=e.default&&uy(e.default(),!0);if(!i||!i.length)return;let s=i[0];if(i.length>1){for(const p of i)if(p.type!==It){s=p;break}}const o=Re(t),{mode:a}=o;if(r.isLeaving)return ll(s);const c=Pd(s);if(!c)return ll(s);const u=fu(c,o,r,n);Ea(c,u);const l=n.subTree,d=l&&Pd(l);if(d&&d.type!==It&&!tn(c,d)){const p=fu(d,o,r,n);if(Ea(d,p),a==="out-in"&&c.type!==It)return r.isLeaving=!0,p.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},ll(s);a==="in-out"&&c.type!==It&&(p.delayLeave=(m,_,S)=>{const x=ly(r,d);x[String(d.key)]=d,m[Zn]=()=>{_(),m[Zn]=void 0,delete u.delayedLeave},u.delayedLeave=S})}return s}}},UI=FI;function ly(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function fu(t,e,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:c,onAfterEnter:u,onEnterCancelled:l,onBeforeLeave:d,onLeave:p,onAfterLeave:m,onLeaveCancelled:_,onBeforeAppear:S,onAppear:x,onAfterAppear:F,onAppearCancelled:b}=e,E=String(t.key),T=ly(n,t),P=(O,V)=>{O&&Qt(O,r,9,V)},A=(O,V)=>{const H=V[1];P(O,V),le(O)?O.every(B=>B.length<=1)&&H():O.length<=1&&H()},$={mode:s,persisted:o,beforeEnter(O){let V=a;if(!n.isMounted)if(i)V=S||a;else return;O[Zn]&&O[Zn](!0);const H=T[E];H&&tn(t,H)&&H.el[Zn]&&H.el[Zn](),P(V,[O])},enter(O){let V=c,H=u,B=l;if(!n.isMounted)if(i)V=x||c,H=F||u,B=b||l;else return;let k=!1;const Q=O[Bo]=ee=>{k||(k=!0,ee?P(B,[O]):P(H,[O]),$.delayedLeave&&$.delayedLeave(),O[Bo]=void 0)};V?A(V,[O,Q]):Q()},leave(O,V){const H=String(t.key);if(O[Bo]&&O[Bo](!0),n.isUnmounting)return V();P(d,[O]);let B=!1;const k=O[Zn]=Q=>{B||(B=!0,V(),Q?P(_,[O]):P(m,[O]),O[Zn]=void 0,T[H]===t&&delete T[H])};T[H]=t,p?A(p,[O,k]):k()},clone(O){return fu(O,e,n,r)}};return $}function ll(t){if(co(t))return t=Fn(t),t.children=null,t}function Pd(t){if(!co(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&de(n.default))return n.default()}}function Ea(t,e){t.shapeFlag&6&&t.component?Ea(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function uy(t,e=!1,n){let r=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===Ot?(o.patchFlag&128&&i++,r=r.concat(uy(o.children,e,a))):(e||o.type!==It)&&r.push(a!=null?Fn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function ao(t,e){return de(t)?it({name:t.name},e,{setup:t}):t}const jr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function du(t){de(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=t;let c=null,u,l=0;const d=()=>(l++,c=null,p()),p=()=>{let m;return c||(m=c=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),a)return new Promise((S,x)=>{a(_,()=>S(d()),()=>x(_),l+1)});throw _}).then(_=>m!==c&&c?c:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),u=_,_)))};return ao({name:"AsyncComponentWrapper",__asyncLoader:p,get __asyncResolved(){return u},setup(){const m=ot;if(u)return()=>ul(u,m);const _=b=>{c=null,Ki(b,m,13,!r)};if(o&&m.suspense||uo)return p().then(b=>()=>ul(b,m)).catch(b=>(_(b),()=>r?Ke(r,{error:b}):null));const S=wn(!1),x=wn(),F=wn(!!i);return i&&setTimeout(()=>{F.value=!1},i),s!=null&&setTimeout(()=>{if(!S.value&&!x.value){const b=new Error(`Async component timed out after ${s}ms.`);_(b),x.value=b}},s),p().then(()=>{S.value=!0,m.parent&&co(m.parent.vnode)&&(m.parent.effect.dirty=!0,uc(m.parent.update))}).catch(b=>{_(b),x.value=b}),()=>{if(S.value&&u)return ul(u,m);if(x.value&&r)return Ke(r,{error:x.value});if(n&&!F.value)return Ke(n)}}})}function ul(t,e){const{ref:n,props:r,children:i,ce:s}=e.vnode,o=Ke(t,r,i);return o.ref=n,o.ce=s,delete e.vnode.ce,o}const co=t=>t.type.__isKeepAlive,BI={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=lo(),r=n.ctx;if(!r.renderer)return()=>{const b=e.default&&e.default();return b&&b.length===1?b[0]:b};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:c,m:u,um:l,o:{createElement:d}}}=r,p=d("div");r.activate=(b,E,T,P,A)=>{const $=b.component;u(b,E,T,0,a),c($.vnode,b,E,T,$,a,P,b.slotScopeIds,A),ht(()=>{$.isDeactivated=!1,$.a&&mi($.a);const O=b.props&&b.props.onVnodeMounted;O&&Nt(O,$.parent,b)},a)},r.deactivate=b=>{const E=b.component;u(b,p,null,1,a),ht(()=>{E.da&&mi(E.da);const T=b.props&&b.props.onVnodeUnmounted;T&&Nt(T,E.parent,b),E.isDeactivated=!0},a)};function m(b){hl(b),l(b,n,a,!0)}function _(b){i.forEach((E,T)=>{const P=Eu(E.type);P&&(!b||!b(P))&&S(T)})}function S(b){const E=i.get(b);!o||!tn(E,o)?m(E):o&&hl(o),i.delete(b),s.delete(b)}Vr(()=>[t.include,t.exclude],([b,E])=>{b&&_(T=>cs(b,T)),E&&_(T=>!cs(E,T))},{flush:"post",deep:!0});let x=null;const F=()=>{x!=null&&i.set(x,fl(n.subTree))};return pc(F),py(F),gc(()=>{i.forEach(b=>{const{subTree:E,suspense:T}=n,P=fl(E);if(b.type===P.type&&b.key===P.key){hl(P);const A=P.component.da;A&&ht(A,T);return}m(b)})}),()=>{if(x=null,!e.default)return null;const b=e.default(),E=b[0];if(b.length>1)return o=null,b;if(!Ni(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let T=fl(E);const P=T.type,A=Eu(jr(T)?T.type.__asyncResolved||{}:P),{include:$,exclude:O,max:V}=t;if($&&(!A||!cs($,A))||O&&A&&cs(O,A))return o=T,E;const H=T.key==null?P:T.key,B=i.get(H);return T.el&&(T=Fn(T),E.shapeFlag&128&&(E.ssContent=T)),x=H,B?(T.el=B.el,T.component=B.component,T.transition&&Ea(T,T.transition),T.shapeFlag|=512,s.delete(H),s.add(H)):(s.add(H),V&&s.size>parseInt(V,10)&&S(s.values().next().value)),T.shapeFlag|=256,o=T,iy(E.type)?E:T}}},$I=BI;function cs(t,e){return le(t)?t.some(n=>cs(n,e)):We(t)?t.split(",").includes(e):AE(t)?t.test(e):!1}function hy(t,e){dy(t,"a",e)}function fy(t,e){dy(t,"da",e)}function dy(t,e,n=ot){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(dc(e,r,n),n){let i=n.parent;for(;i&&i.parent;)co(i.parent.vnode)&&VI(r,e,n,i),i=i.parent}}function VI(t,e,n,r){const i=dc(e,t,r,!0);gy(()=>{bh(r[e],i)},n)}function hl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function fl(t){return t.shapeFlag&128?t.ssContent:t}function dc(t,e,n=ot,r=!1){if(n){const i=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;_r();const a=Kr(n),c=Qt(e,n,t,o);return a(),Er(),c});return r?i.unshift(s):i.push(s),s}}const Hn=t=>(e,n=ot)=>(!uo||t==="sp")&&dc(t,(...r)=>e(...r),n),jI=Hn("bm"),pc=Hn("m"),HI=Hn("bu"),py=Hn("u"),gc=Hn("bum"),gy=Hn("um"),qI=Hn("sp"),KI=Hn("rtg"),WI=Hn("rtc");function my(t,e=ot){dc("ec",t,e)}function oF(t,e,n,r){let i;const s=n;if(le(t)||We(t)){i=new Array(t.length);for(let o=0,a=t.length;o<a;o++)i[o]=e(t[o],o,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,s)}else if(Me(t))if(t[Symbol.iterator])i=Array.from(t,(o,a)=>e(o,a,void 0,s));else{const o=Object.keys(t);i=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const u=o[a];i[a]=e(t[u],u,a,s)}}else i=[];return i}function aF(t,e,n={},r,i){if(rt.isCE||rt.parent&&jr(rt.parent)&&rt.parent.isCE)return Ke("slot",n,r);let s=t[e];s&&s._c&&(s._d=!1),pn();const o=s&&yy(s(n)),a=rr(Ot,{key:n.key||o&&o.key||`_${e}`},o||[],o&&t._===1?64:-2);return a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function yy(t){return t.some(e=>Ni(e)?!(e.type===It||e.type===Ot&&!yy(e.children)):!0)?t:null}const pu=t=>t?By(t)?mc(t)||t.proxy:pu(t.parent):null,vs=it(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>pu(t.parent),$root:t=>pu(t.root),$emit:t=>t.emit,$options:t=>Fh(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,uc(t.update)}),$nextTick:t=>t.n||(t.n=Wi.bind(t.proxy)),$watch:t=>MI.bind(t)}),dl=(t,e)=>t!==Be&&!t.__isScriptSetup&&Ae(t,e),zI={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let u;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return s[e]}else{if(dl(r,e))return o[e]=1,r[e];if(i!==Be&&Ae(i,e))return o[e]=2,i[e];if((u=t.propsOptions[0])&&Ae(u,e))return o[e]=3,s[e];if(n!==Be&&Ae(n,e))return o[e]=4,n[e];gu&&(o[e]=0)}}const l=vs[e];let d,p;if(l)return e==="$attrs"&&Lt(t.attrs,"get",""),l(t);if((d=a.__cssModules)&&(d=d[e]))return d;if(n!==Be&&Ae(n,e))return o[e]=4,n[e];if(p=c.config.globalProperties,Ae(p,e))return p[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:s}=t;return dl(i,e)?(i[e]=n,!0):r!==Be&&Ae(r,e)?(r[e]=n,!0):Ae(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||t!==Be&&Ae(t,o)||dl(e,o)||(a=s[0])&&Ae(a,o)||Ae(r,o)||Ae(vs,o)||Ae(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ae(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Nd(t){return le(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function cF(t){const e=lo();let n=t();return wu(),Th(n)&&(n=n.catch(r=>{throw Kr(e),r})),[n,()=>Kr(e)]}let gu=!0;function GI(t){const e=Fh(t),n=t.proxy,r=t.ctx;gu=!1,e.beforeCreate&&Od(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:u,created:l,beforeMount:d,mounted:p,beforeUpdate:m,updated:_,activated:S,deactivated:x,beforeDestroy:F,beforeUnmount:b,destroyed:E,unmounted:T,render:P,renderTracked:A,renderTriggered:$,errorCaptured:O,serverPrefetch:V,expose:H,inheritAttrs:B,components:k,directives:Q,filters:ee}=e;if(u&&QI(u,r,null),o)for(const ce in o){const re=o[ce];de(re)&&(r[ce]=re.bind(n))}if(i){const ce=i.call(n,n);Me(ce)&&(t.data=Ir(ce))}if(gu=!0,s)for(const ce in s){const re=s[ce],Xe=de(re)?re.bind(n,n):de(re.get)?re.get.bind(n,n):zt,kt=!de(re)&&de(re.set)?re.set.bind(n):zt,mt=nn({get:Xe,set:kt});Object.defineProperty(r,ce,{enumerable:!0,configurable:!0,get:()=>mt.value,set:Ge=>mt.value=Ge})}if(a)for(const ce in a)vy(a[ce],r,n,ce);if(c){const ce=de(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(re=>{_i(re,ce[re])})}l&&Od(l,t,"c");function J(ce,re){le(re)?re.forEach(Xe=>ce(Xe.bind(n))):re&&ce(re.bind(n))}if(J(jI,d),J(pc,p),J(HI,m),J(py,_),J(hy,S),J(fy,x),J(my,O),J(WI,A),J(KI,$),J(gc,b),J(gy,T),J(qI,V),le(H))if(H.length){const ce=t.exposed||(t.exposed={});H.forEach(re=>{Object.defineProperty(ce,re,{get:()=>n[re],set:Xe=>n[re]=Xe})})}else t.exposed||(t.exposed={});P&&t.render===zt&&(t.render=P),B!=null&&(t.inheritAttrs=B),k&&(t.components=k),Q&&(t.directives=Q)}function QI(t,e,n=zt){le(t)&&(t=mu(t));for(const r in t){const i=t[r];let s;Me(i)?"default"in i?s=Pt(i.from||r,i.default,!0):s=Pt(i.from||r):s=Pt(i),gt(s)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[r]=s}}function Od(t,e,n){Qt(le(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function vy(t,e,n,r){const i=r.includes(".")?ay(n,r):()=>n[r];if(We(t)){const s=e[t];de(s)&&Vr(i,s)}else if(de(t))Vr(i,t.bind(n));else if(Me(t))if(le(t))t.forEach(s=>vy(s,e,n,r));else{const s=de(t.handler)?t.handler.bind(n):e[t.handler];de(s)&&Vr(i,s,t)}}function Fh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!n&&!r?c=e:(c={},i.length&&i.forEach(u=>Ia(c,u,o,!0)),Ia(c,e,o)),Me(e)&&s.set(e,c),c}function Ia(t,e,n,r=!1){const{mixins:i,extends:s}=e;s&&Ia(t,s,n,!0),i&&i.forEach(o=>Ia(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=YI[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const YI={data:Dd,props:Md,emits:Md,methods:ls,computed:ls,beforeCreate:Rt,created:Rt,beforeMount:Rt,mounted:Rt,beforeUpdate:Rt,updated:Rt,beforeDestroy:Rt,beforeUnmount:Rt,destroyed:Rt,unmounted:Rt,activated:Rt,deactivated:Rt,errorCaptured:Rt,serverPrefetch:Rt,components:ls,directives:ls,watch:XI,provide:Dd,inject:JI};function Dd(t,e){return e?t?function(){return it(de(t)?t.call(this,this):t,de(e)?e.call(this,this):e)}:e:t}function JI(t,e){return ls(mu(t),mu(e))}function mu(t){if(le(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Rt(t,e){return t?[...new Set([].concat(t,e))]:e}function ls(t,e){return t?it(Object.create(null),t,e):e}function Md(t,e){return t?le(t)&&le(e)?[...new Set([...t,...e])]:it(Object.create(null),Nd(t),Nd(e??{})):e}function XI(t,e){if(!t)return e;if(!e)return t;const n=it(Object.create(null),t);for(const r in e)n[r]=Rt(t[r],e[r]);return n}function wy(){return{app:null,config:{isNativeTag:SE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ZI=0;function eb(t,e){return function(r,i=null){de(r)||(r=it({},r)),i!=null&&!Me(i)&&(i=null);const s=wy(),o=new WeakSet;let a=!1;const c=s.app={_uid:ZI++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:Vy,get config(){return s.config},set config(u){},use(u,...l){return o.has(u)||(u&&de(u.install)?(o.add(u),u.install(c,...l)):de(u)&&(o.add(u),u(c,...l))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,l){return l?(s.components[u]=l,c):s.components[u]},directive(u,l){return l?(s.directives[u]=l,c):s.directives[u]},mount(u,l,d){if(!a){const p=Ke(r,i);return p.appContext=s,d===!0?d="svg":d===!1&&(d=void 0),l&&e?e(p,u):t(p,u,d),a=!0,c._container=u,u.__vue_app__=c,mc(p.component)||p.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,l){return s.provides[u]=l,c},runWithContext(u){const l=wi;wi=c;try{return u()}finally{wi=l}}};return c}}let wi=null;function _i(t,e){if(ot){let n=ot.provides;const r=ot.parent&&ot.parent.provides;r===n&&(n=ot.provides=Object.create(r)),n[t]=e}}function Pt(t,e,n=!1){const r=ot||rt;if(r||wi){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:wi._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&de(e)?e.call(r&&r.proxy):e}}function _y(){return!!(ot||rt||wi)}const Ey={},Iy=()=>Object.create(Ey),by=t=>Object.getPrototypeOf(t)===Ey;function tb(t,e,n,r=!1){const i={},s=Iy();t.propsDefaults=Object.create(null),Ty(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=r?i:oo(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function nb(t,e,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=Re(i),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const l=t.vnode.dynamicProps;for(let d=0;d<l.length;d++){let p=l[d];if(hc(t.emitsOptions,p))continue;const m=e[p];if(c)if(Ae(s,p))m!==s[p]&&(s[p]=m,u=!0);else{const _=Tn(p);i[_]=yu(c,a,_,m,t,!1)}else m!==s[p]&&(s[p]=m,u=!0)}}}else{Ty(t,e,i,s)&&(u=!0);let l;for(const d in a)(!e||!Ae(e,d)&&((l=qi(d))===d||!Ae(e,l)))&&(c?n&&(n[d]!==void 0||n[l]!==void 0)&&(i[d]=yu(c,a,d,void 0,t,!0)):delete i[d]);if(s!==a)for(const d in s)(!e||!Ae(e,d))&&(delete s[d],u=!0)}u&&On(t.attrs,"set","")}function Ty(t,e,n,r){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(gi(c))continue;const u=e[c];let l;i&&Ae(i,l=Tn(c))?!s||!s.includes(l)?n[l]=u:(a||(a={}))[l]=u:hc(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(s){const c=Re(n),u=a||Be;for(let l=0;l<s.length;l++){const d=s[l];n[d]=yu(i,c,d,u[d],t,!Ae(u,d))}}return o}function yu(t,e,n,r,i,s){const o=t[n];if(o!=null){const a=Ae(o,"default");if(a&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&de(c)){const{propsDefaults:u}=i;if(n in u)r=u[n];else{const l=Kr(i);r=u[n]=c.call(null,e),l()}}else r=c}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===qi(n))&&(r=!0))}return r}function Sy(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!de(t)){const l=d=>{c=!0;const[p,m]=Sy(d,e,!0);it(o,p),m&&a.push(...m)};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}if(!s&&!c)return Me(t)&&r.set(t,di),di;if(le(s))for(let l=0;l<s.length;l++){const d=Tn(s[l]);Ld(d)&&(o[d]=Be)}else if(s)for(const l in s){const d=Tn(l);if(Ld(d)){const p=s[l],m=o[d]=le(p)||de(p)?{type:p}:it({},p);if(m){const _=Bd(Boolean,m.type),S=Bd(String,m.type);m[0]=_>-1,m[1]=S<0||_<S,(_>-1||Ae(m,"default"))&&a.push(d)}}}const u=[o,a];return Me(t)&&r.set(t,u),u}function Ld(t){return t[0]!=="$"&&!gi(t)}function Fd(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function Ud(t,e){return Fd(t)===Fd(e)}function Bd(t,e){return le(e)?e.findIndex(n=>Ud(n,t)):de(e)&&Ud(e,t)?0:-1}const Cy=t=>t[0]==="_"||t==="$stable",Uh=t=>le(t)?t.map(qt):[qt(t)],rb=(t,e,n)=>{if(e._n)return e;const r=ey((...i)=>Uh(e(...i)),n);return r._c=!1,r},Ay=(t,e,n)=>{const r=t._ctx;for(const i in t){if(Cy(i))continue;const s=t[i];if(de(s))e[i]=rb(i,s,r);else if(s!=null){const o=Uh(s);e[i]=()=>o}}},ky=(t,e)=>{const n=Uh(e);t.slots.default=()=>n},ib=(t,e)=>{const n=t.slots=Iy();if(t.vnode.shapeFlag&32){const r=e._;r?(it(n,e),Cm(n,"_",r,!0)):Ay(e,n)}else e&&ky(t,e)},sb=(t,e,n)=>{const{vnode:r,slots:i}=t;let s=!0,o=Be;if(r.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:(it(i,e),!n&&a===1&&delete i._):(s=!e.$stable,Ay(e,i)),o=e}else e&&(ky(t,e),o={default:1});if(s)for(const a in i)!Cy(a)&&o[a]==null&&delete i[a]};function ba(t,e,n,r,i=!1){if(le(t)){t.forEach((p,m)=>ba(p,e&&(le(e)?e[m]:e),n,r,i));return}if(jr(r)&&!i)return;const s=r.shapeFlag&4?mc(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:c}=t,u=e&&e.r,l=a.refs===Be?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==c&&(We(u)?(l[u]=null,Ae(d,u)&&(d[u]=null)):gt(u)&&(u.value=null)),de(c))ur(c,a,12,[o,l]);else{const p=We(c),m=gt(c);if(p||m){const _=()=>{if(t.f){const S=p?Ae(d,c)?d[c]:l[c]:c.value;i?le(S)&&bh(S,s):le(S)?S.includes(s)||S.push(s):p?(l[c]=[s],Ae(d,c)&&(d[c]=l[c])):(c.value=[s],t.k&&(l[t.k]=c.value))}else p?(l[c]=o,Ae(d,c)&&(d[c]=o)):m&&(c.value=o,t.k&&(l[t.k]=o))};o?(_.id=-1,ht(_,n)):_()}}}let zn=!1;const ob=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",ab=t=>t.namespaceURI.includes("MathML"),$o=t=>{if(ob(t))return"svg";if(ab(t))return"mathml"},Vo=t=>t.nodeType===8;function cb(t){const{mt:e,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:c,createComment:u}}=t,l=(E,T)=>{if(!T.hasChildNodes()){n(null,E,T),wa(),T._vnode=E;return}zn=!1,d(T.firstChild,E,null,null,null),wa(),T._vnode=E,zn&&console.error("Hydration completed but contains mismatches.")},d=(E,T,P,A,$,O=!1)=>{O=O||!!T.dynamicChildren;const V=Vo(E)&&E.data==="[",H=()=>S(E,T,P,A,$,V),{type:B,ref:k,shapeFlag:Q,patchFlag:ee}=T;let ye=E.nodeType;T.el=E,ee===-2&&(O=!1,T.dynamicChildren=null);let J=null;switch(B){case xi:ye!==3?T.children===""?(c(T.el=i(""),o(E),E),J=E):J=H():(E.data!==T.children&&(zn=!0,E.data=T.children),J=s(E));break;case It:b(E)?(J=s(E),F(T.el=E.content.firstChild,E,P)):ye!==8||V?J=H():J=s(E);break;case ws:if(V&&(E=s(E),ye=E.nodeType),ye===1||ye===3){J=E;const ce=!T.children.length;for(let re=0;re<T.staticCount;re++)ce&&(T.children+=J.nodeType===1?J.outerHTML:J.data),re===T.staticCount-1&&(T.anchor=J),J=s(J);return V?s(J):J}else H();break;case Ot:V?J=_(E,T,P,A,$,O):J=H();break;default:if(Q&1)(ye!==1||T.type.toLowerCase()!==E.tagName.toLowerCase())&&!b(E)?J=H():J=p(E,T,P,A,$,O);else if(Q&6){T.slotScopeIds=$;const ce=o(E);if(V?J=x(E):Vo(E)&&E.data==="teleport start"?J=x(E,E.data,"teleport end"):J=s(E),e(T,ce,null,P,A,$o(ce),O),jr(T)){let re;V?(re=Ke(Ot),re.anchor=J?J.previousSibling:ce.lastChild):re=E.nodeType===3?Uy(""):Ke("div"),re.el=E,T.component.subTree=re}}else Q&64?ye!==8?J=H():J=T.type.hydrate(E,T,P,A,$,O,t,m):Q&128&&(J=T.type.hydrate(E,T,P,A,$o(o(E)),$,O,t,d))}return k!=null&&ba(k,null,A,T),J},p=(E,T,P,A,$,O)=>{O=O||!!T.dynamicChildren;const{type:V,props:H,patchFlag:B,shapeFlag:k,dirs:Q,transition:ee}=T,ye=V==="input"||V==="option";if(ye||B!==-1){Q&&un(T,null,P,"created");let J=!1;if(b(E)){J=xy(A,ee)&&P&&P.vnode.props&&P.vnode.props.appear;const re=E.content.firstChild;J&&ee.beforeEnter(re),F(re,E,P),T.el=E=re}if(k&16&&!(H&&(H.innerHTML||H.textContent))){let re=m(E.firstChild,T,E,P,A,$,O);for(;re;){zn=!0;const Xe=re;re=re.nextSibling,a(Xe)}}else k&8&&E.textContent!==T.children&&(zn=!0,E.textContent=T.children);if(H)if(ye||!O||B&48)for(const re in H)(ye&&(re.endsWith("value")||re==="indeterminate")||so(re)&&!gi(re)||re[0]===".")&&r(E,re,null,H[re],void 0,void 0,P);else H.onClick&&r(E,"onClick",null,H.onClick,void 0,void 0,P);let ce;(ce=H&&H.onVnodeBeforeMount)&&Nt(ce,P,T),Q&&un(T,null,P,"beforeMount"),((ce=H&&H.onVnodeMounted)||Q||J)&&oy(()=>{ce&&Nt(ce,P,T),J&&ee.enter(E),Q&&un(T,null,P,"mounted")},A)}return E.nextSibling},m=(E,T,P,A,$,O,V)=>{V=V||!!T.dynamicChildren;const H=T.children,B=H.length;for(let k=0;k<B;k++){const Q=V?H[k]:H[k]=qt(H[k]);if(E)E=d(E,Q,A,$,O,V);else{if(Q.type===xi&&!Q.children)continue;zn=!0,n(null,Q,P,null,A,$,$o(P),O)}}return E},_=(E,T,P,A,$,O)=>{const{slotScopeIds:V}=T;V&&($=$?$.concat(V):V);const H=o(E),B=m(s(E),T,H,P,A,$,O);return B&&Vo(B)&&B.data==="]"?s(T.anchor=B):(zn=!0,c(T.anchor=u("]"),H,B),B)},S=(E,T,P,A,$,O)=>{if(zn=!0,T.el=null,O){const B=x(E);for(;;){const k=s(E);if(k&&k!==B)a(k);else break}}const V=s(E),H=o(E);return a(E),n(null,T,H,V,P,A,$o(H),$),V},x=(E,T="[",P="]")=>{let A=0;for(;E;)if(E=s(E),E&&Vo(E)&&(E.data===T&&A++,E.data===P)){if(A===0)return s(E);A--}return E},F=(E,T,P)=>{const A=T.parentNode;A&&A.replaceChild(E,T);let $=P;for(;$;)$.vnode.el===T&&($.vnode.el=$.subTree.el=E),$=$.parent},b=E=>E.nodeType===1&&E.tagName.toLowerCase()==="template";return[l,d]}const ht=oy;function lb(t){return Ry(t)}function ub(t){return Ry(t,cb)}function Ry(t,e){const n=km();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:u,setElementText:l,parentNode:d,nextSibling:p,setScopeId:m=zt,insertStaticContent:_}=t,S=(y,w,C,L=null,M=null,G=null,Z=void 0,z=null,Y=!!w.dynamicChildren)=>{if(y===w)return;y&&!tn(y,w)&&(L=N(y),Ge(y,M,G,!0),y=null),w.patchFlag===-2&&(Y=!1,w.dynamicChildren=null);const{type:j,ref:ne,shapeFlag:ae}=w;switch(j){case xi:x(y,w,C,L);break;case It:F(y,w,C,L);break;case ws:y==null&&b(w,C,L,Z);break;case Ot:k(y,w,C,L,M,G,Z,z,Y);break;default:ae&1?P(y,w,C,L,M,G,Z,z,Y):ae&6?Q(y,w,C,L,M,G,Z,z,Y):(ae&64||ae&128)&&j.process(y,w,C,L,M,G,Z,z,Y,te)}ne!=null&&M&&ba(ne,y&&y.ref,G,w||y,!w)},x=(y,w,C,L)=>{if(y==null)r(w.el=a(w.children),C,L);else{const M=w.el=y.el;w.children!==y.children&&u(M,w.children)}},F=(y,w,C,L)=>{y==null?r(w.el=c(w.children||""),C,L):w.el=y.el},b=(y,w,C,L)=>{[y.el,y.anchor]=_(y.children,w,C,L,y.el,y.anchor)},E=({el:y,anchor:w},C,L)=>{let M;for(;y&&y!==w;)M=p(y),r(y,C,L),y=M;r(w,C,L)},T=({el:y,anchor:w})=>{let C;for(;y&&y!==w;)C=p(y),i(y),y=C;i(w)},P=(y,w,C,L,M,G,Z,z,Y)=>{w.type==="svg"?Z="svg":w.type==="math"&&(Z="mathml"),y==null?A(w,C,L,M,G,Z,z,Y):V(y,w,M,G,Z,z,Y)},A=(y,w,C,L,M,G,Z,z)=>{let Y,j;const{props:ne,shapeFlag:ae,transition:se,dirs:he}=y;if(Y=y.el=o(y.type,G,ne&&ne.is,ne),ae&8?l(Y,y.children):ae&16&&O(y.children,Y,null,L,M,pl(y,G),Z,z),he&&un(y,null,L,"created"),$(Y,y,y.scopeId,Z,L),ne){for(const Te in ne)Te!=="value"&&!gi(Te)&&s(Y,Te,null,ne[Te],G,y.children,L,M,Ne);"value"in ne&&s(Y,"value",null,ne.value,G),(j=ne.onVnodeBeforeMount)&&Nt(j,L,y)}he&&un(y,null,L,"beforeMount");const be=xy(M,se);be&&se.beforeEnter(Y),r(Y,w,C),((j=ne&&ne.onVnodeMounted)||be||he)&&ht(()=>{j&&Nt(j,L,y),be&&se.enter(Y),he&&un(y,null,L,"mounted")},M)},$=(y,w,C,L,M)=>{if(C&&m(y,C),L)for(let G=0;G<L.length;G++)m(y,L[G]);if(M){let G=M.subTree;if(w===G){const Z=M.vnode;$(y,Z,Z.scopeId,Z.slotScopeIds,M.parent)}}},O=(y,w,C,L,M,G,Z,z,Y=0)=>{for(let j=Y;j<y.length;j++){const ne=y[j]=z?er(y[j]):qt(y[j]);S(null,ne,w,C,L,M,G,Z,z)}},V=(y,w,C,L,M,G,Z)=>{const z=w.el=y.el;let{patchFlag:Y,dynamicChildren:j,dirs:ne}=w;Y|=y.patchFlag&16;const ae=y.props||Be,se=w.props||Be;let he;if(C&&Sr(C,!1),(he=se.onVnodeBeforeUpdate)&&Nt(he,C,w,y),ne&&un(w,y,C,"beforeUpdate"),C&&Sr(C,!0),j?H(y.dynamicChildren,j,z,C,L,pl(w,M),G):Z||re(y,w,z,null,C,L,pl(w,M),G,!1),Y>0){if(Y&16)B(z,w,ae,se,C,L,M);else if(Y&2&&ae.class!==se.class&&s(z,"class",null,se.class,M),Y&4&&s(z,"style",ae.style,se.style,M),Y&8){const be=w.dynamicProps;for(let Te=0;Te<be.length;Te++){const Fe=be[Te],g=ae[Fe],h=se[Fe];(h!==g||Fe==="value")&&s(z,Fe,g,h,M,y.children,C,L,Ne)}}Y&1&&y.children!==w.children&&l(z,w.children)}else!Z&&j==null&&B(z,w,ae,se,C,L,M);((he=se.onVnodeUpdated)||ne)&&ht(()=>{he&&Nt(he,C,w,y),ne&&un(w,y,C,"updated")},L)},H=(y,w,C,L,M,G,Z)=>{for(let z=0;z<w.length;z++){const Y=y[z],j=w[z],ne=Y.el&&(Y.type===Ot||!tn(Y,j)||Y.shapeFlag&70)?d(Y.el):C;S(Y,j,ne,null,L,M,G,Z,!0)}},B=(y,w,C,L,M,G,Z)=>{if(C!==L){if(C!==Be)for(const z in C)!gi(z)&&!(z in L)&&s(y,z,C[z],null,Z,w.children,M,G,Ne);for(const z in L){if(gi(z))continue;const Y=L[z],j=C[z];Y!==j&&z!=="value"&&s(y,z,j,Y,Z,w.children,M,G,Ne)}"value"in L&&s(y,"value",C.value,L.value,Z)}},k=(y,w,C,L,M,G,Z,z,Y)=>{const j=w.el=y?y.el:a(""),ne=w.anchor=y?y.anchor:a("");let{patchFlag:ae,dynamicChildren:se,slotScopeIds:he}=w;he&&(z=z?z.concat(he):he),y==null?(r(j,C,L),r(ne,C,L),O(w.children||[],C,ne,M,G,Z,z,Y)):ae>0&&ae&64&&se&&y.dynamicChildren?(H(y.dynamicChildren,se,C,M,G,Z,z),(w.key!=null||M&&w===M.subTree)&&Py(y,w,!0)):re(y,w,C,ne,M,G,Z,z,Y)},Q=(y,w,C,L,M,G,Z,z,Y)=>{w.slotScopeIds=z,y==null?w.shapeFlag&512?M.ctx.activate(w,C,L,Z,Y):ee(w,C,L,M,G,Z,Y):ye(y,w,Y)},ee=(y,w,C,L,M,G,Z)=>{const z=y.component=vb(y,L,M);if(co(y)&&(z.ctx.renderer=te),wb(z),z.asyncDep){if(M&&M.registerDep(z,J),!y.el){const Y=z.subTree=Ke(It);F(null,Y,w,C)}}else J(z,y,w,C,M,G,Z)},ye=(y,w,C)=>{const L=w.component=y.component;if(TI(y,w,C))if(L.asyncDep&&!L.asyncResolved){ce(L,w,C);return}else L.next=w,vI(L.update),L.effect.dirty=!0,L.update();else w.el=y.el,L.vnode=w},J=(y,w,C,L,M,G,Z)=>{const z=()=>{if(y.isMounted){let{next:ne,bu:ae,u:se,parent:he,vnode:be}=y;{const f=Ny(y);if(f){ne&&(ne.el=be.el,ce(y,ne,Z)),f.asyncDep.then(()=>{y.isUnmounted||z()});return}}let Te=ne,Fe;Sr(y,!1),ne?(ne.el=be.el,ce(y,ne,Z)):ne=be,ae&&mi(ae),(Fe=ne.props&&ne.props.onVnodeBeforeUpdate)&&Nt(Fe,he,ne,be),Sr(y,!0);const g=cl(y),h=y.subTree;y.subTree=g,S(h,g,d(h.el),N(h),y,M,G),ne.el=g.el,Te===null&&Dh(y,g.el),se&&ht(se,M),(Fe=ne.props&&ne.props.onVnodeUpdated)&&ht(()=>Nt(Fe,he,ne,be),M)}else{let ne;const{el:ae,props:se}=w,{bm:he,m:be,parent:Te}=y,Fe=jr(w);if(Sr(y,!1),he&&mi(he),!Fe&&(ne=se&&se.onVnodeBeforeMount)&&Nt(ne,Te,w),Sr(y,!0),ae&&Ie){const g=()=>{y.subTree=cl(y),Ie(ae,y.subTree,y,M,null)};Fe?w.type.__asyncLoader().then(()=>!y.isUnmounted&&g()):g()}else{const g=y.subTree=cl(y);S(null,g,C,L,y,M,G),w.el=g.el}if(be&&ht(be,M),!Fe&&(ne=se&&se.onVnodeMounted)){const g=w;ht(()=>Nt(ne,Te,g),M)}(w.shapeFlag&256||Te&&jr(Te.vnode)&&Te.vnode.shapeFlag&256)&&y.a&&ht(y.a,M),y.isMounted=!0,w=C=L=null}},Y=y.effect=new Ch(z,zt,()=>uc(j),y.scope),j=y.update=()=>{Y.dirty&&Y.run()};j.id=y.uid,Sr(y,!0),j()},ce=(y,w,C)=>{w.component=y;const L=y.vnode.props;y.vnode=w,y.next=null,nb(y,w.props,L,C),sb(y,w.children,C),_r(),Ad(y),Er()},re=(y,w,C,L,M,G,Z,z,Y=!1)=>{const j=y&&y.children,ne=y?y.shapeFlag:0,ae=w.children,{patchFlag:se,shapeFlag:he}=w;if(se>0){if(se&128){kt(j,ae,C,L,M,G,Z,z,Y);return}else if(se&256){Xe(j,ae,C,L,M,G,Z,z,Y);return}}he&8?(ne&16&&Ne(j,M,G),ae!==j&&l(C,ae)):ne&16?he&16?kt(j,ae,C,L,M,G,Z,z,Y):Ne(j,M,G,!0):(ne&8&&l(C,""),he&16&&O(ae,C,L,M,G,Z,z,Y))},Xe=(y,w,C,L,M,G,Z,z,Y)=>{y=y||di,w=w||di;const j=y.length,ne=w.length,ae=Math.min(j,ne);let se;for(se=0;se<ae;se++){const he=w[se]=Y?er(w[se]):qt(w[se]);S(y[se],he,C,null,M,G,Z,z,Y)}j>ne?Ne(y,M,G,!0,!1,ae):O(w,C,L,M,G,Z,z,Y,ae)},kt=(y,w,C,L,M,G,Z,z,Y)=>{let j=0;const ne=w.length;let ae=y.length-1,se=ne-1;for(;j<=ae&&j<=se;){const he=y[j],be=w[j]=Y?er(w[j]):qt(w[j]);if(tn(he,be))S(he,be,C,null,M,G,Z,z,Y);else break;j++}for(;j<=ae&&j<=se;){const he=y[ae],be=w[se]=Y?er(w[se]):qt(w[se]);if(tn(he,be))S(he,be,C,null,M,G,Z,z,Y);else break;ae--,se--}if(j>ae){if(j<=se){const he=se+1,be=he<ne?w[he].el:L;for(;j<=se;)S(null,w[j]=Y?er(w[j]):qt(w[j]),C,be,M,G,Z,z,Y),j++}}else if(j>se)for(;j<=ae;)Ge(y[j],M,G,!0),j++;else{const he=j,be=j,Te=new Map;for(j=be;j<=se;j++){const D=w[j]=Y?er(w[j]):qt(w[j]);D.key!=null&&Te.set(D.key,j)}let Fe,g=0;const h=se-be+1;let f=!1,v=0;const I=new Array(h);for(j=0;j<h;j++)I[j]=0;for(j=he;j<=ae;j++){const D=y[j];if(g>=h){Ge(D,M,G,!0);continue}let fe;if(D.key!=null)fe=Te.get(D.key);else for(Fe=be;Fe<=se;Fe++)if(I[Fe-be]===0&&tn(D,w[Fe])){fe=Fe;break}fe===void 0?Ge(D,M,G,!0):(I[fe-be]=j+1,fe>=v?v=fe:f=!0,S(D,w[fe],C,null,M,G,Z,z,Y),g++)}const R=f?hb(I):di;for(Fe=R.length-1,j=h-1;j>=0;j--){const D=be+j,fe=w[D],Ue=D+1<ne?w[D+1].el:L;I[j]===0?S(null,fe,C,Ue,M,G,Z,z,Y):f&&(Fe<0||j!==R[Fe]?mt(fe,C,Ue,2):Fe--)}}},mt=(y,w,C,L,M=null)=>{const{el:G,type:Z,transition:z,children:Y,shapeFlag:j}=y;if(j&6){mt(y.component.subTree,w,C,L);return}if(j&128){y.suspense.move(w,C,L);return}if(j&64){Z.move(y,w,C,te);return}if(Z===Ot){r(G,w,C);for(let ae=0;ae<Y.length;ae++)mt(Y[ae],w,C,L);r(y.anchor,w,C);return}if(Z===ws){E(y,w,C);return}if(L!==2&&j&1&&z)if(L===0)z.beforeEnter(G),r(G,w,C),ht(()=>z.enter(G),M);else{const{leave:ae,delayLeave:se,afterLeave:he}=z,be=()=>r(G,w,C),Te=()=>{ae(G,()=>{be(),he&&he()})};se?se(G,be,Te):Te()}else r(G,w,C)},Ge=(y,w,C,L=!1,M=!1)=>{const{type:G,props:Z,ref:z,children:Y,dynamicChildren:j,shapeFlag:ne,patchFlag:ae,dirs:se}=y;if(z!=null&&ba(z,null,C,y,!0),ne&256){w.ctx.deactivate(y);return}const he=ne&1&&se,be=!jr(y);let Te;if(be&&(Te=Z&&Z.onVnodeBeforeUnmount)&&Nt(Te,w,y),ne&6)Pe(y.component,C,L);else{if(ne&128){y.suspense.unmount(C,L);return}he&&un(y,null,w,"beforeUnmount"),ne&64?y.type.remove(y,w,C,M,te,L):j&&(G!==Ot||ae>0&&ae&64)?Ne(j,w,C,!1,!0):(G===Ot&&ae&384||!M&&ne&16)&&Ne(Y,w,C),L&&st(y)}(be&&(Te=Z&&Z.onVnodeUnmounted)||he)&&ht(()=>{Te&&Nt(Te,w,y),he&&un(y,null,w,"unmounted")},C)},st=y=>{const{type:w,el:C,anchor:L,transition:M}=y;if(w===Ot){Ee(C,L);return}if(w===ws){T(y);return}const G=()=>{i(C),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(y.shapeFlag&1&&M&&!M.persisted){const{leave:Z,delayLeave:z}=M,Y=()=>Z(C,G);z?z(y.el,G,Y):Y()}else G()},Ee=(y,w)=>{let C;for(;y!==w;)C=p(y),i(y),y=C;i(w)},Pe=(y,w,C)=>{const{bum:L,scope:M,update:G,subTree:Z,um:z}=y;L&&mi(L),M.stop(),G&&(G.active=!1,Ge(Z,y,w,C)),z&&ht(z,w),ht(()=>{y.isUnmounted=!0},w),w&&w.pendingBranch&&!w.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===w.pendingId&&(w.deps--,w.deps===0&&w.resolve())},Ne=(y,w,C,L=!1,M=!1,G=0)=>{for(let Z=G;Z<y.length;Z++)Ge(y[Z],w,C,L,M)},N=y=>y.shapeFlag&6?N(y.component.subTree):y.shapeFlag&128?y.suspense.next():p(y.anchor||y.el);let K=!1;const W=(y,w,C)=>{y==null?w._vnode&&Ge(w._vnode,null,null,!0):S(w._vnode||null,y,w,null,null,null,C),K||(K=!0,Ad(),wa(),K=!1),w._vnode=y},te={p:S,um:Ge,m:mt,r:st,mt:ee,mc:O,pc:re,pbc:H,n:N,o:t};let pe,Ie;return e&&([pe,Ie]=e(te)),{render:W,hydrate:pe,createApp:eb(W,pe)}}function pl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Sr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function xy(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Py(t,e,n=!1){const r=t.children,i=e.children;if(le(r)&&le(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=er(i[s]),a.el=o.el),n||Py(o,a)),a.type===xi&&(a.el=o.el)}}function hb(t){const e=t.slice(),n=[0];let r,i,s,o,a;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function Ny(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Ny(e)}const fb=t=>t.__isTeleport,Ot=Symbol.for("v-fgt"),xi=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),ws=Symbol.for("v-stc"),_s=[];let Gt=null;function pn(t=!1){_s.push(Gt=t?null:[])}function Oy(){_s.pop(),Gt=_s[_s.length-1]||null}let Pi=1;function $d(t){Pi+=t}function Dy(t){return t.dynamicChildren=Pi>0?Gt||di:null,Oy(),Pi>0&&Gt&&Gt.push(t),t}function db(t,e,n,r,i,s){return Dy(Ly(t,e,n,r,i,s,!0))}function rr(t,e,n,r,i){return Dy(Ke(t,e,n,r,i,!0))}function Ni(t){return t?t.__v_isVNode===!0:!1}function tn(t,e){return t.type===e.type&&t.key===e.key}const My=({key:t})=>t??null,na=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?We(t)||gt(t)||de(t)?{i:rt,r:t,k:e,f:!!n}:t:null);function Ly(t,e=null,n=null,r=0,i=null,s=t===Ot?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&My(e),ref:e&&na(e),scopeId:fc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:rt};return a?(Bh(c,n),s&128&&t.normalize(c)):n&&(c.shapeFlag|=We(n)?8:16),Pi>0&&!o&&Gt&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&Gt.push(c),c}const Ke=pb;function pb(t,e=null,n=null,r=0,i=null,s=!1){if((!t||t===ny)&&(t=It),Ni(t)){const a=Fn(t,e,!0);return n&&Bh(a,n),Pi>0&&!s&&Gt&&(a.shapeFlag&6?Gt[Gt.indexOf(t)]=a:Gt.push(a)),a.patchFlag|=-2,a}if(bb(t)&&(t=t.__vccOpts),e){e=Fy(e);let{class:a,style:c}=e;a&&!We(a)&&(e.class=ac(a)),Me(c)&&(qm(c)&&!le(c)&&(c=it({},c)),e.style=oc(c))}const o=We(t)?1:iy(t)?128:fb(t)?64:Me(t)?4:de(t)?2:0;return Ly(t,e,n,r,i,o,s,!0)}function Fy(t){return t?qm(t)||by(t)?it({},t):t:null}function Fn(t,e,n=!1,r=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,u=e?gb(i||{},e):i,l={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&My(u),ref:e&&e.ref?n&&s?le(s)?s.concat(na(e)):[s,na(e)]:na(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ot?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Fn(t.ssContent),ssFallback:t.ssFallback&&Fn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&(l.transition=c.clone(l)),l}function Uy(t=" ",e=0){return Ke(xi,null,t,e)}function lF(t,e){const n=Ke(ws,null,t);return n.staticCount=e,n}function uF(t="",e=!1){return e?(pn(),rr(It,null,t)):Ke(It,null,t)}function qt(t){return t==null||typeof t=="boolean"?Ke(It):le(t)?Ke(Ot,null,t.slice()):typeof t=="object"?er(t):Ke(xi,null,String(t))}function er(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Fn(t)}function Bh(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(le(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),Bh(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!by(e)?e._ctx=rt:i===3&&rt&&(rt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else de(e)?(e={default:e,_ctx:rt},n=32):(e=String(e),r&64?(n=16,e=[Uy(e)]):n=8);t.children=e,t.shapeFlag|=n}function gb(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=ac([e.class,r.class]));else if(i==="style")e.style=oc([e.style,r.style]);else if(so(i)){const s=e[i],o=r[i];o&&s!==o&&!(le(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=r[i])}return e}function Nt(t,e,n,r=null){Qt(t,e,7,[n,r])}const mb=wy();let yb=0;function vb(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||mb,s={uid:yb++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Pm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Sy(r,i),emitsOptions:Zm(r,i),emit:null,emitted:null,propsDefaults:Be,inheritAttrs:r.inheritAttrs,ctx:Be,data:Be,props:Be,attrs:Be,slots:Be,refs:Be,setupState:Be,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=_I.bind(null,s),t.ce&&t.ce(s),s}let ot=null;const lo=()=>ot||rt;let Ta,vu;{const t=km(),e=(n,r)=>{let i;return(i=t[n])||(i=t[n]=[]),i.push(r),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};Ta=e("__VUE_INSTANCE_SETTERS__",n=>ot=n),vu=e("__VUE_SSR_SETTERS__",n=>uo=n)}const Kr=t=>{const e=ot;return Ta(t),t.scope.on(),()=>{t.scope.off(),Ta(e)}},wu=()=>{ot&&ot.scope.off(),Ta(null)};function By(t){return t.vnode.shapeFlag&4}let uo=!1;function wb(t,e=!1){e&&vu(e);const{props:n,children:r}=t.vnode,i=By(t);tb(t,n,i,e),ib(t,r);const s=i?_b(t,e):void 0;return e&&vu(!1),s}function _b(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,zI);const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?Ib(t):null,s=Kr(t);_r();const o=ur(r,t,0,[t.props,i]);if(Er(),s(),Th(o)){if(o.then(wu,wu),e)return o.then(a=>{_u(t,a,e)}).catch(a=>{Ki(a,t,0)});t.asyncDep=o}else _u(t,o,e)}else $y(t,e)}function _u(t,e,n){de(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Me(e)&&(t.setupState=Gm(e)),$y(t,n)}let Vd;function $y(t,e,n){const r=t.type;if(!t.render){if(!e&&Vd&&!r.render){const i=r.template||Fh(t).template;if(i){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=r,u=it(it({isCustomElement:s,delimiters:a},o),c);r.render=Vd(i,u)}}t.render=r.render||zt}{const i=Kr(t);_r();try{GI(t)}finally{Er(),i()}}}const Eb={get(t,e){return Lt(t,"get",""),t[e]}};function Ib(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Eb),slots:t.slots,emit:t.emit,expose:e}}function mc(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Gm(lI(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in vs)return vs[n](t)},has(e,n){return n in e||n in vs}}))}function Eu(t,e=!0){return de(t)?t.displayName||t.name:t.name||e&&t.__name}function bb(t){return de(t)&&"__vccOpts"in t}const nn=(t,e)=>uI(t,e,uo);function Dn(t,e,n){const r=arguments.length;return r===2?Me(e)&&!le(e)?Ni(e)?Ke(t,null,[e]):Ke(t,e):Ke(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ni(n)&&(n=[n]),Ke(t,e,n))}const Vy="3.4.27";/**
* @vue/runtime-dom v3.4.27
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Tb="http://www.w3.org/2000/svg",Sb="http://www.w3.org/1998/Math/MathML",tr=typeof document<"u"?document:null,jd=tr&&tr.createElement("template"),Cb={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e==="svg"?tr.createElementNS(Tb,t):e==="mathml"?tr.createElementNS(Sb,t):tr.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>tr.createTextNode(t),createComment:t=>tr.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>tr.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,s){const o=n?n.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{jd.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const a=jd.content;if(r==="svg"||r==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Gn="transition",is="animation",Fs=Symbol("_vtc"),$h=(t,{slots:e})=>Dn(UI,Ab(t),e);$h.displayName="Transition";const jy={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};$h.props=it({},cy,jy);const Cr=(t,e=[])=>{le(t)?t.forEach(n=>n(...e)):t&&t(...e)},Hd=t=>t?le(t)?t.some(e=>e.length>1):t.length>1:!1;function Ab(t){const e={};for(const k in t)k in jy||(e[k]=t[k]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:u=o,appearToClass:l=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:m=`${n}-leave-to`}=t,_=kb(i),S=_&&_[0],x=_&&_[1],{onBeforeEnter:F,onEnter:b,onEnterCancelled:E,onLeave:T,onLeaveCancelled:P,onBeforeAppear:A=F,onAppear:$=b,onAppearCancelled:O=E}=e,V=(k,Q,ee)=>{Ar(k,Q?l:a),Ar(k,Q?u:o),ee&&ee()},H=(k,Q)=>{k._isLeaving=!1,Ar(k,d),Ar(k,m),Ar(k,p),Q&&Q()},B=k=>(Q,ee)=>{const ye=k?$:b,J=()=>V(Q,k,ee);Cr(ye,[Q,J]),qd(()=>{Ar(Q,k?c:s),Qn(Q,k?l:a),Hd(ye)||Kd(Q,r,S,J)})};return it(e,{onBeforeEnter(k){Cr(F,[k]),Qn(k,s),Qn(k,o)},onBeforeAppear(k){Cr(A,[k]),Qn(k,c),Qn(k,u)},onEnter:B(!1),onAppear:B(!0),onLeave(k,Q){k._isLeaving=!0;const ee=()=>H(k,Q);Qn(k,d),Qn(k,p),Pb(),qd(()=>{k._isLeaving&&(Ar(k,d),Qn(k,m),Hd(T)||Kd(k,r,x,ee))}),Cr(T,[k,ee])},onEnterCancelled(k){V(k,!1),Cr(E,[k])},onAppearCancelled(k){V(k,!0),Cr(O,[k])},onLeaveCancelled(k){H(k),Cr(P,[k])}})}function kb(t){if(t==null)return null;if(Me(t))return[gl(t.enter),gl(t.leave)];{const e=gl(t);return[e,e]}}function gl(t){return Am(t)}function Qn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Fs]||(t[Fs]=new Set)).add(e)}function Ar(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Fs];n&&(n.delete(e),n.size||(t[Fs]=void 0))}function qd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Rb=0;function Kd(t,e,n,r){const i=t._endId=++Rb,s=()=>{i===t._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:c}=xb(t,e);if(!o)return r();const u=o+"end";let l=0;const d=()=>{t.removeEventListener(u,p),s()},p=m=>{m.target===t&&++l>=c&&d()};setTimeout(()=>{l<c&&d()},a+1),t.addEventListener(u,p)}function xb(t,e){const n=window.getComputedStyle(t),r=_=>(n[_]||"").split(", "),i=r(`${Gn}Delay`),s=r(`${Gn}Duration`),o=Wd(i,s),a=r(`${is}Delay`),c=r(`${is}Duration`),u=Wd(a,c);let l=null,d=0,p=0;e===Gn?o>0&&(l=Gn,d=o,p=s.length):e===is?u>0&&(l=is,d=u,p=c.length):(d=Math.max(o,u),l=d>0?o>u?Gn:is:null,p=l?l===Gn?s.length:c.length:0);const m=l===Gn&&/\b(transform|all)(,|$)/.test(r(`${Gn}Property`).toString());return{type:l,timeout:d,propCount:p,hasTransform:m}}function Wd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>zd(n)+zd(t[r])))}function zd(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Pb(){return document.body.offsetHeight}function Nb(t,e,n){const r=t[Fs];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Gd=Symbol("_vod"),Ob=Symbol("_vsh"),Db=Symbol(""),Mb=/(^|;)\s*display\s*:/;function Lb(t,e,n){const r=t.style,i=We(n);let s=!1;if(n&&!i){if(e)if(We(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ra(r,a,"")}else for(const o in e)n[o]==null&&ra(r,o,"");for(const o in n)o==="display"&&(s=!0),ra(r,o,n[o])}else if(i){if(e!==n){const o=r[Db];o&&(n+=";"+o),r.cssText=n,s=Mb.test(n)}}else e&&t.removeAttribute("style");Gd in t&&(t[Gd]=s?r.display:"",t[Ob]&&(r.display="none"))}const Qd=/\s*!important$/;function ra(t,e,n){if(le(n))n.forEach(r=>ra(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=Fb(t,e);Qd.test(n)?t.setProperty(qi(r),n.replace(Qd,""),"important"):t[r]=n}}const Yd=["Webkit","Moz","ms"],ml={};function Fb(t,e){const n=ml[e];if(n)return n;let r=Tn(e);if(r!=="filter"&&r in t)return ml[e]=r;r=sc(r);for(let i=0;i<Yd.length;i++){const s=Yd[i]+r;if(s in t)return ml[e]=s}return e}const Jd="http://www.w3.org/1999/xlink";function Ub(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Jd,e.slice(6,e.length)):t.setAttributeNS(Jd,e,n);else{const s=FE(e);n==null||s&&!Rm(n)?t.removeAttribute(e):t.setAttribute(e,s?"":n)}}function Bb(t,e,n,r,i,s,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,i,s),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,l=n??"";(u!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let c=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=Rm(n):n==null&&u==="string"?(n="",c=!0):u==="number"&&(n=0,c=!0)}try{t[e]=n}catch{}c&&t.removeAttribute(e)}function Pr(t,e,n,r){t.addEventListener(e,n,r)}function $b(t,e,n,r){t.removeEventListener(e,n,r)}const Xd=Symbol("_vei");function Vb(t,e,n,r,i=null){const s=t[Xd]||(t[Xd]={}),o=s[e];if(r&&o)o.value=r;else{const[a,c]=jb(e);if(r){const u=s[e]=Kb(r,i);Pr(t,a,u,c)}else o&&($b(t,a,o,c),s[e]=void 0)}}const Zd=/(?:Once|Passive|Capture)$/;function jb(t){let e;if(Zd.test(t)){e={};let r;for(;r=t.match(Zd);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):qi(t.slice(2)),e]}let yl=0;const Hb=Promise.resolve(),qb=()=>yl||(Hb.then(()=>yl=0),yl=Date.now());function Kb(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Qt(Wb(r,n.value),e,5,[r])};return n.value=t,n.attached=qb(),n}function Wb(t,e){if(le(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const ep=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,zb=(t,e,n,r,i,s,o,a,c)=>{const u=i==="svg";e==="class"?Nb(t,r,u):e==="style"?Lb(t,n,r):so(e)?Ih(e)||Vb(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Gb(t,e,r,u))?Bb(t,e,r,s,o,a,c):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Ub(t,e,r,u))};function Gb(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&ep(e)&&de(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ep(e)&&We(n)?!1:e in t}const Sa=t=>{const e=t.props["onUpdate:modelValue"]||!1;return le(e)?n=>mi(e,n):e};function Qb(t){t.target.composing=!0}function tp(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ei=Symbol("_assign"),hF={created(t,{modifiers:{lazy:e,trim:n,number:r}},i){t[Ei]=Sa(i);const s=r||i.props&&i.props.type==="number";Pr(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),s&&(a=ma(a)),t[Ei](a)}),n&&Pr(t,"change",()=>{t.value=t.value.trim()}),e||(Pr(t,"compositionstart",Qb),Pr(t,"compositionend",tp),Pr(t,"change",tp))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:i}},s){if(t[Ei]=Sa(s),t.composing)return;const o=(i||t.type==="number")&&!/^0\d/.test(t.value)?ma(t.value):t.value,a=e??"";o!==a&&(document.activeElement===t&&t.type!=="range"&&(n||r&&t.value.trim()===a)||(t.value=a))}},fF={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const i=rc(e);Pr(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?ma(Ca(o)):Ca(o));t[Ei](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,Wi(()=>{t._assigning=!1})}),t[Ei]=Sa(r)},mounted(t,{value:e,modifiers:{number:n}}){np(t,e)},beforeUpdate(t,e,n){t[Ei]=Sa(n)},updated(t,{value:e,modifiers:{number:n}}){t._assigning||np(t,e)}};function np(t,e,n){const r=t.multiple,i=le(e);if(!(r&&!i&&!rc(e))){for(let s=0,o=t.options.length;s<o;s++){const a=t.options[s],c=Ca(a);if(r)if(i){const u=typeof c;u==="string"||u==="number"?a.selected=e.some(l=>String(l)===String(c)):a.selected=BE(e,c)>-1}else a.selected=e.has(c);else if(cc(Ca(a),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ca(t){return"_value"in t?t._value:t.value}const Yb=["ctrl","shift","alt","meta"],Jb={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Yb.some(n=>t[`${n}Key`]&&!e.includes(n))},dF=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(i,...s)=>{for(let o=0;o<e.length;o++){const a=Jb[e[o]];if(a&&a(i,e))return}return t(i,...s)})},Hy=it({patchProp:zb},Cb);let Es,rp=!1;function Xb(){return Es||(Es=lb(Hy))}function Zb(){return Es=rp?Es:ub(Hy),rp=!0,Es}const eT=(...t)=>{const e=Xb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Ky(r);if(!i)return;const s=e._component;!de(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,qy(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e},tT=(...t)=>{const e=Zb().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=Ky(r);if(i)return n(i,!0,qy(i))},e};function qy(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Ky(t){return We(t)?document.querySelector(t):t}const nT=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,rT=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,iT=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function sT(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){oT(t);return}return e}function oT(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Aa(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return n.slice(1,-1);if(n.length<=9){const r=n.toLowerCase();if(r==="true")return!0;if(r==="false")return!1;if(r==="undefined")return;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r==="-infinity")return Number.NEGATIVE_INFINITY}if(!iT.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(nT.test(t)||rT.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,sT)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}const aT=/#/g,cT=/&/g,lT=/\//g,uT=/=/g,Vh=/\+/g,hT=/%5e/gi,fT=/%60/gi,dT=/%7c/gi,pT=/%20/gi;function gT(t){return encodeURI(""+t).replace(dT,"|")}function Iu(t){return gT(typeof t=="string"?t:JSON.stringify(t)).replace(Vh,"%2B").replace(pT,"+").replace(aT,"%23").replace(cT,"%26").replace(fT,"`").replace(hT,"^").replace(lT,"%2F")}function vl(t){return Iu(t).replace(uT,"%3D")}function ka(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function mT(t){return ka(t.replace(Vh," "))}function yT(t){return ka(t.replace(Vh," "))}function vT(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const r=n.match(/([^=]+)=?(.*)/)||[];if(r.length<2)continue;const i=mT(r[1]);if(i==="__proto__"||i==="constructor")continue;const s=yT(r[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function wT(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${vl(t)}=${Iu(n)}`).join("&"):`${vl(t)}=${Iu(e)}`:vl(t)}function _T(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>wT(e,t[e])).filter(Boolean).join("&")}const ET=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,IT=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,bT=/^([/\\]\s*){2,}[^/\\]/,TT=/^[\s\0]*(blob|data|javascript|vbscript):$/i,ST=/\/$|\/\?|\/#/,CT=/^\.?\//;function ei(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?ET.test(t):IT.test(t)||(e.acceptRelative?bT.test(t):!1)}function AT(t){return!!t&&TT.test(t)}function bu(t="",e){return e?ST.test(t):t.endsWith("/")}function jh(t="",e){if(!e)return(bu(t)?t.slice(0,-1):t)||"/";if(!bu(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");i>=0&&(n=t.slice(0,i),r=t.slice(i));const[s,...o]=n.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(o.length>0?`?${o.join("?")}`:"")+r}function Tu(t="",e){if(!e)return t.endsWith("/")?t:t+"/";if(bu(t,!0))return t||"/";let n=t,r="";const i=t.indexOf("#");if(i>=0&&(n=t.slice(0,i),r=t.slice(i),!n))return r;const[s,...o]=n.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+r}function kT(t=""){return t.startsWith("/")}function ip(t=""){return kT(t)?t:"/"+t}function RT(t,e){if(zy(e)||ei(t))return t;const n=jh(e);return t.startsWith(n)?t:Hh(n,t)}function sp(t,e){if(zy(e))return t;const n=jh(e);if(!t.startsWith(n))return t;const r=t.slice(n.length);return r[0]==="/"?r:"/"+r}function Wy(t,e){const n=yc(t),r={...vT(n.search),...e};return n.search=_T(r),NT(n)}function zy(t){return!t||t==="/"}function xT(t){return t&&t!=="/"}function Hh(t,...e){let n=t||"";for(const r of e.filter(i=>xT(i)))if(n){const i=r.replace(CT,"");n=Tu(n)+i}else n=r;return n}function Gy(...t){var o,a,c,u;const e=/\/(?!\/)/,n=t.filter(Boolean),r=[];let i=0;for(const l of n)if(!(!l||l==="/")){for(const[d,p]of l.split(e).entries())if(!(!p||p===".")){if(p===".."){if(r.length===1&&ei(r[0]))continue;r.pop(),i--;continue}if(d===1&&((o=r[r.length-1])!=null&&o.endsWith(":/"))){r[r.length-1]+="/"+p;continue}r.push(p),i++}}let s=r.join("/");return i>=0?(a=n[0])!=null&&a.startsWith("/")&&!s.startsWith("/")?s="/"+s:(c=n[0])!=null&&c.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*i)+s,(u=n[n.length-1])!=null&&u.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function PT(t,e,n={}){return n.trailingSlash||(t=Tu(t),e=Tu(e)),n.leadingSlash||(t=ip(t),e=ip(e)),n.encoding||(t=ka(t),e=ka(e)),t===e}const Qy=Symbol.for("ufo:protocolRelative");function yc(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(n){const[,d,p=""]=n;return{protocol:d.toLowerCase(),pathname:p,href:d+p,auth:"",host:"",search:"",hash:""}}if(!ei(t,{acceptRelative:!0}))return e?yc(e+t):op(t);const[,r="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[],{pathname:c,search:u,hash:l}=op(a.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:r.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:o,pathname:c,search:u,hash:l,[Qy]:!r}}function op(t=""){const[e="",n="",r=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:r}}function NT(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",r=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[Qy]?(t.protocol||"")+"//":"")+i+s+e+n+r}class OT extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function DT(t){var c,u,l,d,p;const e=((c=t.error)==null?void 0:c.message)||((u=t.error)==null?void 0:u.toString())||"",n=((l=t.request)==null?void 0:l.method)||((d=t.options)==null?void 0:d.method)||"GET",r=((p=t.request)==null?void 0:p.url)||String(t.request)||"/",i=`[${n}] ${JSON.stringify(r)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",o=`${i}: ${s}${e?` ${e}`:""}`,a=new OT(o,t.error?{cause:t.error}:void 0);for(const m of["request","options","response"])Object.defineProperty(a,m,{get(){return t[m]}});for(const[m,_]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,m,{get(){return t.response&&t.response[_]}});return a}const MT=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function ap(t="GET"){return MT.has(t.toUpperCase())}function LT(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const FT=new Set(["image/svg","application/xml","application/xhtml","application/html"]),UT=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function BT(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return UT.test(e)?"json":FT.has(e)||e.startsWith("text/")?"text":"blob"}function $T(t,e,n=globalThis.Headers){const r={...e,...t};if(e!=null&&e.params&&(t!=null&&t.params)&&(r.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&(t!=null&&t.query)&&(r.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&(t!=null&&t.headers)){r.headers=new n((e==null?void 0:e.headers)||{});for(const[i,s]of new n((t==null?void 0:t.headers)||{}))r.headers.set(i,s)}return r}const VT=new Set([408,409,425,429,500,502,503,504]),jT=new Set([101,204,205,304]);function Yy(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:r=globalThis.AbortController}=t;async function i(a){const c=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!c){let l;typeof a.options.retry=="number"?l=a.options.retry:l=ap(a.options.method)?0:1;const d=a.response&&a.response.status||500;if(l>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(d):VT.has(d))){const p=a.options.retryDelay||0;return p>0&&await new Promise(m=>setTimeout(m,p)),s(a.request,{...a.options,retry:l-1})}}const u=DT(a);throw Error.captureStackTrace&&Error.captureStackTrace(u,s),u}const s=async function(c,u={}){var m;const l={request:c,options:$T(u,t.defaults,n),response:void 0,error:void 0};l.options.method=(m=l.options.method)==null?void 0:m.toUpperCase(),l.options.onRequest&&await l.options.onRequest(l),typeof l.request=="string"&&(l.options.baseURL&&(l.request=RT(l.request,l.options.baseURL)),(l.options.query||l.options.params)&&(l.request=Wy(l.request,{...l.options.params,...l.options.query}))),l.options.body&&ap(l.options.method)&&(LT(l.options.body)?(l.options.body=typeof l.options.body=="string"?l.options.body:JSON.stringify(l.options.body),l.options.headers=new n(l.options.headers||{}),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json")):("pipeTo"in l.options.body&&typeof l.options.body.pipeTo=="function"||typeof l.options.body.pipe=="function")&&("duplex"in l.options||(l.options.duplex="half")));let d;if(!l.options.signal&&l.options.timeout){const _=new r;d=setTimeout(()=>_.abort(),l.options.timeout),l.options.signal=_.signal}try{l.response=await e(l.request,l.options)}catch(_){return l.error=_,l.options.onRequestError&&await l.options.onRequestError(l),await i(l)}finally{d&&clearTimeout(d)}if(l.response.body&&!jT.has(l.response.status)&&l.options.method!=="HEAD"){const _=(l.options.parseResponse?"json":l.options.responseType)||BT(l.response.headers.get("content-type")||"");switch(_){case"json":{const S=await l.response.text(),x=l.options.parseResponse||Aa;l.response._data=x(S);break}case"stream":{l.response._data=l.response.body;break}default:l.response._data=await l.response[_]()}}return l.options.onResponse&&await l.options.onResponse(l),!l.options.ignoreResponseError&&l.response.status>=400&&l.response.status<600?(l.options.onResponseError&&await l.options.onResponseError(l),await i(l)):l.response},o=async function(c,u){return(await s(c,u))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={})=>Yy({...t,defaults:{...t.defaults,...a}}),o}const qh=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Xt<"u")return Xt;throw new Error("unable to locate global object")}(),HT=qh.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),qT=qh.Headers,KT=qh.AbortController,WT=Yy({fetch:HT,Headers:qT,AbortController:KT}),zT=WT,GT=()=>{var t;return((t=window==null?void 0:window.__NUXT__)==null?void 0:t.config)||{}},Ra=GT().app,QT=()=>Ra.baseURL,YT=()=>Ra.buildAssetsDir,Kh=(...t)=>Gy(Jy(),YT(),...t),Jy=(...t)=>{const e=Ra.cdnURL||Ra.baseURL;return t.length?Gy(e,...t):e};globalThis.__buildAssetsURL=Kh,globalThis.__publicAssetsURL=Jy;globalThis.$fetch||(globalThis.$fetch=zT.create({baseURL:QT()}));function Su(t,e={},n){for(const r in t){const i=t[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Su(i,e,s):typeof i=="function"&&(e[s]=i)}return e}const JT={run:t=>t()},XT=()=>JT,Xy=typeof console.createTask<"u"?console.createTask:XT;function ZT(t,e){const n=e.shift(),r=Xy(n);return t.reduce((i,s)=>i.then(()=>r.run(()=>s(...e))),Promise.resolve())}function eS(t,e){const n=e.shift(),r=Xy(n);return Promise.all(t.map(i=>r.run(()=>i(...e))))}function wl(t,e){for(const n of[...t])n(e)}class tS{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,r={}){if(!e||typeof n!="function")return()=>{};const i=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(e,i),r}removeHook(e,n){if(this._hooks[e]){const r=this._hooks[e].indexOf(n);r!==-1&&this._hooks[e].splice(r,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const r=this._hooks[e]||[];delete this._hooks[e];for(const i of r)this.hook(e,i)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=Su(e),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(e){const n=Su(e);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(ZT,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(eS,e,...n)}callHookWith(e,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&wl(this._before,i);const s=e(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&wl(this._after,i)}):(this._after&&i&&wl(this._after,i),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function Zy(){return new tS}function nS(t={}){let e,n=!1;const r=o=>{if(e&&e!==o)throw new Error("Context conflict")};let i;if(t.asyncContext){const o=t.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?i=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(i&&e===void 0){const o=i.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=s();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>s(),set:(o,a)=>{a||r(o),e=o,n=!0},unset:()=>{e=void 0,n=!1},call:(o,a)=>{r(o),e=o;try{return i?i.run(o,a):a()}finally{n||(e=void 0)}},async callAsync(o,a){e=o;const c=()=>{e=o},u=()=>e===o?c:void 0;Cu.add(u);try{const l=i?i.run(o,a):a();return n||(e=void 0),await l}finally{Cu.delete(u)}}}}function rS(t={}){const e={};return{get(n,r={}){return e[n]||(e[n]=nS({...t,...r})),e[n],e[n]}}}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof Xt<"u"?Xt:typeof window<"u"?window:{},cp="__unctx__",iS=xa[cp]||(xa[cp]=rS()),sS=(t,e={})=>iS.get(t,e),lp="__unctx_async_handlers__",Cu=xa[lp]||(xa[lp]=new Set);function Us(t){const e=[];for(const i of Cu){const s=i();s&&e.push(s)}const n=()=>{for(const i of e)i()};let r=t();return r&&typeof r=="object"&&"catch"in r&&(r=r.catch(i=>{throw n(),i})),[r,n]}const ev=sS("nuxt-app",{asyncContext:!1}),oS="__nuxt_plugin";function aS(t){let e=0;const n={_scope:$E(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.11.2"},get vue(){return n.vueApp.version}},payload:Ir({data:{},state:{},once:new Set,_errors:{},...window.__NUXT__??{}}),static:{data:{}},runWithContext:i=>n._scope.run(()=>uS(n,i)),isHydrating:!0,deferHydration(){if(!n.isHydrating)return()=>{};e++;let i=!1;return()=>{if(!i&&(i=!0,e--,e===0))return n.isHydrating=!1,n.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:{},_payloadRevivers:{},...t};n.hooks=Zy(),n.hook=n.hooks.hook,n.callHook=n.hooks.callHook,n.provide=(i,s)=>{const o="$"+i;jo(n,o,s),jo(n.vueApp.config.globalProperties,o,s)},jo(n.vueApp,"$nuxt",n),jo(n.vueApp.config.globalProperties,"$nuxt",n);{window.addEventListener("nuxt.preloadError",s=>{n.callHook("app:chunkError",{error:s.payload})}),window.useNuxtApp=window.useNuxtApp||Ye;const i=n.hook("app:error",(...s)=>{console.error("[nuxt] error caught during app initialization",...s)});n.hook("app:mounted",i)}const r=n.payload.config;return n.provide("config",r),n}async function cS(t,e){if(e.hooks&&t.hooks.addHooks(e.hooks),typeof e=="function"){const{provide:n}=await t.runWithContext(()=>e(t))||{};if(n&&typeof n=="object")for(const r in n)t.provide(r,n[r])}}async function lS(t,e){const n=[],r=[],i=[],s=[];let o=0;async function a(c){var l;const u=((l=c.dependsOn)==null?void 0:l.filter(d=>e.some(p=>p._name===d)&&!n.includes(d)))??[];if(u.length>0)r.push([new Set(u),c]);else{const d=cS(t,c).then(async()=>{c._name&&(n.push(c._name),await Promise.all(r.map(async([p,m])=>{p.has(c._name)&&(p.delete(c._name),p.size===0&&(o++,await a(m)))})))});c.parallel?i.push(d.catch(p=>s.push(p))):await d}}for(const c of e)await a(c);if(await Promise.all(i),o)for(let c=0;c<o;c++)await Promise.all(i);if(s.length)throw s[0]}function An(t){if(typeof t=="function")return t;const e=t._name||t.name;return delete t.name,Object.assign(t.setup||(()=>{}),t,{[oS]:!0,_name:e})}function uS(t,e,n){const r=()=>e();return ev.set(t),t.vueApp.runWithContext(r)}function hS(){var e;let t;return _y()&&(t=(e=lo())==null?void 0:e.appContext.app.$nuxt),t=t||ev.tryUse(),t||null}function Ye(){const t=hS();if(!t)throw new Error("[nuxt] instance unavailable");return t}function Wh(t){return Ye().$config}function jo(t,e,n){Object.defineProperty(t,e,{get:()=>n})}var zh={},vc={};vc.byteLength=pS;vc.toByteArray=mS;vc.fromByteArray=wS;var gn=[],jt=[],fS=typeof Uint8Array<"u"?Uint8Array:Array,_l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var oi=0,dS=_l.length;oi<dS;++oi)gn[oi]=_l[oi],jt[_l.charCodeAt(oi)]=oi;jt[45]=62;jt[95]=63;function tv(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function pS(t){var e=tv(t),n=e[0],r=e[1];return(n+r)*3/4-r}function gS(t,e,n){return(e+n)*3/4-n}function mS(t){var e,n=tv(t),r=n[0],i=n[1],s=new fS(gS(t,r,i)),o=0,a=i>0?r-4:r,c;for(c=0;c<a;c+=4)e=jt[t.charCodeAt(c)]<<18|jt[t.charCodeAt(c+1)]<<12|jt[t.charCodeAt(c+2)]<<6|jt[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=jt[t.charCodeAt(c)]<<2|jt[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=jt[t.charCodeAt(c)]<<10|jt[t.charCodeAt(c+1)]<<4|jt[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function yS(t){return gn[t>>18&63]+gn[t>>12&63]+gn[t>>6&63]+gn[t&63]}function vS(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(yS(r));return i.join("")}function wS(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(vS(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(gn[e>>2]+gn[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(gn[e>>10]+gn[e>>4&63]+gn[e<<2&63]+"=")),i.join("")}var Gh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Gh.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?i-1:0,p=n?-1:1,m=t[e+d];for(d+=p,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+t[e+d],d+=p,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=r;l>0;o=o*256+t[e+d],d+=p,l-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-u}return(m?-1:1)*o*Math.pow(2,s-r)};Gh.write=function(t,e,n,r,i,s){var o,a,c,u=s*8-i-1,l=(1<<u)-1,d=l>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,_=r?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=p/c:e+=p*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(e*c-1)*Math.pow(2,i),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=a&255,m+=_,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[n+m]=o&255,m+=_,o/=256,u-=8);t[n+m-_]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=vc,n=Gh,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=P,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const g=new s(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,s.prototype),Object.setPrototypeOf(g,h),g.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function u(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');const h=new s(g);return Object.setPrototypeOf(h,l.prototype),h}function l(g,h,f){if(typeof g=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(g)}return d(g,h,f)}l.poolSize=8192;function d(g,h,f){if(typeof g=="string")return S(g,h);if(o.isView(g))return F(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(se(g,o)||g&&se(g.buffer,o)||typeof a<"u"&&(se(g,a)||g&&se(g.buffer,a)))return b(g,h,f);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const v=g.valueOf&&g.valueOf();if(v!=null&&v!==g)return l.from(v,h,f);const I=E(g);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return l.from(g[Symbol.toPrimitive]("string"),h,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}l.from=function(g,h,f){return d(g,h,f)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function p(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function m(g,h,f){return p(g),g<=0?u(g):h!==void 0?typeof f=="string"?u(g).fill(h,f):u(g).fill(h):u(g)}l.alloc=function(g,h,f){return m(g,h,f)};function _(g){return p(g),u(g<0?0:T(g)|0)}l.allocUnsafe=function(g){return _(g)},l.allocUnsafeSlow=function(g){return _(g)};function S(g,h){if((typeof h!="string"||h==="")&&(h="utf8"),!l.isEncoding(h))throw new TypeError("Unknown encoding: "+h);const f=A(g,h)|0;let v=u(f);const I=v.write(g,h);return I!==f&&(v=v.slice(0,I)),v}function x(g){const h=g.length<0?0:T(g.length)|0,f=u(h);for(let v=0;v<h;v+=1)f[v]=g[v]&255;return f}function F(g){if(se(g,s)){const h=new s(g);return b(h.buffer,h.byteOffset,h.byteLength)}return x(g)}function b(g,h,f){if(h<0||g.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<h+(f||0))throw new RangeError('"length" is outside of buffer bounds');let v;return h===void 0&&f===void 0?v=new s(g):f===void 0?v=new s(g,h):v=new s(g,h,f),Object.setPrototypeOf(v,l.prototype),v}function E(g){if(l.isBuffer(g)){const h=T(g.length)|0,f=u(h);return f.length===0||g.copy(f,0,0,h),f}if(g.length!==void 0)return typeof g.length!="number"||he(g.length)?u(0):x(g);if(g.type==="Buffer"&&Array.isArray(g.data))return x(g.data)}function T(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function P(g){return+g!=g&&(g=0),l.alloc(+g)}l.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==l.prototype},l.compare=function(h,f){if(se(h,s)&&(h=l.from(h,h.offset,h.byteLength)),se(f,s)&&(f=l.from(f,f.offset,f.byteLength)),!l.isBuffer(h)||!l.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===f)return 0;let v=h.length,I=f.length;for(let R=0,D=Math.min(v,I);R<D;++R)if(h[R]!==f[R]){v=h[R],I=f[R];break}return v<I?-1:I<v?1:0},l.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(h,f){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return l.alloc(0);let v;if(f===void 0)for(f=0,v=0;v<h.length;++v)f+=h[v].length;const I=l.allocUnsafe(f);let R=0;for(v=0;v<h.length;++v){let D=h[v];if(se(D,s))R+D.length>I.length?(l.isBuffer(D)||(D=l.from(D)),D.copy(I,R)):s.prototype.set.call(I,D,R);else if(l.isBuffer(D))D.copy(I,R);else throw new TypeError('"list" argument must be an Array of Buffers');R+=D.length}return I};function A(g,h){if(l.isBuffer(g))return g.length;if(o.isView(g)||se(g,o))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const f=g.length,v=arguments.length>2&&arguments[2]===!0;if(!v&&f===0)return 0;let I=!1;for(;;)switch(h){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return z(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return ne(g).length;default:if(I)return v?-1:z(g).length;h=(""+h).toLowerCase(),I=!0}}l.byteLength=A;function $(g,h,f){let v=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,h>>>=0,f<=h))return"";for(g||(g="utf8");;)switch(g){case"hex":return Ge(this,h,f);case"utf8":case"utf-8":return ce(this,h,f);case"ascii":return kt(this,h,f);case"latin1":case"binary":return mt(this,h,f);case"base64":return J(this,h,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return st(this,h,f);default:if(v)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),v=!0}}l.prototype._isBuffer=!0;function O(g,h,f){const v=g[h];g[h]=g[f],g[f]=v}l.prototype.swap16=function(){const h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<h;f+=2)O(this,f,f+1);return this},l.prototype.swap32=function(){const h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<h;f+=4)O(this,f,f+3),O(this,f+1,f+2);return this},l.prototype.swap64=function(){const h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<h;f+=8)O(this,f,f+7),O(this,f+1,f+6),O(this,f+2,f+5),O(this,f+3,f+4);return this},l.prototype.toString=function(){const h=this.length;return h===0?"":arguments.length===0?ce(this,0,h):$.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(h){if(!l.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:l.compare(this,h)===0},l.prototype.inspect=function(){let h="";const f=t.INSPECT_MAX_BYTES;return h=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(h+=" ... "),"<Buffer "+h+">"},r&&(l.prototype[r]=l.prototype.inspect),l.prototype.compare=function(h,f,v,I,R){if(se(h,s)&&(h=l.from(h,h.offset,h.byteLength)),!l.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(f===void 0&&(f=0),v===void 0&&(v=h?h.length:0),I===void 0&&(I=0),R===void 0&&(R=this.length),f<0||v>h.length||I<0||R>this.length)throw new RangeError("out of range index");if(I>=R&&f>=v)return 0;if(I>=R)return-1;if(f>=v)return 1;if(f>>>=0,v>>>=0,I>>>=0,R>>>=0,this===h)return 0;let D=R-I,fe=v-f;const Ue=Math.min(D,fe),He=this.slice(I,R),Qe=h.slice(f,v);for(let Le=0;Le<Ue;++Le)if(He[Le]!==Qe[Le]){D=He[Le],fe=Qe[Le];break}return D<fe?-1:fe<D?1:0};function V(g,h,f,v,I){if(g.length===0)return-1;if(typeof f=="string"?(v=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,he(f)&&(f=I?0:g.length-1),f<0&&(f=g.length+f),f>=g.length){if(I)return-1;f=g.length-1}else if(f<0)if(I)f=0;else return-1;if(typeof h=="string"&&(h=l.from(h,v)),l.isBuffer(h))return h.length===0?-1:H(g,h,f,v,I);if(typeof h=="number")return h=h&255,typeof s.prototype.indexOf=="function"?I?s.prototype.indexOf.call(g,h,f):s.prototype.lastIndexOf.call(g,h,f):H(g,[h],f,v,I);throw new TypeError("val must be string, number or Buffer")}function H(g,h,f,v,I){let R=1,D=g.length,fe=h.length;if(v!==void 0&&(v=String(v).toLowerCase(),v==="ucs2"||v==="ucs-2"||v==="utf16le"||v==="utf-16le")){if(g.length<2||h.length<2)return-1;R=2,D/=2,fe/=2,f/=2}function Ue(Qe,Le){return R===1?Qe[Le]:Qe.readUInt16BE(Le*R)}let He;if(I){let Qe=-1;for(He=f;He<D;He++)if(Ue(g,He)===Ue(h,Qe===-1?0:He-Qe)){if(Qe===-1&&(Qe=He),He-Qe+1===fe)return Qe*R}else Qe!==-1&&(He-=He-Qe),Qe=-1}else for(f+fe>D&&(f=D-fe),He=f;He>=0;He--){let Qe=!0;for(let Le=0;Le<fe;Le++)if(Ue(g,He+Le)!==Ue(h,Le)){Qe=!1;break}if(Qe)return He}return-1}l.prototype.includes=function(h,f,v){return this.indexOf(h,f,v)!==-1},l.prototype.indexOf=function(h,f,v){return V(this,h,f,v,!0)},l.prototype.lastIndexOf=function(h,f,v){return V(this,h,f,v,!1)};function B(g,h,f,v){f=Number(f)||0;const I=g.length-f;v?(v=Number(v),v>I&&(v=I)):v=I;const R=h.length;v>R/2&&(v=R/2);let D;for(D=0;D<v;++D){const fe=parseInt(h.substr(D*2,2),16);if(he(fe))return D;g[f+D]=fe}return D}function k(g,h,f,v){return ae(z(h,g.length-f),g,f,v)}function Q(g,h,f,v){return ae(Y(h),g,f,v)}function ee(g,h,f,v){return ae(ne(h),g,f,v)}function ye(g,h,f,v){return ae(j(h,g.length-f),g,f,v)}l.prototype.write=function(h,f,v,I){if(f===void 0)I="utf8",v=this.length,f=0;else if(v===void 0&&typeof f=="string")I=f,v=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(v)?(v=v>>>0,I===void 0&&(I="utf8")):(I=v,v=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const R=this.length-f;if((v===void 0||v>R)&&(v=R),h.length>0&&(v<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let D=!1;for(;;)switch(I){case"hex":return B(this,h,f,v);case"utf8":case"utf-8":return k(this,h,f,v);case"ascii":case"latin1":case"binary":return Q(this,h,f,v);case"base64":return ee(this,h,f,v);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,h,f,v);default:if(D)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),D=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(g,h,f){return h===0&&f===g.length?e.fromByteArray(g):e.fromByteArray(g.slice(h,f))}function ce(g,h,f){f=Math.min(g.length,f);const v=[];let I=h;for(;I<f;){const R=g[I];let D=null,fe=R>239?4:R>223?3:R>191?2:1;if(I+fe<=f){let Ue,He,Qe,Le;switch(fe){case 1:R<128&&(D=R);break;case 2:Ue=g[I+1],(Ue&192)===128&&(Le=(R&31)<<6|Ue&63,Le>127&&(D=Le));break;case 3:Ue=g[I+1],He=g[I+2],(Ue&192)===128&&(He&192)===128&&(Le=(R&15)<<12|(Ue&63)<<6|He&63,Le>2047&&(Le<55296||Le>57343)&&(D=Le));break;case 4:Ue=g[I+1],He=g[I+2],Qe=g[I+3],(Ue&192)===128&&(He&192)===128&&(Qe&192)===128&&(Le=(R&15)<<18|(Ue&63)<<12|(He&63)<<6|Qe&63,Le>65535&&Le<1114112&&(D=Le))}}D===null?(D=65533,fe=1):D>65535&&(D-=65536,v.push(D>>>10&1023|55296),D=56320|D&1023),v.push(D),I+=fe}return Xe(v)}const re=4096;function Xe(g){const h=g.length;if(h<=re)return String.fromCharCode.apply(String,g);let f="",v=0;for(;v<h;)f+=String.fromCharCode.apply(String,g.slice(v,v+=re));return f}function kt(g,h,f){let v="";f=Math.min(g.length,f);for(let I=h;I<f;++I)v+=String.fromCharCode(g[I]&127);return v}function mt(g,h,f){let v="";f=Math.min(g.length,f);for(let I=h;I<f;++I)v+=String.fromCharCode(g[I]);return v}function Ge(g,h,f){const v=g.length;(!h||h<0)&&(h=0),(!f||f<0||f>v)&&(f=v);let I="";for(let R=h;R<f;++R)I+=be[g[R]];return I}function st(g,h,f){const v=g.slice(h,f);let I="";for(let R=0;R<v.length-1;R+=2)I+=String.fromCharCode(v[R]+v[R+1]*256);return I}l.prototype.slice=function(h,f){const v=this.length;h=~~h,f=f===void 0?v:~~f,h<0?(h+=v,h<0&&(h=0)):h>v&&(h=v),f<0?(f+=v,f<0&&(f=0)):f>v&&(f=v),f<h&&(f=h);const I=this.subarray(h,f);return Object.setPrototypeOf(I,l.prototype),I};function Ee(g,h,f){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+h>f)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(h,f,v){h=h>>>0,f=f>>>0,v||Ee(h,f,this.length);let I=this[h],R=1,D=0;for(;++D<f&&(R*=256);)I+=this[h+D]*R;return I},l.prototype.readUintBE=l.prototype.readUIntBE=function(h,f,v){h=h>>>0,f=f>>>0,v||Ee(h,f,this.length);let I=this[h+--f],R=1;for(;f>0&&(R*=256);)I+=this[h+--f]*R;return I},l.prototype.readUint8=l.prototype.readUInt8=function(h,f){return h=h>>>0,f||Ee(h,1,this.length),this[h]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(h,f){return h=h>>>0,f||Ee(h,2,this.length),this[h]|this[h+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(h,f){return h=h>>>0,f||Ee(h,2,this.length),this[h]<<8|this[h+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},l.prototype.readBigUInt64LE=Te(function(h){h=h>>>0,L(h,"offset");const f=this[h],v=this[h+7];(f===void 0||v===void 0)&&M(h,this.length-8);const I=f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24,R=this[++h]+this[++h]*2**8+this[++h]*2**16+v*2**24;return BigInt(I)+(BigInt(R)<<BigInt(32))}),l.prototype.readBigUInt64BE=Te(function(h){h=h>>>0,L(h,"offset");const f=this[h],v=this[h+7];(f===void 0||v===void 0)&&M(h,this.length-8);const I=f*2**24+this[++h]*2**16+this[++h]*2**8+this[++h],R=this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+v;return(BigInt(I)<<BigInt(32))+BigInt(R)}),l.prototype.readIntLE=function(h,f,v){h=h>>>0,f=f>>>0,v||Ee(h,f,this.length);let I=this[h],R=1,D=0;for(;++D<f&&(R*=256);)I+=this[h+D]*R;return R*=128,I>=R&&(I-=Math.pow(2,8*f)),I},l.prototype.readIntBE=function(h,f,v){h=h>>>0,f=f>>>0,v||Ee(h,f,this.length);let I=f,R=1,D=this[h+--I];for(;I>0&&(R*=256);)D+=this[h+--I]*R;return R*=128,D>=R&&(D-=Math.pow(2,8*f)),D},l.prototype.readInt8=function(h,f){return h=h>>>0,f||Ee(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},l.prototype.readInt16LE=function(h,f){h=h>>>0,f||Ee(h,2,this.length);const v=this[h]|this[h+1]<<8;return v&32768?v|4294901760:v},l.prototype.readInt16BE=function(h,f){h=h>>>0,f||Ee(h,2,this.length);const v=this[h+1]|this[h]<<8;return v&32768?v|4294901760:v},l.prototype.readInt32LE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},l.prototype.readInt32BE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},l.prototype.readBigInt64LE=Te(function(h){h=h>>>0,L(h,"offset");const f=this[h],v=this[h+7];(f===void 0||v===void 0)&&M(h,this.length-8);const I=this[h+4]+this[h+5]*2**8+this[h+6]*2**16+(v<<24);return(BigInt(I)<<BigInt(32))+BigInt(f+this[++h]*2**8+this[++h]*2**16+this[++h]*2**24)}),l.prototype.readBigInt64BE=Te(function(h){h=h>>>0,L(h,"offset");const f=this[h],v=this[h+7];(f===void 0||v===void 0)&&M(h,this.length-8);const I=(f<<24)+this[++h]*2**16+this[++h]*2**8+this[++h];return(BigInt(I)<<BigInt(32))+BigInt(this[++h]*2**24+this[++h]*2**16+this[++h]*2**8+v)}),l.prototype.readFloatLE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),n.read(this,h,!0,23,4)},l.prototype.readFloatBE=function(h,f){return h=h>>>0,f||Ee(h,4,this.length),n.read(this,h,!1,23,4)},l.prototype.readDoubleLE=function(h,f){return h=h>>>0,f||Ee(h,8,this.length),n.read(this,h,!0,52,8)},l.prototype.readDoubleBE=function(h,f){return h=h>>>0,f||Ee(h,8,this.length),n.read(this,h,!1,52,8)};function Pe(g,h,f,v,I,R){if(!l.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>I||h<R)throw new RangeError('"value" argument is out of bounds');if(f+v>g.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(h,f,v,I){if(h=+h,f=f>>>0,v=v>>>0,!I){const fe=Math.pow(2,8*v)-1;Pe(this,h,f,v,fe,0)}let R=1,D=0;for(this[f]=h&255;++D<v&&(R*=256);)this[f+D]=h/R&255;return f+v},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(h,f,v,I){if(h=+h,f=f>>>0,v=v>>>0,!I){const fe=Math.pow(2,8*v)-1;Pe(this,h,f,v,fe,0)}let R=v-1,D=1;for(this[f+R]=h&255;--R>=0&&(D*=256);)this[f+R]=h/D&255;return f+v},l.prototype.writeUint8=l.prototype.writeUInt8=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,1,255,0),this[f]=h&255,f+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,2,65535,0),this[f]=h&255,this[f+1]=h>>>8,f+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,2,65535,0),this[f]=h>>>8,this[f+1]=h&255,f+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,4,4294967295,0),this[f+3]=h>>>24,this[f+2]=h>>>16,this[f+1]=h>>>8,this[f]=h&255,f+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,4,4294967295,0),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4};function Ne(g,h,f,v,I){C(h,v,I,g,f,7);let R=Number(h&BigInt(4294967295));g[f++]=R,R=R>>8,g[f++]=R,R=R>>8,g[f++]=R,R=R>>8,g[f++]=R;let D=Number(h>>BigInt(32)&BigInt(4294967295));return g[f++]=D,D=D>>8,g[f++]=D,D=D>>8,g[f++]=D,D=D>>8,g[f++]=D,f}function N(g,h,f,v,I){C(h,v,I,g,f,7);let R=Number(h&BigInt(4294967295));g[f+7]=R,R=R>>8,g[f+6]=R,R=R>>8,g[f+5]=R,R=R>>8,g[f+4]=R;let D=Number(h>>BigInt(32)&BigInt(4294967295));return g[f+3]=D,D=D>>8,g[f+2]=D,D=D>>8,g[f+1]=D,D=D>>8,g[f]=D,f+8}l.prototype.writeBigUInt64LE=Te(function(h,f=0){return Ne(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Te(function(h,f=0){return N(this,h,f,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(h,f,v,I){if(h=+h,f=f>>>0,!I){const Ue=Math.pow(2,8*v-1);Pe(this,h,f,v,Ue-1,-Ue)}let R=0,D=1,fe=0;for(this[f]=h&255;++R<v&&(D*=256);)h<0&&fe===0&&this[f+R-1]!==0&&(fe=1),this[f+R]=(h/D>>0)-fe&255;return f+v},l.prototype.writeIntBE=function(h,f,v,I){if(h=+h,f=f>>>0,!I){const Ue=Math.pow(2,8*v-1);Pe(this,h,f,v,Ue-1,-Ue)}let R=v-1,D=1,fe=0;for(this[f+R]=h&255;--R>=0&&(D*=256);)h<0&&fe===0&&this[f+R+1]!==0&&(fe=1),this[f+R]=(h/D>>0)-fe&255;return f+v},l.prototype.writeInt8=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,1,127,-128),h<0&&(h=255+h+1),this[f]=h&255,f+1},l.prototype.writeInt16LE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,2,32767,-32768),this[f]=h&255,this[f+1]=h>>>8,f+2},l.prototype.writeInt16BE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,2,32767,-32768),this[f]=h>>>8,this[f+1]=h&255,f+2},l.prototype.writeInt32LE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,4,2147483647,-2147483648),this[f]=h&255,this[f+1]=h>>>8,this[f+2]=h>>>16,this[f+3]=h>>>24,f+4},l.prototype.writeInt32BE=function(h,f,v){return h=+h,f=f>>>0,v||Pe(this,h,f,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[f]=h>>>24,this[f+1]=h>>>16,this[f+2]=h>>>8,this[f+3]=h&255,f+4},l.prototype.writeBigInt64LE=Te(function(h,f=0){return Ne(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Te(function(h,f=0){return N(this,h,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(g,h,f,v,I,R){if(f+v>g.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function W(g,h,f,v,I){return h=+h,f=f>>>0,I||K(g,h,f,4),n.write(g,h,f,v,23,4),f+4}l.prototype.writeFloatLE=function(h,f,v){return W(this,h,f,!0,v)},l.prototype.writeFloatBE=function(h,f,v){return W(this,h,f,!1,v)};function te(g,h,f,v,I){return h=+h,f=f>>>0,I||K(g,h,f,8),n.write(g,h,f,v,52,8),f+8}l.prototype.writeDoubleLE=function(h,f,v){return te(this,h,f,!0,v)},l.prototype.writeDoubleBE=function(h,f,v){return te(this,h,f,!1,v)},l.prototype.copy=function(h,f,v,I){if(!l.isBuffer(h))throw new TypeError("argument should be a Buffer");if(v||(v=0),!I&&I!==0&&(I=this.length),f>=h.length&&(f=h.length),f||(f=0),I>0&&I<v&&(I=v),I===v||h.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(v<0||v>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),h.length-f<I-v&&(I=h.length-f+v);const R=I-v;return this===h&&typeof s.prototype.copyWithin=="function"?this.copyWithin(f,v,I):s.prototype.set.call(h,this.subarray(v,I),f),R},l.prototype.fill=function(h,f,v,I){if(typeof h=="string"){if(typeof f=="string"?(I=f,f=0,v=this.length):typeof v=="string"&&(I=v,v=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!l.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(h.length===1){const D=h.charCodeAt(0);(I==="utf8"&&D<128||I==="latin1")&&(h=D)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(f<0||this.length<f||this.length<v)throw new RangeError("Out of range index");if(v<=f)return this;f=f>>>0,v=v===void 0?this.length:v>>>0,h||(h=0);let R;if(typeof h=="number")for(R=f;R<v;++R)this[R]=h;else{const D=l.isBuffer(h)?h:l.from(h,I),fe=D.length;if(fe===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for(R=0;R<v-f;++R)this[R+f]=D[R%fe]}return this};const pe={};function Ie(g,h,f){pe[g]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:h.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}Ie("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ie("ERR_INVALID_ARG_TYPE",function(g,h){return`The "${g}" argument must be of type number. Received type ${typeof h}`},TypeError),Ie("ERR_OUT_OF_RANGE",function(g,h,f){let v=`The value of "${g}" is out of range.`,I=f;return Number.isInteger(f)&&Math.abs(f)>2**32?I=y(String(f)):typeof f=="bigint"&&(I=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(I=y(I)),I+="n"),v+=` It must be ${h}. Received ${I}`,v},RangeError);function y(g){let h="",f=g.length;const v=g[0]==="-"?1:0;for(;f>=v+4;f-=3)h=`_${g.slice(f-3,f)}${h}`;return`${g.slice(0,f)}${h}`}function w(g,h,f){L(h,"offset"),(g[h]===void 0||g[h+f]===void 0)&&M(h,g.length-(f+1))}function C(g,h,f,v,I,R){if(g>f||g<h){const D=typeof h=="bigint"?"n":"";let fe;throw h===0||h===BigInt(0)?fe=`>= 0${D} and < 2${D} ** ${(R+1)*8}${D}`:fe=`>= -(2${D} ** ${(R+1)*8-1}${D}) and < 2 ** ${(R+1)*8-1}${D}`,new pe.ERR_OUT_OF_RANGE("value",fe,g)}w(v,I,R)}function L(g,h){if(typeof g!="number")throw new pe.ERR_INVALID_ARG_TYPE(h,"number",g)}function M(g,h,f){throw Math.floor(g)!==g?(L(g,f),new pe.ERR_OUT_OF_RANGE("offset","an integer",g)):h<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${h}`,g)}const G=/[^+/0-9A-Za-z-_]/g;function Z(g){if(g=g.split("=")[0],g=g.trim().replace(G,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function z(g,h){h=h||1/0;let f;const v=g.length;let I=null;const R=[];for(let D=0;D<v;++D){if(f=g.charCodeAt(D),f>55295&&f<57344){if(!I){if(f>56319){(h-=3)>-1&&R.push(239,191,189);continue}else if(D+1===v){(h-=3)>-1&&R.push(239,191,189);continue}I=f;continue}if(f<56320){(h-=3)>-1&&R.push(239,191,189),I=f;continue}f=(I-55296<<10|f-56320)+65536}else I&&(h-=3)>-1&&R.push(239,191,189);if(I=null,f<128){if((h-=1)<0)break;R.push(f)}else if(f<2048){if((h-=2)<0)break;R.push(f>>6|192,f&63|128)}else if(f<65536){if((h-=3)<0)break;R.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((h-=4)<0)break;R.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return R}function Y(g){const h=[];for(let f=0;f<g.length;++f)h.push(g.charCodeAt(f)&255);return h}function j(g,h){let f,v,I;const R=[];for(let D=0;D<g.length&&!((h-=2)<0);++D)f=g.charCodeAt(D),v=f>>8,I=f%256,R.push(I),R.push(v);return R}function ne(g){return e.toByteArray(Z(g))}function ae(g,h,f,v){let I;for(I=0;I<v&&!(I+f>=h.length||I>=g.length);++I)h[I+f]=g[I];return I}function se(g,h){return g instanceof h||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===h.name}function he(g){return g!==g}const be=function(){const g="0123456789abcdef",h=new Array(256);for(let f=0;f<16;++f){const v=f*16;for(let I=0;I<16;++I)h[v+I]=g[f]+g[I]}return h}();function Te(g){return typeof BigInt>"u"?Fe:g}function Fe(){throw new Error("BigInt not supported")}})(zh);const gF=zh.Buffer,_S=zh.Buffer;function ES(t,e){return{ctx:{table:t},matchAll:n=>rv(n,t)}}function nv(t){const e={};for(const n in t)e[n]=n==="dynamic"?new Map(Object.entries(t[n]).map(([r,i])=>[r,nv(i)])):new Map(Object.entries(t[n]));return e}function IS(t){return ES(nv(t))}function rv(t,e,n){t.endsWith("/")&&(t=t.slice(0,-1)||"/");const r=[];for(const[s,o]of up(e.wildcard))(t===s||t.startsWith(s+"/"))&&r.push(o);for(const[s,o]of up(e.dynamic))if(t.startsWith(s+"/")){const a="/"+t.slice(s.length).split("/").splice(2).join("/");r.push(...rv(a,o))}const i=e.static.get(t);return i&&r.push(i),r.filter(Boolean)}function up(t){return[...t.entries()].sort((e,n)=>e[0].length-n[0].length)}function El(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in t?!1:Symbol.toStringTag in t?Object.prototype.toString.call(t)==="[object Module]":!0}function Au(t,e,n=".",r){if(!El(e))return Au(t,{},n,r);const i=Object.assign({},e);for(const s in t){if(s==="__proto__"||s==="constructor")continue;const o=t[s];o!=null&&(r&&r(i,s,o,n)||(Array.isArray(o)&&Array.isArray(i[s])?i[s]=[...o,...i[s]]:El(o)&&El(i[s])?i[s]=Au(o,i[s],(n?`${n}.`:"")+s.toString(),r):i[s]=o))}return i}function iv(t){return(...e)=>e.reduce((n,r)=>Au(n,r,"",t),{})}const sv=iv(),bS=iv((t,e,n)=>{if(t[e]!==void 0&&typeof n=="function")return t[e]=n(t[e]),!0});function TS(t,e){try{return e in t}catch{return!1}}var SS=Object.defineProperty,CS=(t,e,n)=>e in t?SS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kr=(t,e,n)=>(CS(t,typeof e!="symbol"?e+"":e,n),n);class ku extends Error{constructor(e,n={}){super(e,n),kr(this,"statusCode",500),kr(this,"fatal",!1),kr(this,"unhandled",!1),kr(this,"statusMessage"),kr(this,"data"),kr(this,"cause"),n.cause&&!this.cause&&(this.cause=n.cause)}toJSON(){const e={message:this.message,statusCode:xu(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=ov(this.statusMessage)),this.data!==void 0&&(e.data=this.data),e}}kr(ku,"__h3_error__",!0);function Ru(t){if(typeof t=="string")return new ku(t);if(AS(t))return t;const e=new ku(t.message??t.statusMessage??"",{cause:t.cause||t});if(TS(t,"stack"))try{Object.defineProperty(e,"stack",{get(){return t.stack}})}catch{try{e.stack=t.stack}catch{}}if(t.data&&(e.data=t.data),t.statusCode?e.statusCode=xu(t.statusCode,e.statusCode):t.status&&(e.statusCode=xu(t.status,e.statusCode)),t.statusMessage?e.statusMessage=t.statusMessage:t.statusText&&(e.statusMessage=t.statusText),e.statusMessage){const n=e.statusMessage;ov(e.statusMessage)!==n&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return t.fatal!==void 0&&(e.fatal=t.fatal),t.unhandled!==void 0&&(e.unhandled=t.unhandled),e}function AS(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.__h3_error__)===!0}const kS=/[^\u0009\u0020-\u007E]/g;function ov(t=""){return t.replace(kS,"")}function xu(t,e=200){return!t||(typeof t=="string"&&(t=Number.parseInt(t,10)),t<100||t>999)?e:t}const RS=Symbol("layout-meta"),wc=Symbol("route"),qn=()=>{var t;return(t=Ye())==null?void 0:t.$router},av=()=>_y()?Pt(wc,Ye()._route):Ye()._route;const xS=()=>{try{if(Ye()._processingMiddleware)return!0}catch{return!1}return!1},mF=(t,e)=>{t||(t="/");const n=typeof t=="string"?t:Wy(t.path||"/",t.query||{})+(t.hash||"");if(e!=null&&e.open){const{target:a="_blank",windowFeatures:c={}}=e.open,u=Object.entries(c).filter(([l,d])=>d!==void 0).map(([l,d])=>`${l.toLowerCase()}=${d}`).join(", ");return open(n,a,u),Promise.resolve()}const r=(e==null?void 0:e.external)||ei(n,{acceptRelative:!0});if(r){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const a=yc(n).protocol;if(a&&AT(a))throw new Error(`Cannot navigate to a URL with '${a}' protocol.`)}const i=xS();if(!r&&i)return t;const s=qn(),o=Ye();return r?(o._scope.stop(),e!=null&&e.replace?location.replace(n):location.href=n,i?o.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?s.replace(t):s.push(t)},cv="__nuxt_error",_c=()=>Qm(Ye().payload,"error"),hi=t=>{const e=Ec(t);try{const n=Ye(),r=_c();n.hooks.callHook("app:error",e),r.value=r.value||e}catch{throw e}return e},PS=async(t={})=>{const e=Ye(),n=_c();e.callHook("app:error:cleared",t),t.redirect&&await qn().replace(t.redirect),n.value=null},NS=t=>!!t&&typeof t=="object"&&cv in t,Ec=t=>{const e=Ru(t);return Object.defineProperty(e,cv,{value:!0,configurable:!1,writable:!1}),e},OS=-1,DS=-2,MS=-3,LS=-4,FS=-5,US=-6;function BS(t,e){return $S(JSON.parse(t),e)}function $S(t,e){if(typeof t=="number")return i(t,!0);if(!Array.isArray(t)||t.length===0)throw new Error("Invalid input");const n=t,r=Array(n.length);function i(s,o=!1){if(s===OS)return;if(s===MS)return NaN;if(s===LS)return 1/0;if(s===FS)return-1/0;if(s===US)return-0;if(o)throw new Error("Invalid input");if(s in r)return r[s];const a=n[s];if(!a||typeof a!="object")r[s]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const c=a[0],u=e==null?void 0:e[c];if(u)return r[s]=u(i(a[1]));switch(c){case"Date":r[s]=new Date(a[1]);break;case"Set":const l=new Set;r[s]=l;for(let m=1;m<a.length;m+=1)l.add(i(a[m]));break;case"Map":const d=new Map;r[s]=d;for(let m=1;m<a.length;m+=2)d.set(i(a[m]),i(a[m+1]));break;case"RegExp":r[s]=new RegExp(a[1],a[2]);break;case"Object":r[s]=Object(a[1]);break;case"BigInt":r[s]=BigInt(a[1]);break;case"null":const p=Object.create(null);r[s]=p;for(let m=1;m<a.length;m+=2)p[a[m]]=i(a[m+1]);break;default:throw new Error(`Unknown type ${c}`)}}else{const c=new Array(a.length);r[s]=c;for(let u=0;u<a.length;u+=1){const l=a[u];l!==DS&&(c[u]=i(l))}}else{const c={};r[s]=c;for(const u in a){const l=a[u];c[u]=i(l)}}return r[s]}return i(0)}function VS(t){return Array.isArray(t)?t:[t]}const jS=["title","titleTemplate","script","style","noscript"],ia=["base","meta","link","style","script","noscript"],HS=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],qS=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],lv=["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"],KS=typeof window<"u";function Qh(t){let e=9;for(let n=0;n<t.length;)e=Math.imul(e^t.charCodeAt(n++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function hp(t){return t._h||Qh(t._d?t._d:`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([e,n])=>`${e}:${String(n)}`).join(",")}`)}function uv(t,e){const{props:n,tag:r}=t;if(qS.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const s of i)if(typeof n[s]<"u"){const o=String(n[s]);return`${r}:${s}:${o}`}return!1}function fp(t,e){return t==null?e||null:typeof t=="function"?t(e):t}async function WS(t,e,n){const r={tag:t,props:await hv(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[["script","noscript","style"].includes(t)?"innerHTML":"textContent"]:e},["templateParams","titleTemplate"].includes(t))};return lv.forEach(i=>{const s=typeof r.props[i]<"u"?r.props[i]:n[i];typeof s<"u"&&((!["innerHTML","textContent","children"].includes(i)||jS.includes(r.tag))&&(r[i==="children"?"innerHTML":i]=s),delete r.props[i])}),r.props.body&&(r.tagPosition="bodyClose",delete r.props.body),r.tag==="script"&&typeof r.innerHTML=="object"&&(r.innerHTML=JSON.stringify(r.innerHTML),r.props.type=r.props.type||"application/json"),Array.isArray(r.props.content)?r.props.content.map(i=>({...r,props:{...r.props,content:i}})):r}function zS(t,e){var r;const n=t==="class"?" ":";";return typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,i])=>i).map(([i,s])=>t==="style"?`${i}:${s}`:i)),(r=Array.isArray(e)?e.join(n):e)==null?void 0:r.split(n).filter(i=>i.trim()).filter(Boolean).join(n)}async function hv(t,e){for(const n of Object.keys(t)){if(["class","style"].includes(n)){t[n]=zS(n,t[n]);continue}if(t[n]instanceof Promise&&(t[n]=await t[n]),!e&&!lv.includes(n)){const r=String(t[n]),i=n.startsWith("data-");r==="true"||r===""?t[n]=i?"true":!0:t[n]||(i&&r==="false"?t[n]="false":delete t[n])}}return t}const GS=10;async function QS(t){const e=[];return Object.entries(t.resolvedInput).filter(([n,r])=>typeof r<"u"&&HS.includes(n)).forEach(([n,r])=>{const i=VS(r);e.push(...i.map(s=>WS(n,s,t)).flat())}),(await Promise.all(e)).flat().filter(Boolean).map((n,r)=>(n._e=t._i,t.mode&&(n._m=t.mode),n._p=(t._i<<GS)+r,n))}const dp={base:-10,title:10},pp={critical:-80,high:-10,low:20};function Pa(t){let e=100;const n=t.tagPriority;return typeof n=="number"?n:(t.tag==="meta"?(t.props["http-equiv"]==="content-security-policy"&&(e=-30),t.props.charset&&(e=-20),t.props.name==="viewport"&&(e=-15)):t.tag==="link"&&t.props.rel==="preconnect"?e=20:t.tag in dp&&(e=dp[t.tag]),typeof n=="string"&&n in pp?e+pp[n]:e)}const YS=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],gp=["onload","onerror","onabort","onprogress","onloadstart"],Yn="%separator";function sa(t,e,n){if(typeof t!="string"||!t.includes("%"))return t;function r(o){let a;return["s","pageTitle"].includes(o)?a=e.pageTitle:o.includes(".")?a=o.split(".").reduce((c,u)=>c&&c[u]||void 0,e):a=e[o],typeof a<"u"?(a||"").replace(/"/g,'\\"'):!1}let i=t;try{i=decodeURI(t)}catch{}return(i.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(o=>{const a=r(o.slice(1));typeof a=="string"&&(t=t.replace(new RegExp(`\\${o}(\\W|$)`,"g"),(c,u)=>`${a}${u}`).trim())}),t.includes(Yn)&&(t.endsWith(Yn)&&(t=t.slice(0,-Yn.length).trim()),t.startsWith(Yn)&&(t=t.slice(Yn.length).trim()),t=t.replace(new RegExp(`\\${Yn}\\s*\\${Yn}`,"g"),Yn),t=sa(t,{separator:n},n)),t}async function fv(t,e={}){var l;const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const r={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",r),!r.shouldRender)return;const i=(await t.resolveTags()).map(d=>({tag:d,id:ia.includes(d.tag)?hp(d):d.tag,shouldRender:!0}));let s=t._dom;if(!s){s={elMap:{htmlAttrs:n.documentElement,bodyAttrs:n.body}};for(const d of["body","head"]){const p=(l=n[d])==null?void 0:l.children,m=[];for(const _ of[...p].filter(S=>ia.includes(S.tagName.toLowerCase()))){const S={tag:_.tagName.toLowerCase(),props:await hv(_.getAttributeNames().reduce((b,E)=>({...b,[E]:_.getAttribute(E)}),{})),innerHTML:_.innerHTML};let x=1,F=uv(S);for(;F&&m.find(b=>b._d===F);)F=`${F}:${x++}`;S._d=F||void 0,m.push(S),s.elMap[_.getAttribute("data-hid")||hp(S)]=_}}}s.pendingSideEffects={...s.sideEffects||{}},s.sideEffects={};function o(d,p,m){const _=`${d}:${p}`;s.sideEffects[_]=m,delete s.pendingSideEffects[_]}function a({id:d,$el:p,tag:m}){const _=m.tag.endsWith("Attrs");s.elMap[d]=p,_||(["textContent","innerHTML"].forEach(S=>{m[S]&&m[S]!==p[S]&&(p[S]=m[S])}),o(d,"el",()=>{var S;(S=s.elMap[d])==null||S.remove(),delete s.elMap[d]}));for(const[S,x]of Object.entries(m._eventHandlers||{}))p.getAttribute(`data-${S}`)!==""&&((m.tag==="bodyAttrs"?n.defaultView:p).addEventListener(S.replace("on",""),x.bind(p)),p.setAttribute(`data-${S}`,""));Object.entries(m.props).forEach(([S,x])=>{const F=`attr:${S}`;if(S==="class")for(const b of(x||"").split(" ").filter(Boolean))_&&o(d,`${F}:${b}`,()=>p.classList.remove(b)),!p.classList.contains(b)&&p.classList.add(b);else if(S==="style")for(const b of(x||"").split(";").filter(Boolean)){const[E,...T]=b.split(":").map(P=>P.trim());o(d,`${F}:${b}:${E}`,()=>{p.style.removeProperty(E)}),p.style.setProperty(E,T.join(":"))}else p.getAttribute(S)!==x&&p.setAttribute(S,x===!0?"":String(x)),_&&o(d,F,()=>p.removeAttribute(S))})}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const d of i){const{tag:p,shouldRender:m,id:_}=d;if(m){if(p.tag==="title"){n.title=p.textContent;continue}d.$el=d.$el||s.elMap[_],d.$el?a(d):ia.includes(p.tag)&&c.push(d)}}for(const d of c){const p=d.tag.tagPosition||"head";d.$el=n.createElement(d.tag.tag),a(d),u[p]=u[p]||n.createDocumentFragment(),u[p].appendChild(d.$el)}for(const d of i)await t.hooks.callHook("dom:renderTag",d,n,o);u.head&&n.head.appendChild(u.head),u.bodyOpen&&n.body.insertBefore(u.bodyOpen,n.body.firstChild),u.bodyClose&&n.body.appendChild(u.bodyClose),Object.values(s.pendingSideEffects).forEach(d=>d()),t._dom=s,t.dirty=!1,await t.hooks.callHook("dom:rendered",{renders:i})}async function JS(t,e={}){const n=e.delayFn||(r=>setTimeout(r,10));return t._domUpdatePromise=t._domUpdatePromise||new Promise(r=>n(async()=>{await fv(t,e),delete t._domUpdatePromise,r()}))}function XS(t){return e=>{var r,i;const n=((i=(r=e.resolvedOptions.document)==null?void 0:r.head.querySelector('script[id="unhead:payload"]'))==null?void 0:i.innerHTML)||!1;return n&&e.push(JSON.parse(n)),{mode:"client",hooks:{"entries:updated":function(s){JS(s,t)}}}}}const ZS=["templateParams","htmlAttrs","bodyAttrs"],eC={hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(r=>{t.props[r]&&(t.key=t.props[r],delete t.props[r])});const n=uv(t)||(t.key?`${t.tag}:${t.key}`:!1);n&&(t._d=n)},"tags:resolve":function(t){const e={};t.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,s=e[i];if(s){let a=r==null?void 0:r.tagDuplicateStrategy;if(!a&&ZS.includes(r.tag)&&(a="merge"),a==="merge"){const c=s.props;["class","style"].forEach(u=>{c[u]&&(r.props[u]?(u==="style"&&!c[u].endsWith(";")&&(c[u]+=";"),r.props[u]=`${c[u]} ${r.props[u]}`):r.props[u]=c[u])}),e[i].props={...c,...r.props};return}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);return}else if(Pa(r)>Pa(s))return}const o=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(ia.includes(r.tag)&&o===0){delete e[i];return}e[i]=r});const n=[];Object.values(e).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),t.tags=n,t.tags=t.tags.filter(r=>!(r.tag==="meta"&&(r.props.name||r.props.property)&&!r.props.content))}}},tC={mode:"server",hooks:{"tags:resolve":function(t){const e={};t.tags.filter(n=>["titleTemplate","templateParams","title"].includes(n.tag)&&n._m==="server").forEach(n=>{e[n.tag]=n.tag.startsWith("title")?n.textContent:n.props}),Object.keys(e).length&&t.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},nC=["script","link","bodyAttrs"],rC=t=>({hooks:{"tags:resolve":function(e){for(const n of e.tags.filter(r=>nC.includes(r.tag)))Object.entries(n.props).forEach(([r,i])=>{r.startsWith("on")&&typeof i=="function"&&(t.ssr&&gp.includes(r)?n.props[r]=`this.dataset.${r}fired = true`:delete n.props[r],n._eventHandlers=n._eventHandlers||{},n._eventHandlers[r]=i)}),t.ssr&&n._eventHandlers&&(n.props.src||n.props.href)&&(n.key=n.key||Qh(n.props.src||n.props.href))},"dom:renderTag":function({$el:e,tag:n}){var r,i;for(const s of Object.keys((e==null?void 0:e.dataset)||{}).filter(o=>gp.some(a=>`${a}fired`===o))){const o=s.replace("fired","");(i=(r=n._eventHandlers)==null?void 0:r[o])==null||i.call(e,new Event(o.replace("on","")))}}}}),iC=["link","style","script","noscript"],sC={hooks:{"tag:normalise":({tag:t})=>{t.key&&iC.includes(t.tag)&&(t.props["data-hid"]=t._h=Qh(t.key))}}},oC={hooks:{"tags:resolve":t=>{const e=n=>{var r;return(r=t.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of YS)for(const i of t.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=e(i.tagPriority.replace(n,""));typeof s<"u"&&(i._p=s+r)}t.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>Pa(n)-Pa(r))}}},aC={meta:"content",link:"href",htmlAttrs:"lang"},cC=t=>({hooks:{"tags:resolve":e=>{var a;const{tags:n}=e,r=(a=n.find(c=>c.tag==="title"))==null?void 0:a.textContent,i=n.findIndex(c=>c.tag==="templateParams"),s=i!==-1?n[i].props:{},o=s.separator||"|";delete s.separator,s.pageTitle=sa(s.pageTitle||r||"",s,o);for(const c of n.filter(u=>u.processTemplateParams!==!1)){const u=aC[c.tag];u&&typeof c.props[u]=="string"?c.props[u]=sa(c.props[u],s,o):(c.processTemplateParams===!0||["titleTemplate","title"].includes(c.tag))&&["innerHTML","textContent"].forEach(l=>{typeof c[l]=="string"&&(c[l]=sa(c[l],s,o))})}t._templateParams=s,t._separator=o,e.tags=n.filter(c=>c.tag!=="templateParams")}}}),lC={hooks:{"tags:resolve":t=>{const{tags:e}=t;let n=e.findIndex(i=>i.tag==="titleTemplate");const r=e.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=fp(e[n].textContent,e[r].textContent);i!==null?e[r].textContent=i||e[r].textContent:delete e[r]}else if(n!==-1){const i=fp(e[n].textContent);i!==null&&(e[n].textContent=i,e[n].tag="title",n=-1)}n!==-1&&delete e[n],t.tags=e.filter(Boolean)}}},uC={hooks:{"tags:afterResolve":function(t){for(const e of t.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&["application/ld+json","application/json"].includes(e.props.type)?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let dv;function hC(t={}){const e=fC(t);return e.use(XS()),dv=e}function mp(t,e){return!t||t==="server"&&e||t==="client"&&!e}function fC(t={}){const e=Zy();e.addHooks(t.hooks||{}),t.document=t.document||(KS?document:void 0);const n=!t.document,r=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let i=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:t,hooks:e,headEntries(){return s},use(c){const u=typeof c=="function"?c(a):c;(!u.key||!o.some(l=>l.key===u.key))&&(o.push(u),mp(u.mode,n)&&e.addHooks(u.hooks||{}))},push(c,u){u==null||delete u.head;const l={_i:i++,input:c,...u};return mp(l.mode,n)&&(s.push(l),r()),{dispose(){s=s.filter(d=>d._i!==l._i),e.callHook("entries:updated",a),r()},patch(d){s=s.map(p=>(p._i===l._i&&(p.input=l.input=d),p)),r()}}},async resolveTags(){const c={tags:[],entries:[...s]};await e.callHook("entries:resolve",c);for(const u of c.entries){const l=u.resolvedInput||u.input;if(u.resolvedInput=await(u.transform?u.transform(l):l),u.resolvedInput)for(const d of await QS(u)){const p={tag:d,entry:u,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",p),c.tags.push(p.tag)}}return await e.callHook("tags:beforeResolve",c),await e.callHook("tags:resolve",c),await e.callHook("tags:afterResolve",c),c.tags},ssr:n};return[eC,tC,rC,sC,oC,cC,lC,uC,...(t==null?void 0:t.plugins)||[]].forEach(c=>a.use(c)),a.hooks.callHook("init",a),a}function dC(){return dv}const pC=Vy.startsWith("3");function gC(t){return typeof t=="function"?t():qe(t)}function Na(t,e=""){if(t instanceof Promise)return t;const n=gC(t);return!t||!n?n:Array.isArray(n)?n.map(r=>Na(r,e)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,qe(i)]:[r,Na(i,r)])):n}const mC={hooks:{"entries:resolve":function(t){for(const e of t.entries)e.resolvedInput=Na(e.input)}}},pv="usehead";function yC(t){return{install(n){pC&&(n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(pv,t))}}.install}function vC(t={}){t.domDelayFn=t.domDelayFn||(n=>Wi(()=>setTimeout(()=>n(),0)));const e=hC(t);return e.use(mC),e.install=yC(e),e}const Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xt<"u"?Xt:typeof self<"u"?self:{},Nu="__unhead_injection_handler__";function wC(t){Pu[Nu]=t}function _C(){if(Nu in Pu)return Pu[Nu]();const t=Pt(pv);return t||dC()}function EC(t,e={}){const n=e.head||_C();if(n)return n.ssr?n.push(t,e):IC(n,t,e)}function IC(t,e,n={}){const r=wn(!1),i=wn({});DI(()=>{i.value=r.value?{}:Na(e)});const s=t.push(i.value,n);return Vr(i,a=>{s.patch(a)}),lo()&&(gc(()=>{s.dispose()}),fy(()=>{r.value=!0}),hy(()=>{r.value=!1})),s}const bC={nuxtIcon:{aliases:{person:"mdi:account",menu:"mdi:menu"}}},TC={nuxt:{buildId:"49fa3fb9-e483-4834-ab07-2520f7a25f2e"}},SC=bS(bC,TC);function gv(){const t=Ye();return t._appConfig||(t._appConfig=Ir(SC)),t._appConfig}const Ou=!1,CC=!1,yF={componentName:"NuxtLink"},vF={deep:!0},wF={},AC="#__nuxt";let oa,mv;function kC(){var e;const t=(e=gv().nuxt)==null?void 0:e.buildId;return oa=$fetch(Kh(`builds/meta/${t}.json`)),oa.then(n=>{mv=IS(n.matcher)}),oa}function Ic(){return oa||kC()}async function Yh(t){return await Ic(),sv({},...mv.matchAll(t).reverse())}function yp(t,e={}){const n=xC(t,e),r=Ye(),i=r._payloadCache=r._payloadCache||{};return n in i||(i[n]=PC(t).then(s=>s?yv(n).then(o=>o||(delete i[n],null)):(i[n]=null,null))),i[n]}const RC="_payload.json";function xC(t,e={}){var i;const n=new URL(t,"http://localhost");if(n.host!=="localhost"||ei(n.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+t);const r=e.hash||(e.fresh?Date.now():(i=gv().nuxt)==null?void 0:i.buildId);return Hh(Wh().app.baseURL,n.pathname,RC+(r?`?${r}`:""))}async function yv(t){const e=fetch(t).then(n=>n.text().then(vv));try{return await e}catch(n){console.warn("[nuxt] Cannot load payload ",t,n)}return null}async function PC(t=av().path){if(t=jh(t),(await Ic()).prerendered.includes(t))return!0;const n=await Yh(t);return!!n.prerender&&!n.redirect}let Ho=null;async function NC(){if(Ho)return Ho;const t=document.getElementById("__NUXT_DATA__");if(!t)return{};const e=await vv(t.textContent||""),n=t.dataset.src?await yv(t.dataset.src):void 0;return Ho={...e,...n,...window.__NUXT__},Ho}async function vv(t){return await BS(t,Ye()._payloadRevivers)}function OC(t,e){Ye()._payloadRevivers[t]=e}const vp={NuxtError:t=>Ec(t),EmptyShallowRef:t=>Os(t==="_"?void 0:t==="0n"?BigInt(0):Aa(t)),EmptyRef:t=>wn(t==="_"?void 0:t==="0n"?BigInt(0):Aa(t)),ShallowRef:t=>Os(t),ShallowReactive:t=>oo(t),Ref:t=>wn(t),Reactive:t=>Ir(t)},DC=An({name:"nuxt:revive-payload:client",order:-30,async setup(t){let e,n;for(const r in vp)OC(r,vp[r]);Object.assign(t.payload,([e,n]=Us(()=>t.runWithContext(NC)),e=await e,n(),e)),window.__NUXT__=t.payload}}),MC=[],LC=An({name:"nuxt:head",enforce:"pre",setup(t){const e=vC({plugins:MC});wC(()=>Ye().vueApp._context.provides.usehead),t.vueApp.use(e);{let n=!0;const r=async()=>{n=!1,await fv(e)};e.hooks.hook("dom:beforeRender",i=>{i.shouldRender=!n}),t.hooks.hook("page:start",()=>{n=!0}),t.hooks.hook("page:finish",()=>{t.isHydrating||r()}),t.hooks.hook("app:error",r),t.hooks.hook("app:suspense:resolve",r)}}});/*!
  * vue-router v4.3.2
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ci=typeof document<"u";function FC(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Oe=Object.assign;function Il(t,e){const n={};for(const r in e){const i=e[r];n[r]=sn(i)?i.map(t):t(i)}return n}const Is=()=>{},sn=Array.isArray,wv=/#/g,UC=/&/g,BC=/\//g,$C=/=/g,VC=/\?/g,_v=/\+/g,jC=/%5B/g,HC=/%5D/g,Ev=/%5E/g,qC=/%60/g,Iv=/%7B/g,KC=/%7C/g,bv=/%7D/g,WC=/%20/g;function Jh(t){return encodeURI(""+t).replace(KC,"|").replace(jC,"[").replace(HC,"]")}function zC(t){return Jh(t).replace(Iv,"{").replace(bv,"}").replace(Ev,"^")}function Du(t){return Jh(t).replace(_v,"%2B").replace(WC,"+").replace(wv,"%23").replace(UC,"%26").replace(qC,"`").replace(Iv,"{").replace(bv,"}").replace(Ev,"^")}function GC(t){return Du(t).replace($C,"%3D")}function QC(t){return Jh(t).replace(wv,"%23").replace(VC,"%3F")}function YC(t){return t==null?"":QC(t).replace(BC,"%2F")}function Bs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const JC=/\/$/,XC=t=>t.replace(JC,"");function bl(t,e,n="/"){let r,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(r=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=nA(r??e,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:Bs(o)}}function ZC(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function wp(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eA(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Oi(e.matched[r],n.matched[i])&&Tv(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Oi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Tv(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!tA(t[n],e[n]))return!1;return!0}function tA(t,e){return sn(t)?_p(t,e):sn(e)?_p(e,t):t===e}function _p(t,e){return sn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function nA(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}var $s;(function(t){t.pop="pop",t.push="push"})($s||($s={}));var bs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(bs||(bs={}));function rA(t){if(!t)if(ci){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),XC(t)}const iA=/^[^#]+#/;function sA(t,e){return t.replace(iA,"#")+e}function oA(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const bc=()=>({left:window.scrollX,top:window.scrollY});function aA(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=oA(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ep(t,e){return(history.state?history.state.position-e:-1)+t}const Mu=new Map;function cA(t,e){Mu.set(t,e)}function lA(t){const e=Mu.get(t);return Mu.delete(t),e}let uA=()=>location.protocol+"//"+location.host;function Sv(t,e){const{pathname:n,search:r,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),wp(c,"")}return wp(n,t)+r+i}function hA(t,e,n,r){let i=[],s=[],o=null;const a=({state:p})=>{const m=Sv(t,location),_=n.value,S=e.value;let x=0;if(p){if(n.value=m,e.value=p,o&&o===_){o=null;return}x=S?p.position-S.position:0}else r(m);i.forEach(F=>{F(n.value,_,{delta:x,type:$s.pop,direction:x?x>0?bs.forward:bs.back:bs.unknown})})};function c(){o=n.value}function u(p){i.push(p);const m=()=>{const _=i.indexOf(p);_>-1&&i.splice(_,1)};return s.push(m),m}function l(){const{history:p}=window;p.state&&p.replaceState(Oe({},p.state,{scroll:bc()}),"")}function d(){for(const p of s)p();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",l)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",l,{passive:!0}),{pauseListeners:c,listen:u,destroy:d}}function Ip(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?bc():null}}function fA(t){const{history:e,location:n}=window,r={value:Sv(t,n)},i={value:e.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,u,l){const d=t.indexOf("#"),p=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+c:uA()+t+c;try{e[l?"replaceState":"pushState"](u,"",p),i.value=u}catch(m){console.error(m),n[l?"replace":"assign"](p)}}function o(c,u){const l=Oe({},e.state,Ip(i.value.back,c,i.value.forward,!0),u,{position:i.value.position});s(c,l,!0),r.value=c}function a(c,u){const l=Oe({},i.value,e.state,{forward:c,scroll:bc()});s(l.current,l,!0);const d=Oe({},Ip(r.value,c,null),{position:l.position+1},u);s(c,d,!1),r.value=c}return{location:r,state:i,push:a,replace:o}}function Cv(t){t=rA(t);const e=fA(t),n=hA(t,e.state,e.location,e.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=Oe({location:"",base:t,go:r,createHref:sA.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function dA(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Cv(t)}function pA(t){return typeof t=="string"||t&&typeof t=="object"}function Av(t){return typeof t=="string"||typeof t=="symbol"}const en={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},kv=Symbol("");var bp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(bp||(bp={}));function Di(t,e){return Oe(new Error,{type:t,[kv]:!0},e)}function kn(t,e){return t instanceof Error&&kv in t&&(e==null||!!(t.type&e))}const Tp="[^/]+?",gA={sensitive:!1,strict:!1,start:!0,end:!0},mA=/[.+*?^${}()[\]/\\]/g;function yA(t,e){const n=Oe({},gA,e),r=[];let i=n.start?"^":"";const s=[];for(const u of t){const l=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const p=u[d];let m=40+(n.sensitive?.25:0);if(p.type===0)d||(i+="/"),i+=p.value.replace(mA,"\\$&"),m+=40;else if(p.type===1){const{value:_,repeatable:S,optional:x,regexp:F}=p;s.push({name:_,repeatable:S,optional:x});const b=F||Tp;if(b!==Tp){m+=10;try{new RegExp(`(${b})`)}catch(T){throw new Error(`Invalid custom RegExp for param "${_}" (${b}): `+T.message)}}let E=S?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;d||(E=x&&u.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),i+=E,m+=20,x&&(m+=-8),S&&(m+=-20),b===".*"&&(m+=-50)}l.push(m)}r.push(l)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const l=u.match(o),d={};if(!l)return null;for(let p=1;p<l.length;p++){const m=l[p]||"",_=s[p-1];d[_.name]=m&&_.repeatable?m.split("/"):m}return d}function c(u){let l="",d=!1;for(const p of t){(!d||!l.endsWith("/"))&&(l+="/"),d=!1;for(const m of p)if(m.type===0)l+=m.value;else if(m.type===1){const{value:_,repeatable:S,optional:x}=m,F=_ in u?u[_]:"";if(sn(F)&&!S)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const b=sn(F)?F.join("/"):F;if(!b)if(x)p.length<2&&(l.endsWith("/")?l=l.slice(0,-1):d=!0);else throw new Error(`Missing required param "${_}"`);l+=b}}return l||"/"}return{re:o,score:r,keys:s,parse:a,stringify:c}}function vA(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function wA(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const s=vA(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(Sp(r))return 1;if(Sp(i))return-1}return i.length-r.length}function Sp(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _A={type:0,value:""},EA=/[a-zA-Z0-9_]/;function IA(t){if(!t)return[[]];if(t==="/")return[[_A]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(m){throw new Error(`ERR (${n})/"${u}": ${m}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,u="",l="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:l,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),u="")}function p(){u+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(u&&d(),o()):c===":"?(d(),n=1):p();break;case 4:p(),n=r;break;case 1:c==="("?n=2:EA.test(c)?p():(d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?l[l.length-1]=="\\"?l=l.slice(0,-1)+c:n=3:l+=c;break;case 3:d(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,l="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function bA(t,e,n){const r=yA(IA(t.path),n),i=Oe(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function TA(t,e){const n=[],r=new Map;e=kp({strict:!1,end:!0,sensitive:!1},e);function i(l){return r.get(l)}function s(l,d,p){const m=!p,_=SA(l);_.aliasOf=p&&p.record;const S=kp(e,l),x=[_];if("alias"in l){const E=typeof l.alias=="string"?[l.alias]:l.alias;for(const T of E)x.push(Oe({},_,{components:p?p.record.components:_.components,path:T,aliasOf:p?p.record:_}))}let F,b;for(const E of x){const{path:T}=E;if(d&&T[0]!=="/"){const P=d.record.path,A=P[P.length-1]==="/"?"":"/";E.path=d.record.path+(T&&A+T)}if(F=bA(E,d,S),p?p.alias.push(F):(b=b||F,b!==F&&b.alias.push(F),m&&l.name&&!Ap(F)&&o(l.name)),_.children){const P=_.children;for(let A=0;A<P.length;A++)s(P[A],F,p&&p.children[A])}p=p||F,(F.record.components&&Object.keys(F.record.components).length||F.record.name||F.record.redirect)&&c(F)}return b?()=>{o(b)}:Is}function o(l){if(Av(l)){const d=r.get(l);d&&(r.delete(l),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(l);d>-1&&(n.splice(d,1),l.record.name&&r.delete(l.record.name),l.children.forEach(o),l.alias.forEach(o))}}function a(){return n}function c(l){let d=0;for(;d<n.length&&wA(l,n[d])>=0&&(l.record.path!==n[d].record.path||!Rv(l,n[d]));)d++;n.splice(d,0,l),l.record.name&&!Ap(l)&&r.set(l.record.name,l)}function u(l,d){let p,m={},_,S;if("name"in l&&l.name){if(p=r.get(l.name),!p)throw Di(1,{location:l});S=p.record.name,m=Oe(Cp(d.params,p.keys.filter(b=>!b.optional).concat(p.parent?p.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),l.params&&Cp(l.params,p.keys.map(b=>b.name))),_=p.stringify(m)}else if(l.path!=null)_=l.path,p=n.find(b=>b.re.test(_)),p&&(m=p.parse(_),S=p.record.name);else{if(p=d.name?r.get(d.name):n.find(b=>b.re.test(d.path)),!p)throw Di(1,{location:l,currentLocation:d});S=p.record.name,m=Oe({},d.params,l.params),_=p.stringify(m)}const x=[];let F=p;for(;F;)x.unshift(F.record),F=F.parent;return{name:S,path:_,params:m,matched:x,meta:AA(x)}}return t.forEach(l=>s(l)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function Cp(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function SA(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:CA(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function CA(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function Ap(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function AA(t){return t.reduce((e,n)=>Oe(e,n.meta),{})}function kp(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function Rv(t,e){return e.children.some(n=>n===t||Rv(t,n))}function kA(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(_v," "),o=s.indexOf("="),a=Bs(o<0?s:s.slice(0,o)),c=o<0?null:Bs(s.slice(o+1));if(a in e){let u=e[a];sn(u)||(u=e[a]=[u]),u.push(c)}else e[a]=c}return e}function Rp(t){let e="";for(let n in t){const r=t[n];if(n=GC(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(sn(r)?r.map(s=>s&&Du(s)):[r&&Du(r)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function RA(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=sn(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const xA=Symbol(""),xp=Symbol(""),Tc=Symbol(""),Xh=Symbol(""),Lu=Symbol("");function ss(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function nr(t,e,n,r,i,s=o=>o()){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const u=p=>{p===!1?c(Di(4,{from:n,to:e})):p instanceof Error?c(p):pA(p)?c(Di(2,{from:e,to:p})):(o&&r.enterCallbacks[i]===o&&typeof p=="function"&&o.push(p),a())},l=s(()=>t.call(r&&r.instances[i],e,n,u));let d=Promise.resolve(l);t.length<3&&(d=d.then(u)),d.catch(p=>c(p))})}function Tl(t,e,n,r,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(PA(c)){const l=(c.__vccOpts||c)[e];l&&s.push(nr(l,n,r,o,a,i))}else{let u=c();s.push(()=>u.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${o.path}"`));const d=FC(l)?l.default:l;o.components[a]=d;const m=(d.__vccOpts||d)[e];return m&&nr(m,n,r,o,a,i)()}))}}return s}function PA(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Pp(t){const e=Pt(Tc),n=Pt(Xh),r=nn(()=>{const c=qe(t.to);return e.resolve(c)}),i=nn(()=>{const{matched:c}=r.value,{length:u}=c,l=c[u-1],d=n.matched;if(!l||!d.length)return-1;const p=d.findIndex(Oi.bind(null,l));if(p>-1)return p;const m=Np(c[u-2]);return u>1&&Np(l)===m&&d[d.length-1].path!==m?d.findIndex(Oi.bind(null,c[u-2])):p}),s=nn(()=>i.value>-1&&MA(n.params,r.value.params)),o=nn(()=>i.value>-1&&i.value===n.matched.length-1&&Tv(n.params,r.value.params));function a(c={}){return DA(c)?e[qe(t.replace)?"replace":"push"](qe(t.to)).catch(Is):Promise.resolve()}return{route:r,href:nn(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const NA=ao({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Pp,setup(t,{slots:e}){const n=Ir(Pp(t)),{options:r}=Pt(Tc),i=nn(()=>({[Op(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Op(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Dn("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),OA=NA;function DA(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MA(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!sn(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function Np(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Op=(t,e,n)=>t??e??n,LA=ao({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Pt(Lu),i=nn(()=>t.route||r.value),s=Pt(xp,0),o=nn(()=>{let u=qe(s);const{matched:l}=i.value;let d;for(;(d=l[u])&&!d.components;)u++;return u}),a=nn(()=>i.value.matched[o.value]);_i(xp,nn(()=>o.value+1)),_i(xA,a),_i(Lu,i);const c=wn();return Vr(()=>[c.value,a.value,t.name],([u,l,d],[p,m,_])=>{l&&(l.instances[d]=u,m&&m!==l&&u&&u===p&&(l.leaveGuards.size||(l.leaveGuards=m.leaveGuards),l.updateGuards.size||(l.updateGuards=m.updateGuards))),u&&l&&(!m||!Oi(l,m)||!p)&&(l.enterCallbacks[d]||[]).forEach(S=>S(u))},{flush:"post"}),()=>{const u=i.value,l=t.name,d=a.value,p=d&&d.components[l];if(!p)return Dp(n.default,{Component:p,route:u});const m=d.props[l],_=m?m===!0?u.params:typeof m=="function"?m(u):m:null,x=Dn(p,Oe({},_,e,{onVnodeUnmounted:F=>{F.component.isUnmounted&&(d.instances[l]=null)},ref:c}));return Dp(n.default,{Component:x,route:u})||x}}});function Dp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const xv=LA;function FA(t){const e=TA(t.routes,t),n=t.parseQuery||kA,r=t.stringifyQuery||Rp,i=t.history,s=ss(),o=ss(),a=ss(),c=Os(en);let u=en;ci&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const l=Il.bind(null,N=>""+N),d=Il.bind(null,YC),p=Il.bind(null,Bs);function m(N,K){let W,te;return Av(N)?(W=e.getRecordMatcher(N),te=K):te=N,e.addRoute(te,W)}function _(N){const K=e.getRecordMatcher(N);K&&e.removeRoute(K)}function S(){return e.getRoutes().map(N=>N.record)}function x(N){return!!e.getRecordMatcher(N)}function F(N,K){if(K=Oe({},K||c.value),typeof N=="string"){const w=bl(n,N,K.path),C=e.resolve({path:w.path},K),L=i.createHref(w.fullPath);return Oe(w,C,{params:p(C.params),hash:Bs(w.hash),redirectedFrom:void 0,href:L})}let W;if(N.path!=null)W=Oe({},N,{path:bl(n,N.path,K.path).path});else{const w=Oe({},N.params);for(const C in w)w[C]==null&&delete w[C];W=Oe({},N,{params:d(w)}),K.params=d(K.params)}const te=e.resolve(W,K),pe=N.hash||"";te.params=l(p(te.params));const Ie=ZC(r,Oe({},N,{hash:zC(pe),path:te.path})),y=i.createHref(Ie);return Oe({fullPath:Ie,hash:pe,query:r===Rp?RA(N.query):N.query||{}},te,{redirectedFrom:void 0,href:y})}function b(N){return typeof N=="string"?bl(n,N,c.value.path):Oe({},N)}function E(N,K){if(u!==N)return Di(8,{from:K,to:N})}function T(N){return $(N)}function P(N){return T(Oe(b(N),{replace:!0}))}function A(N){const K=N.matched[N.matched.length-1];if(K&&K.redirect){const{redirect:W}=K;let te=typeof W=="function"?W(N):W;return typeof te=="string"&&(te=te.includes("?")||te.includes("#")?te=b(te):{path:te},te.params={}),Oe({query:N.query,hash:N.hash,params:te.path!=null?{}:N.params},te)}}function $(N,K){const W=u=F(N),te=c.value,pe=N.state,Ie=N.force,y=N.replace===!0,w=A(W);if(w)return $(Oe(b(w),{state:typeof w=="object"?Oe({},pe,w.state):pe,force:Ie,replace:y}),K||W);const C=W;C.redirectedFrom=K;let L;return!Ie&&eA(r,te,W)&&(L=Di(16,{to:C,from:te}),mt(te,te,!0,!1)),(L?Promise.resolve(L):H(C,te)).catch(M=>kn(M)?kn(M,2)?M:kt(M):re(M,C,te)).then(M=>{if(M){if(kn(M,2))return $(Oe({replace:y},b(M.to),{state:typeof M.to=="object"?Oe({},pe,M.to.state):pe,force:Ie}),K||C)}else M=k(C,te,!0,y,pe);return B(C,te,M),M})}function O(N,K){const W=E(N,K);return W?Promise.reject(W):Promise.resolve()}function V(N){const K=Ee.values().next().value;return K&&typeof K.runWithContext=="function"?K.runWithContext(N):N()}function H(N,K){let W;const[te,pe,Ie]=UA(N,K);W=Tl(te.reverse(),"beforeRouteLeave",N,K);for(const w of te)w.leaveGuards.forEach(C=>{W.push(nr(C,N,K))});const y=O.bind(null,N,K);return W.push(y),Ne(W).then(()=>{W=[];for(const w of s.list())W.push(nr(w,N,K));return W.push(y),Ne(W)}).then(()=>{W=Tl(pe,"beforeRouteUpdate",N,K);for(const w of pe)w.updateGuards.forEach(C=>{W.push(nr(C,N,K))});return W.push(y),Ne(W)}).then(()=>{W=[];for(const w of Ie)if(w.beforeEnter)if(sn(w.beforeEnter))for(const C of w.beforeEnter)W.push(nr(C,N,K));else W.push(nr(w.beforeEnter,N,K));return W.push(y),Ne(W)}).then(()=>(N.matched.forEach(w=>w.enterCallbacks={}),W=Tl(Ie,"beforeRouteEnter",N,K,V),W.push(y),Ne(W))).then(()=>{W=[];for(const w of o.list())W.push(nr(w,N,K));return W.push(y),Ne(W)}).catch(w=>kn(w,8)?w:Promise.reject(w))}function B(N,K,W){a.list().forEach(te=>V(()=>te(N,K,W)))}function k(N,K,W,te,pe){const Ie=E(N,K);if(Ie)return Ie;const y=K===en,w=ci?history.state:{};W&&(te||y?i.replace(N.fullPath,Oe({scroll:y&&w&&w.scroll},pe)):i.push(N.fullPath,pe)),c.value=N,mt(N,K,W,y),kt()}let Q;function ee(){Q||(Q=i.listen((N,K,W)=>{if(!Pe.listening)return;const te=F(N),pe=A(te);if(pe){$(Oe(pe,{replace:!0}),te).catch(Is);return}u=te;const Ie=c.value;ci&&cA(Ep(Ie.fullPath,W.delta),bc()),H(te,Ie).catch(y=>kn(y,12)?y:kn(y,2)?($(y.to,te).then(w=>{kn(w,20)&&!W.delta&&W.type===$s.pop&&i.go(-1,!1)}).catch(Is),Promise.reject()):(W.delta&&i.go(-W.delta,!1),re(y,te,Ie))).then(y=>{y=y||k(te,Ie,!1),y&&(W.delta&&!kn(y,8)?i.go(-W.delta,!1):W.type===$s.pop&&kn(y,20)&&i.go(-1,!1)),B(te,Ie,y)}).catch(Is)}))}let ye=ss(),J=ss(),ce;function re(N,K,W){kt(N);const te=J.list();return te.length?te.forEach(pe=>pe(N,K,W)):console.error(N),Promise.reject(N)}function Xe(){return ce&&c.value!==en?Promise.resolve():new Promise((N,K)=>{ye.add([N,K])})}function kt(N){return ce||(ce=!N,ee(),ye.list().forEach(([K,W])=>N?W(N):K()),ye.reset()),N}function mt(N,K,W,te){const{scrollBehavior:pe}=t;if(!ci||!pe)return Promise.resolve();const Ie=!W&&lA(Ep(N.fullPath,0))||(te||!W)&&history.state&&history.state.scroll||null;return Wi().then(()=>pe(N,K,Ie)).then(y=>y&&aA(y)).catch(y=>re(y,N,K))}const Ge=N=>i.go(N);let st;const Ee=new Set,Pe={currentRoute:c,listening:!0,addRoute:m,removeRoute:_,hasRoute:x,getRoutes:S,resolve:F,options:t,push:T,replace:P,go:Ge,back:()=>Ge(-1),forward:()=>Ge(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:J.add,isReady:Xe,install(N){const K=this;N.component("RouterLink",OA),N.component("RouterView",xv),N.config.globalProperties.$router=K,Object.defineProperty(N.config.globalProperties,"$route",{enumerable:!0,get:()=>qe(c)}),ci&&!st&&c.value===en&&(st=!0,T(i.location).catch(pe=>{}));const W={};for(const pe in en)Object.defineProperty(W,pe,{get:()=>c.value[pe],enumerable:!0});N.provide(Tc,K),N.provide(Xh,oo(W)),N.provide(Lu,c);const te=N.unmount;Ee.add(N),N.unmount=function(){Ee.delete(N),Ee.size<1&&(u=en,Q&&Q(),Q=null,c.value=en,st=!1,ce=!1),te()}}};function Ne(N){return N.reduce((K,W)=>K.then(()=>V(W)),Promise.resolve())}return Pe}function UA(t,e){const n=[],r=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Oi(u,a))?r.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(u=>Oi(u,c))||i.push(c))}return[n,r,i]}function _F(){return Pt(Tc)}function EF(){return Pt(Xh)}const BA=(t,e)=>e.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""}),Fu=(t,e)=>{const n=t.route.matched.find(i=>{var s;return((s=i.components)==null?void 0:s.default)===t.Component.type}),r=e??(n==null?void 0:n.meta.key)??(n&&BA(t.route,n));return typeof r=="function"?r(t.route):r},$A=(t,e)=>({default:()=>t?Dn($I,t===!0?{}:t,e):e});function Zh(t){return Array.isArray(t)?t:[t]}const VA="modulepreload",jA=function(t,e){return t[0]==="."?new URL(t,e).href:t},Mp={},HA=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.all(n.map(c=>{if(c=jA(c,r),c in Mp)return;Mp[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const _=s[m];if(_.href===c&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${l}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":VA,u||(p.as="script",p.crossOrigin=""),p.href=c,a&&p.setAttribute("nonce",a),document.head.appendChild(p),u)return new Promise((m,_)=>{p.addEventListener("load",m),p.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Ht=(...t)=>HA(...t).catch(e=>{const n=new Event("nuxt.preloadError");throw n.payload=e,window.dispatchEvent(n),e}),Sl=null,Cl=null,Al=null,kl=null,Rl=null,xl=null,Pl=null,Nl=null,Lp=[{name:"Deep",path:"/Deep",meta:{},alias:[],redirect:Sl==null?void 0:Sl.redirect,component:()=>Ht(()=>import("./DszsoTHC.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(t=>t.default||t)},{name:"History",path:"/History",meta:{},alias:[],redirect:Cl==null?void 0:Cl.redirect,component:()=>Ht(()=>import("./BqRY-Qea.js"),__vite__mapDeps([4,5,1,2,3]),import.meta.url).then(t=>t.default||t)},{name:"index",path:"/",meta:{},alias:[],redirect:Al==null?void 0:Al.redirect,component:()=>Ht(()=>import("./X0_ptZKl.js"),__vite__mapDeps([6,7,1,2,3,5]),import.meta.url).then(t=>t.default||t)},{name:"Price",path:"/Price",meta:{},alias:[],redirect:kl==null?void 0:kl.redirect,component:()=>Ht(()=>import("./BKTBkhmi.js"),__vite__mapDeps([8,7,1,2,3]),import.meta.url).then(t=>t.default||t)},{name:"Profile",path:"/Profile",meta:{},alias:[],redirect:Rl==null?void 0:Rl.redirect,component:()=>Ht(()=>import("./C3nBtsiQ.js"),__vite__mapDeps([9,1,2,3]),import.meta.url).then(t=>t.default||t)},{name:"Trade-slug",path:"/Trade/:slug()",meta:{},alias:[],redirect:xl==null?void 0:xl.redirect,component:()=>Ht(()=>import("./CHbBsdSD.js"),__vite__mapDeps([10,5,1,2,3,11]),import.meta.url).then(t=>t.default||t)},{name:"watchlist",path:"/watchlist",meta:{},alias:[],redirect:Pl==null?void 0:Pl.redirect,component:()=>Ht(()=>import("./DtkZo4t5.js"),__vite__mapDeps([12,5,1,2,3]),import.meta.url).then(t=>t.default||t)},{name:"Whale-address",path:"/Whale/:address()",meta:{},alias:[],redirect:Nl==null?void 0:Nl.redirect,component:()=>Ht(()=>import("./CM9cSAiZ.js"),__vite__mapDeps([13,2,1,3,11,14]),import.meta.url).then(t=>t.default||t)}],qA=(t,e,n)=>(e=e===!0?{}:e,{default:()=>{var r;return e?Dn(t,e,n):(r=n.default)==null?void 0:r.call(n)}});function Fp(t){const e=(t==null?void 0:t.meta.key)??t.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,n=>{var r;return((r=t.params[n.slice(1)])==null?void 0:r.toString())||""});return typeof e=="function"?e(t):e}function KA(t,e){return t===e||e===en?!1:Fp(t)!==Fp(e)?!0:!t.matched.every((r,i)=>{var s,o;return r.components&&r.components.default===((o=(s=e.matched[i])==null?void 0:s.components)==null?void 0:o.default)})}const WA={scrollBehavior(t,e,n){var u;const r=Ye(),i=((u=qn().options)==null?void 0:u.scrollBehaviorType)??"auto";let s=n||void 0;const o=typeof t.meta.scrollToTop=="function"?t.meta.scrollToTop(t,e):t.meta.scrollToTop;if(!s&&e&&t&&o!==!1&&KA(t,e)&&(s={left:0,top:0}),t.path===e.path)return e.hash&&!t.hash?{left:0,top:0}:t.hash?{el:t.hash,top:Up(t.hash),behavior:i}:!1;const a=l=>!!(l.meta.pageTransition??Ou),c=a(e)&&a(t)?"page:transition:finish":"page:finish";return new Promise(l=>{r.hooks.hookOnce(c,async()=>{await new Promise(d=>setTimeout(d,0)),t.hash&&(s={el:t.hash,top:Up(t.hash),behavior:i}),l(s)})})}};function Up(t){try{const e=document.querySelector(t);if(e)return parseFloat(getComputedStyle(e).scrollMarginTop)}catch{}return 0}const zA={hashMode:!1,scrollBehaviorType:"auto"},Ut={...zA,...WA},GA=async t=>{var c;let e,n;if(!((c=t.meta)!=null&&c.validate))return;const r=Ye(),i=qn();if(([e,n]=Us(()=>Promise.resolve(t.meta.validate(t))),e=await e,n(),e)===!0)return;const o=Ec({statusCode:404,statusMessage:`Page Not Found: ${t.fullPath}`,data:{path:t.fullPath}}),a=i.beforeResolve(u=>{if(a(),u===t){const l=i.afterEach(async()=>{l(),await r.runWithContext(()=>hi(o)),window.history.pushState({},"",t.fullPath)});return!1}})},QA=async t=>{let e,n;const r=([e,n]=Us(()=>Yh(t.path)),e=await e,n(),e);if(r.redirect)return ei(r.redirect,{acceptRelative:!0})?(window.location.href=r.redirect,!1):r.redirect},YA=[GA,QA],Ts={};function JA(t,e,n){const{pathname:r,search:i,hash:s}=e,o=t.indexOf("#");if(o>-1){const u=s.includes(t.slice(o))?t.slice(o).length:1;let l=s.slice(u);return l[0]!=="/"&&(l="/"+l),sp(l,"")}const a=sp(r,t),c=!n||PT(a,n,{trailingSlash:!0})?a:n;return c+(c.includes("?")?"":i)+s}const XA=An({name:"nuxt:router",enforce:"pre",async setup(t){var x,F;let e,n,r=Wh().app.baseURL;Ut.hashMode&&!r.includes("#")&&(r+="#");const i=((x=Ut.history)==null?void 0:x.call(Ut,r))??(Ut.hashMode?dA(r):Cv(r)),s=((F=Ut.routes)==null?void 0:F.call(Ut,Lp))??Lp;let o;const a=FA({...Ut,scrollBehavior:(b,E,T)=>{if(E===en){o=T;return}if(Ut.scrollBehavior){if(a.options.scrollBehavior=Ut.scrollBehavior,"scrollRestoration"in window.history){const P=a.beforeEach(()=>{P(),window.history.scrollRestoration="manual"})}return Ut.scrollBehavior(b,en,o||T)}},history:i,routes:s});"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),t.vueApp.use(a);const c=Os(a.currentRoute.value);a.afterEach((b,E)=>{c.value=E}),Object.defineProperty(t.vueApp.config.globalProperties,"previousRoute",{get:()=>c.value});const u=JA(r,window.location,t.payload.path),l=Os(a.currentRoute.value),d=()=>{l.value=a.currentRoute.value};t.hook("page:finish",d),a.afterEach((b,E)=>{var T,P,A,$;((P=(T=b.matched[0])==null?void 0:T.components)==null?void 0:P.default)===(($=(A=E.matched[0])==null?void 0:A.components)==null?void 0:$.default)&&d()});const p={};for(const b in l.value)Object.defineProperty(p,b,{get:()=>l.value[b]});t._route=oo(p),t._middleware=t._middleware||{global:[],named:{}};try{[e,n]=Us(()=>a.isReady()),await e,n()}catch(b){[e,n]=Us(()=>t.runWithContext(()=>hi(b))),await e,n()}const m=u!==a.currentRoute.value.fullPath?a.resolve(u):a.currentRoute.value;d();const _=t.payload.state._layout;a.beforeEach(async(b,E)=>{var T;await t.callHook("page:loading:start"),b.meta=Ir(b.meta),t.isHydrating&&_&&!Ri(b.meta.layout)&&(b.meta.layout=_),t._processingMiddleware=!0;{const P=new Set([...YA,...t._middleware.global]);for(const A of b.matched){const $=A.meta.middleware;if($)for(const O of Zh($))P.add(O)}{const A=await t.runWithContext(()=>Yh(b.path));if(A.appMiddleware)for(const $ in A.appMiddleware)A.appMiddleware[$]?P.add($):P.delete($)}for(const A of P){const $=typeof A=="string"?t._middleware.named[A]||await((T=Ts[A])==null?void 0:T.call(Ts).then(V=>V.default||V)):A;if(!$)throw new Error(`Unknown route middleware: '${A}'.`);const O=await t.runWithContext(()=>$(b,E));if(!t.payload.serverRendered&&t.isHydrating&&(O===!1||O instanceof Error)){const V=O||Ru({statusCode:404,statusMessage:`Page Not Found: ${u}`});return await t.runWithContext(()=>hi(V)),!1}if(O!==!0&&(O||O===!1))return O}}}),a.onError(async()=>{delete t._processingMiddleware,await t.callHook("page:loading:end")});const S=_c();return a.afterEach(async(b,E,T)=>{delete t._processingMiddleware,!t.isHydrating&&S.value&&await t.runWithContext(PS),T&&await t.callHook("page:loading:end"),b.matched.length===0&&await t.runWithContext(()=>hi(Ru({statusCode:404,fatal:!1,statusMessage:`Page not found: ${b.fullPath}`,data:{path:b.fullPath}})))}),t.hooks.hookOnce("app:created",async()=>{try{"name"in m&&(m.name=void 0),await a.replace({...m,force:!0}),a.options.scrollBehavior=Ut.scrollBehavior}catch(b){await t.runWithContext(()=>hi(b))}}),{provide:{router:a}}}}),Bp=globalThis.requestIdleCallback||(t=>{const e=Date.now(),n={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{t(n)},1)}),IF=globalThis.cancelIdleCallback||(t=>{clearTimeout(t)}),Pv=t=>{const e=Ye();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{Bp(t)}):Bp(t)},ZA=An({name:"nuxt:payload",setup(t){qn().beforeResolve(async(e,n)=>{if(e.path===n.path)return;const r=await yp(e.path);r&&Object.assign(t.static.data,r.data)}),Pv(()=>{var e;t.hooks.hook("link:prefetch",async n=>{yc(n).protocol||await yp(n)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(Ic,1e3)})}}),e1=An(t=>{let e;async function n(){const r=await Ic();e&&clearTimeout(e),e=setTimeout(n,1e3*60*60);try{const i=await $fetch(Kh("builds/latest.json")+`?${Date.now()}`);i.id!==r.id&&t.hooks.callHook("app:manifest:update",i)}catch{}}Pv(()=>{e=setTimeout(n,1e3*60*60)})}),t1=du(()=>Ht(()=>import("./DT7w2XFO.js"),__vite__mapDeps([15,2,16]),import.meta.url).then(t=>t.default||t.default||t)),n1=[["Icon",t1]],r1=An({name:"nuxt:global-components",setup(t){for(const[e,n]of n1)t.vueApp.component(e,n),t.vueApp.component("Lazy"+e,n)}}),qo={default:()=>Ht(()=>import("./3gOkwZIB.js"),[],import.meta.url).then(t=>t.default||t)},i1=An({name:"nuxt:prefetch",setup(t){const e=qn();t.hooks.hook("app:mounted",()=>{e.beforeEach(async n=>{var i;const r=(i=n==null?void 0:n.meta)==null?void 0:i.layout;r&&typeof qo[r]=="function"&&await qo[r]()})}),t.hooks.hook("link:prefetch",n=>{if(ei(n))return;const r=e.resolve(n);if(!r)return;const i=r.meta.layout;let s=Zh(r.meta.middleware);s=s.filter(o=>typeof o=="string");for(const o of s)typeof Ts[o]=="function"&&Ts[o]();i&&typeof qo[i]=="function"&&qo[i]()})}});function s1(t={}){const e=t.path||window.location.pathname;let n={};try{n=Aa(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(t.force||(n==null?void 0:n.path)!==e||(n==null?void 0:n.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(t.ttl??1e4)}))}catch{}if(t.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Ye().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const o1=An({name:"nuxt:chunk-reload",setup(t){const e=qn(),n=Wh(),r=new Set;e.beforeEach(()=>{r.clear()}),t.hook("app:chunkError",({error:s})=>{r.add(s)});function i(s){const a="href"in s&&s.href[0]==="#"?n.app.baseURL+s.href:Hh(n.app.baseURL,s.fullPath);s1({path:a,persistState:!0})}t.hook("app:manifest:update",()=>{e.beforeResolve(i)}),e.onError((s,o)=>{r.has(s)&&i(o)})}});var a1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function c1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nv={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(a1,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function s(ee){return ee&&ee.__esModule?ee:{default:ee}}var o=Object.assign||function(ee){for(var ye=1;ye<arguments.length;ye++){var J=arguments[ye];for(var ce in J)Object.prototype.hasOwnProperty.call(J,ce)&&(ee[ce]=J[ce])}return ee},a=i(1),c=(s(a),i(6)),u=s(c),l=i(7),d=s(l),p=i(8),m=s(p),_=i(9),S=s(_),x=i(10),F=s(x),b=i(11),E=s(b),T=i(14),P=s(T),A=[],$=!1,O={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},V=function(){var ee=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(ee&&($=!0),$)return A=(0,E.default)(A,O),(0,F.default)(A,O.once),A},H=function(){A=(0,P.default)(),V()},B=function(){A.forEach(function(ee,ye){ee.node.removeAttribute("data-aos"),ee.node.removeAttribute("data-aos-easing"),ee.node.removeAttribute("data-aos-duration"),ee.node.removeAttribute("data-aos-delay")})},k=function(ee){return ee===!0||ee==="mobile"&&S.default.mobile()||ee==="phone"&&S.default.phone()||ee==="tablet"&&S.default.tablet()||typeof ee=="function"&&ee()===!0},Q=function(ee){O=o(O,ee),A=(0,P.default)();var ye=document.all&&!window.atob;return k(O.disable)||ye?B():(O.disableMutationObserver||m.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),O.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",O.easing),document.querySelector("body").setAttribute("data-aos-duration",O.duration),document.querySelector("body").setAttribute("data-aos-delay",O.delay),O.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?V(!0):O.startEvent==="load"?window.addEventListener(O.startEvent,function(){V(!0)}):document.addEventListener(O.startEvent,function(){V(!0)}),window.addEventListener("resize",(0,d.default)(V,O.debounceDelay,!0)),window.addEventListener("orientationchange",(0,d.default)(V,O.debounceDelay,!0)),window.addEventListener("scroll",(0,u.default)(function(){(0,F.default)(A,O.once)},O.throttleDelay)),O.disableMutationObserver||m.default.ready("[data-aos]",H),A)};n.exports={init:Q,refresh:V,refreshHard:H}},function(n,r){},,,,,function(n,r){(function(i){function s(k,Q,ee){function ye(w){var C=Ee,L=Pe;return Ee=Pe=void 0,te=w,N=k.apply(L,C)}function J(w){return te=w,K=setTimeout(Xe,Q),pe?ye(w):N}function ce(w){var C=w-W,L=w-te,M=Q-C;return Ie?H(M,Ne-L):M}function re(w){var C=w-W,L=w-te;return W===void 0||C>=Q||C<0||Ie&&L>=Ne}function Xe(){var w=B();return re(w)?kt(w):void(K=setTimeout(Xe,ce(w)))}function kt(w){return K=void 0,y&&Ee?ye(w):(Ee=Pe=void 0,N)}function mt(){K!==void 0&&clearTimeout(K),te=0,Ee=W=Pe=K=void 0}function Ge(){return K===void 0?N:kt(B())}function st(){var w=B(),C=re(w);if(Ee=arguments,Pe=this,W=w,C){if(K===void 0)return J(W);if(Ie)return K=setTimeout(Xe,Q),ye(W)}return K===void 0&&(K=setTimeout(Xe,Q)),N}var Ee,Pe,Ne,N,K,W,te=0,pe=!1,Ie=!1,y=!0;if(typeof k!="function")throw new TypeError(p);return Q=l(Q)||0,a(ee)&&(pe=!!ee.leading,Ie="maxWait"in ee,Ne=Ie?V(l(ee.maxWait)||0,Q):Ne,y="trailing"in ee?!!ee.trailing:y),st.cancel=mt,st.flush=Ge,st}function o(k,Q,ee){var ye=!0,J=!0;if(typeof k!="function")throw new TypeError(p);return a(ee)&&(ye="leading"in ee?!!ee.leading:ye,J="trailing"in ee?!!ee.trailing:J),s(k,Q,{leading:ye,maxWait:Q,trailing:J})}function a(k){var Q=typeof k>"u"?"undefined":d(k);return!!k&&(Q=="object"||Q=="function")}function c(k){return!!k&&(typeof k>"u"?"undefined":d(k))=="object"}function u(k){return(typeof k>"u"?"undefined":d(k))=="symbol"||c(k)&&O.call(k)==_}function l(k){if(typeof k=="number")return k;if(u(k))return m;if(a(k)){var Q=typeof k.valueOf=="function"?k.valueOf():k;k=a(Q)?Q+"":Q}if(typeof k!="string")return k===0?k:+k;k=k.replace(S,"");var ee=F.test(k);return ee||b.test(k)?E(k.slice(2),ee?2:8):x.test(k)?m:+k}var d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},p="Expected a function",m=NaN,_="[object Symbol]",S=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,F=/^0b[01]+$/i,b=/^0o[0-7]+$/i,E=parseInt,T=(typeof i>"u"?"undefined":d(i))=="object"&&i&&i.Object===Object&&i,P=(typeof self>"u"?"undefined":d(self))=="object"&&self&&self.Object===Object&&self,A=T||P||Function("return this")(),$=Object.prototype,O=$.toString,V=Math.max,H=Math.min,B=function(){return A.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(i){function s(B,k,Q){function ee(y){var w=st,C=Ee;return st=Ee=void 0,W=y,Ne=B.apply(C,w)}function ye(y){return W=y,N=setTimeout(re,k),te?ee(y):Ne}function J(y){var w=y-K,C=y-W,L=k-w;return pe?V(L,Pe-C):L}function ce(y){var w=y-K,C=y-W;return K===void 0||w>=k||w<0||pe&&C>=Pe}function re(){var y=H();return ce(y)?Xe(y):void(N=setTimeout(re,J(y)))}function Xe(y){return N=void 0,Ie&&st?ee(y):(st=Ee=void 0,Ne)}function kt(){N!==void 0&&clearTimeout(N),W=0,st=K=Ee=N=void 0}function mt(){return N===void 0?Ne:Xe(H())}function Ge(){var y=H(),w=ce(y);if(st=arguments,Ee=this,K=y,w){if(N===void 0)return ye(K);if(pe)return N=setTimeout(re,k),ee(K)}return N===void 0&&(N=setTimeout(re,k)),Ne}var st,Ee,Pe,Ne,N,K,W=0,te=!1,pe=!1,Ie=!0;if(typeof B!="function")throw new TypeError(d);return k=u(k)||0,o(Q)&&(te=!!Q.leading,pe="maxWait"in Q,Pe=pe?O(u(Q.maxWait)||0,k):Pe,Ie="trailing"in Q?!!Q.trailing:Ie),Ge.cancel=kt,Ge.flush=mt,Ge}function o(B){var k=typeof B>"u"?"undefined":l(B);return!!B&&(k=="object"||k=="function")}function a(B){return!!B&&(typeof B>"u"?"undefined":l(B))=="object"}function c(B){return(typeof B>"u"?"undefined":l(B))=="symbol"||a(B)&&$.call(B)==m}function u(B){if(typeof B=="number")return B;if(c(B))return p;if(o(B)){var k=typeof B.valueOf=="function"?B.valueOf():B;B=o(k)?k+"":k}if(typeof B!="string")return B===0?B:+B;B=B.replace(_,"");var Q=x.test(B);return Q||F.test(B)?b(B.slice(2),Q?2:8):S.test(B)?p:+B}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},d="Expected a function",p=NaN,m="[object Symbol]",_=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,F=/^0o[0-7]+$/i,b=parseInt,E=(typeof i>"u"?"undefined":l(i))=="object"&&i&&i.Object===Object&&i,T=(typeof self>"u"?"undefined":l(self))=="object"&&self&&self.Object===Object&&self,P=E||T||Function("return this")(),A=Object.prototype,$=A.toString,O=Math.max,V=Math.min,H=function(){return P.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){function i(l){var d=void 0,p=void 0;for(d=0;d<l.length;d+=1)if(p=l[d],p.dataset&&p.dataset.aos||p.children&&i(p.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(l,d){var p=window.document,m=s(),_=new m(c);u=d,_.observe(p.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function c(l){l&&l.forEach(function(d){var p=Array.prototype.slice.call(d.addedNodes),m=Array.prototype.slice.call(d.removedNodes),_=p.concat(m);if(i(_))return u()})}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){};r.default={isSupported:o,ready:a}},function(n,r){function i(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(m,_){for(var S=0;S<_.length;S++){var x=_[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,_,S){return _&&p(m.prototype,_),S&&p(m,S),m}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,u=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=function(){function p(){i(this,p)}return o(p,[{key:"phone",value:function(){var m=s();return!(!a.test(m)&&!c.test(m.substr(0,4)))}},{key:"mobile",value:function(){var m=s();return!(!u.test(m)&&!l.test(m.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),p}();r.default=new d},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,a,c){var u=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof u<"u"&&(u==="false"||!c&&u!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var c=window.pageYOffset,u=window.innerHeight;o.forEach(function(l,d){i(l,u+c,a)})};r.default=s},function(n,r,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=s(o),c=function(u,l){return u.forEach(function(d,p){d.node.classList.add("aos-init"),d.position=(0,a.default)(d.node,l.offset)}),u};r.default=c},function(n,r,i){function s(u){return u&&u.__esModule?u:{default:u}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),a=s(o),c=function(u,l){var d=0,p=0,m=window.innerHeight,_={offset:u.getAttribute("data-aos-offset"),anchor:u.getAttribute("data-aos-anchor"),anchorPlacement:u.getAttribute("data-aos-anchor-placement")};switch(_.offset&&!isNaN(_.offset)&&(p=parseInt(_.offset)),_.anchor&&document.querySelectorAll(_.anchor)&&(u=document.querySelectorAll(_.anchor)[0]),d=(0,a.default)(u).top,_.anchorPlacement){case"top-bottom":break;case"center-bottom":d+=u.offsetHeight/2;break;case"bottom-bottom":d+=u.offsetHeight;break;case"top-center":d+=m/2;break;case"bottom-center":d+=m/2+u.offsetHeight;break;case"center-center":d+=m/2+u.offsetHeight/2;break;case"top-top":d+=m;break;case"bottom-top":d+=u.offsetHeight+m;break;case"center-top":d+=u.offsetHeight/2+m}return _.anchorPlacement||_.offset||isNaN(l)||(p=l),d+p};r.default=c},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};r.default=i}])})})(Nv);var l1=Nv.exports;const u1=c1(l1),h1=An(t=>{typeof window<"u"&&(t.AOS=u1.init())}),f1=An(()=>{typeof window<"u"&&(window.Buffer=_S)}),d1=[DC,LC,XA,ZA,e1,r1,i1,o1,h1,f1],p1=ao({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(t){const e=t.renderKey,n=t.route,r={};for(const i in t.route)Object.defineProperty(r,i,{get:()=>e===t.renderKey?t.route[i]:n[i]});return _i(wc,oo(r)),()=>Dn(t.vnode,{ref:t.vnodeRef})}}),g1=ao({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(t,{attrs:e,expose:n}){const r=Ye(),i=wn(),s=Pt(wc,null);let o;n({pageRef:i});const a=Pt(RS,null);let c;const u=r.deferHydration();if(r.isHydrating){const l=r.hooks.hookOnce("app:error",u);qn().beforeEach(l)}return t.pageKey&&Vr(()=>t.pageKey,(l,d)=>{l!==d&&r.callHook("page:loading:start")}),()=>Dn(xv,{name:t.name,route:t.route,...e},{default:l=>{const d=y1(s,l.route,l.Component),p=s&&s.matched.length===l.route.matched.length;if(!l.Component){if(c&&!p)return c;u();return}if(c&&a&&!a.isCurrent(l.route))return c;if(d&&s&&(!a||a!=null&&a.isCurrent(s)))return p?c:null;const m=Fu(l,t.pageKey);!r.isHydrating&&!v1(s,l.route,l.Component)&&o===m&&r.callHook("page:loading:end"),o=m;const _=!!(t.transition??l.route.meta.pageTransition??Ou),S=_&&m1([t.transition,l.route.meta.pageTransition,Ou,{onAfterLeave:()=>{r.callHook("page:transition:finish",l.Component)}}].filter(Boolean)),x=t.keepalive??l.route.meta.keepalive??CC;return c=qA($h,_&&S,$A(x,Dn(sy,{suspensible:!0,onPending:()=>r.callHook("page:start",l.Component),onResolve:()=>{Wi(()=>r.callHook("page:finish",l.Component).then(()=>r.callHook("page:loading:end")).finally(u))}},{default:()=>{const F=Dn(p1,{key:m||void 0,vnode:l.Component,route:l.route,renderKey:m||void 0,trackRootNodes:_,vnodeRef:i});return x&&(F.type.name=l.Component.type.name||l.Component.type.__name||"RouteProvider"),F}}))).default(),c}})}});function m1(t){const e=t.map(n=>({...n,onAfterLeave:n.onAfterLeave?Zh(n.onAfterLeave):void 0}));return sv(...e)}function y1(t,e,n){if(!t)return!1;const r=e.matched.findIndex(i=>{var s;return((s=i.components)==null?void 0:s.default)===(n==null?void 0:n.type)});return!r||r===-1?!1:e.matched.slice(0,r).some((i,s)=>{var o,a,c;return((o=i.components)==null?void 0:o.default)!==((c=(a=t.matched[s])==null?void 0:a.components)==null?void 0:c.default)})||n&&Fu({route:e,Component:n})!==Fu({route:t,Component:n})}function v1(t,e,n){return t?e.matched.findIndex(i=>{var s;return((s=i.components)==null?void 0:s.default)===(n==null?void 0:n.type)})<e.matched.length-1:!1}const w1="$s";function _1(...t){const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&t.unshift(e);const[n,r]=t;if(!n||typeof n!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+n);if(r!==void 0&&typeof r!="function")throw new Error("[nuxt] [useState] init must be a function: "+r);const i=w1+n,s=Ye(),o=Qm(s.payload.state,i);if(o.value===void 0&&r){const a=r();if(gt(a))return s.payload.state[i]=a,a;o.value=a}return o}const Ov=()=>_1(()=>({user:null,walletAddress:"",isWalletConnected:!1,showNoAuthModal:()=>{},showPriceModal:()=>{}}),"$vuSkebpfZQ");function E1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Dv={exports:{}},Ze=Dv.exports={},hn,fn;function Uu(){throw new Error("setTimeout has not been defined")}function Bu(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?hn=setTimeout:hn=Uu}catch{hn=Uu}try{typeof clearTimeout=="function"?fn=clearTimeout:fn=Bu}catch{fn=Bu}})();function Mv(t){if(hn===setTimeout)return setTimeout(t,0);if((hn===Uu||!hn)&&setTimeout)return hn=setTimeout,setTimeout(t,0);try{return hn(t,0)}catch{try{return hn.call(null,t,0)}catch{return hn.call(this,t,0)}}}function I1(t){if(fn===clearTimeout)return clearTimeout(t);if((fn===Bu||!fn)&&clearTimeout)return fn=clearTimeout,clearTimeout(t);try{return fn(t)}catch{try{return fn.call(null,t)}catch{return fn.call(this,t)}}}var Rn=[],Ii=!1,Or,aa=-1;function b1(){!Ii||!Or||(Ii=!1,Or.length?Rn=Or.concat(Rn):aa=-1,Rn.length&&Lv())}function Lv(){if(!Ii){var t=Mv(b1);Ii=!0;for(var e=Rn.length;e;){for(Or=Rn,Rn=[];++aa<e;)Or&&Or[aa].run();aa=-1,e=Rn.length}Or=null,Ii=!1,I1(t)}}Ze.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Rn.push(new Fv(t,e)),Rn.length===1&&!Ii&&Mv(Lv)};function Fv(t,e){this.fun=t,this.array=e}Fv.prototype.run=function(){this.fun.apply(null,this.array)};Ze.title="browser";Ze.browser=!0;Ze.env={};Ze.argv=[];Ze.version="";Ze.versions={};function Kn(){}Ze.on=Kn;Ze.addListener=Kn;Ze.once=Kn;Ze.off=Kn;Ze.removeListener=Kn;Ze.removeAllListeners=Kn;Ze.emit=Kn;Ze.prependListener=Kn;Ze.prependOnceListener=Kn;Ze.listeners=function(t){return[]};Ze.binding=function(t){throw new Error("process.binding is not supported")};Ze.cwd=function(){return"/"};Ze.chdir=function(t){throw new Error("process.chdir is not supported")};Ze.umask=function(){return 0};var T1=Dv.exports;const S1=E1(T1);var $p={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},C1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(p=64)),r.push(n[l],n[d],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Uv(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new A1;const p=s<<2|a>>4;if(r.push(p),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(t){const e=Uv(t);return Bv.encodeByteArray(e,!0)},Oa=function(t){return k1(t).replace(/\./g,"")},$v=function(t){try{return Bv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Xt<"u")return Xt;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>R1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof S1>"u"||typeof $p>"u")return;const t=$p.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$v(t[1]);return e&&JSON.parse(e)},ef=()=>{try{return x1()||P1()||N1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Vv=t=>{var e,n;return(n=(e=ef())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},O1=t=>{const e=Vv(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jv=()=>{var t;return(t=ef())===null||t===void 0?void 0:t.config},Hv=t=>{var e;return(e=ef())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Oa(JSON.stringify(n)),Oa(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function qv(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U1(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Kv(){try{return typeof indexedDB=="object"}catch{return!1}}function Wv(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function B1(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="FirebaseError";class ln extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$1,Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ti.prototype.create)}}class ti{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?V1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ln(i,a,r)}}function V1(t,e){return t.replace(j1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j1=/\{\$([^}]+)}/g;function H1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Da(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Vp(s)&&Vp(o)){if(!Da(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Vp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function us(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function hs(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function q1(t,e){const n=new K1(t,e);return n.subscribe.bind(n)}class K1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W1(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ol),i.error===void 0&&(i.error=Ol),i.complete===void 0&&(i.complete=Ol);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W1(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ol(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=1e3,G1=2,Q1=4*60*60*1e3,Y1=.5;function jp(t,e=z1,n=G1){const r=e*Math.pow(n,t),i=Math.round(Y1*r*(Math.random()-.5)*2);return Math.min(Q1,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(t){return t&&t._delegate?t._delegate:t}class on{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new D1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z1(e))try{this.getOrInitializeService({instanceIdentifier:Rr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rr){return this.instances.has(e)}getOptions(e=Rr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rr){return this.component?this.component.multipleInstances?e:Rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(t){return t===Rr?void 0:t}function Z1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const tk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},nk=ke.INFO,rk={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ik=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=rk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sc{constructor(e){this.name=e,this._logLevel=nk,this._logHandler=ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const sk=(t,e)=>e.some(n=>t instanceof n);let Hp,qp;function ok(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,$u=new WeakMap,Gv=new WeakMap,Dl=new WeakMap,tf=new WeakMap;function ck(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(hr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&zv.set(n,t)}).catch(()=>{}),tf.set(e,t),e}function lk(t){if($u.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});$u.set(t,e)}let Vu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $u.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uk(t){Vu=t(Vu)}function hk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ml(this),e,...n);return Gv.set(r,e.sort?e.sort():[e]),hr(r)}:ak().includes(t)?function(...e){return t.apply(Ml(this),e),hr(zv.get(this))}:function(...e){return hr(t.apply(Ml(this),e))}}function fk(t){return typeof t=="function"?hk(t):(t instanceof IDBTransaction&&lk(t),sk(t,ok())?new Proxy(t,Vu):t)}function hr(t){if(t instanceof IDBRequest)return ck(t);if(Dl.has(t))return Dl.get(t);const e=fk(t);return e!==t&&(Dl.set(t,e),tf.set(e,t)),e}const Ml=t=>tf.get(t);function dk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=hr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(hr(o.result),c.oldVersion,c.newVersion,hr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const pk=["get","getKey","getAll","getAllKeys","count"],gk=["put","add","delete","clear"],Ll=new Map;function Kp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ll.get(e))return Ll.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pk.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Ll.set(e,s),s}uk(t=>({...t,get:(e,n,r)=>Kp(e,n)||t.get(e,n,r),has:(e,n)=>!!Kp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ju="@firebase/app",Wp="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Sc("@firebase/app"),vk="@firebase/app-compat",wk="@firebase/analytics-compat",_k="@firebase/analytics",Ek="@firebase/app-check-compat",Ik="@firebase/app-check",bk="@firebase/auth",Tk="@firebase/auth-compat",Sk="@firebase/database",Ck="@firebase/database-compat",Ak="@firebase/functions",kk="@firebase/functions-compat",Rk="@firebase/installations",xk="@firebase/installations-compat",Pk="@firebase/messaging",Nk="@firebase/messaging-compat",Ok="@firebase/performance",Dk="@firebase/performance-compat",Mk="@firebase/remote-config",Lk="@firebase/remote-config-compat",Fk="@firebase/storage",Uk="@firebase/storage-compat",Bk="@firebase/firestore",$k="@firebase/firestore-compat",Vk="firebase",jk="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="[DEFAULT]",Hk={[ju]:"fire-core",[vk]:"fire-core-compat",[_k]:"fire-analytics",[wk]:"fire-analytics-compat",[Ik]:"fire-app-check",[Ek]:"fire-app-check-compat",[bk]:"fire-auth",[Tk]:"fire-auth-compat",[Sk]:"fire-rtdb",[Ck]:"fire-rtdb-compat",[Ak]:"fire-fn",[kk]:"fire-fn-compat",[Rk]:"fire-iid",[xk]:"fire-iid-compat",[Pk]:"fire-fcm",[Nk]:"fire-fcm-compat",[Ok]:"fire-perf",[Dk]:"fire-perf-compat",[Mk]:"fire-rc",[Lk]:"fire-rc-compat",[Fk]:"fire-gcs",[Uk]:"fire-gcs-compat",[Bk]:"fire-fst",[$k]:"fire-fst-compat","fire-js":"fire-js",[Vk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Map,qu=new Map;function qk(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sn(t){const e=t.name;if(qu.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;qu.set(e,t);for(const n of Ma.values())qk(n,t);return!0}function fo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},fr=new ti("app","Firebase",Kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new on("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=jk;function Qv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Hu,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=jv()),!n)throw fr.create("no-options");const s=Ma.get(i);if(s){if(Da(n,s.options)&&Da(r,s.config))return s;throw fr.create("duplicate-app",{appName:i})}const o=new ek(i);for(const c of qu.values())o.addComponent(c);const a=new Wk(n,r,o);return Ma.set(i,a),a}function Yv(t=Hu){const e=Ma.get(t);if(!e&&t===Hu&&jv())return Qv();if(!e)throw fr.create("no-app",{appName:t});return e}function Yt(t,e,n){var r;let i=(r=Hk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}Sn(new on(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="firebase-heartbeat-database",Gk=1,Vs="firebase-heartbeat-store";let Fl=null;function Jv(){return Fl||(Fl=dk(zk,Gk,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Vs)}}}).catch(t=>{throw fr.create("idb-open",{originalErrorMessage:t.message})})),Fl}async function Qk(t){try{return await(await Jv()).transaction(Vs).objectStore(Vs).get(Xv(t))}catch(e){if(e instanceof ln)Wr.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(n.message)}}}async function zp(t,e){try{const r=(await Jv()).transaction(Vs,"readwrite");await r.objectStore(Vs).put(e,Xv(t)),await r.done}catch(n){if(n instanceof ln)Wr.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Wr.warn(r.message)}}}function Xv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=1024,Jk=30*24*60*60*1e3;class Xk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Gp();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Jk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gp(),{heartbeatsToSend:n,unsentEntries:r}=Zk(this._heartbeatsCache.heartbeats),i=Oa(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Gp(){return new Date().toISOString().substring(0,10)}function Zk(t,e=Yk){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Qp(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class eR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kv()?Wv().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Qk(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return zp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qp(t){return Oa(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){Sn(new on("platform-logger",e=>new mk(e),"PRIVATE")),Sn(new on("heartbeat",e=>new Xk(e),"PRIVATE")),Yt(ju,Wp,t),Yt(ju,Wp,"esm2017"),Yt("fire-js","")}tR("");function nf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nR=Zv,ew=new ti("auth","Firebase",Zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=new Sc("@firebase/auth");function rR(t,...e){La.logLevel<=ke.WARN&&La.warn(`Auth (${zi}): ${t}`,...e)}function ca(t,...e){La.logLevel<=ke.ERROR&&La.error(`Auth (${zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(t,...e){throw rf(t,...e)}function _n(t,...e){return rf(t,...e)}function tw(t,e,n){const r=Object.assign(Object.assign({},nR()),{[e]:n});return new ti("auth","Firebase",r).create(e,{appName:t.name})}function iR(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zt(t,"argument-error"),tw(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function rf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ew.create(t,...e)}function ge(t,e,...n){if(!t)throw rf(e,...n)}function xn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ca(e),new Error(e)}function Un(t,e){t||xn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function sR(){return Yp()==="http:"||Yp()==="https:"}function Yp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sR()||qv()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.shortDelay=e,this.longDelay=n,Un(n>e,"Short delay should be less than long delay!"),this.isMobile=L1()||F1()}get(){return oR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(t,e){Un(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new po(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qi(t,e,n,r,i={}){return rw(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ho(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),nw.fetch()(iw(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function rw(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cR),e);try{const i=new uR(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Ko(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ko(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ko(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ko(t,"user-disabled",o);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tw(t,l,u);Zt(t,l)}}catch(i){if(i instanceof ln)throw i;Zt(t,"network-request-failed",{message:String(i)})}}async function go(t,e,n,r,i={}){const s=await Qi(t,e,n,r,i);return"mfaPendingCredential"in s&&Zt(t,"multi-factor-auth-required",{_serverResponse:s}),s}function iw(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?sf(t.config,i):`${t.config.apiScheme}://${i}`}class uR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_n(this.auth,"network-request-failed")),lR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ko(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_n(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){return Qi(t,"POST","/v1/accounts:delete",e)}async function fR(t,e){return Qi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ss(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dR(t,e=!1){const n=Ft(t),r=await n.getIdToken(e),i=of(r);ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ss(Ul(i.auth_time)),issuedAtTime:Ss(Ul(i.iat)),expirationTime:Ss(Ul(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ul(t){return Number(t)*1e3}function of(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ca("JWT malformed, contained fewer than 3 sections"),null;try{const i=$v(n);return i?JSON.parse(i):(ca("Failed to decode base64 JWT payload"),null)}catch(i){return ca("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function pR(t){const e=of(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ln&&gR(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gR({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ss(this.lastLoginAt),this.creationTime=Ss(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(t){var e;const n=t.auth,r=await t.getIdToken(),i=await js(t,fR(n,{idToken:r}));ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?wR(s.providerUserInfo):[],a=vR(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new sw(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)}async function yR(t){const e=Ft(t);await Fa(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vR(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wR(t){return t.map(e=>{var{providerId:n}=e,r=nf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _R(t,e){const n=await rw(t,{},async()=>{const r=ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=iw(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",nw.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await _R(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Hs;return r&&(ge(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ge(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Hs,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=nf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new sw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await js(this,this.stsTokenManager.getToken(this.auth,e));return ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dR(this,e)}reload(){return yR(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Fa(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await js(this,hR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,F=(u=n.createdAt)!==null&&u!==void 0?u:void 0,b=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:E,emailVerified:T,isAnonymous:P,providerData:A,stsTokenManager:$}=n;ge(E&&$,e,"internal-error");const O=Hs.fromJSON(this.name,$);ge(typeof E=="string",e,"internal-error"),Jn(d,e.name),Jn(p,e.name),ge(typeof T=="boolean",e,"internal-error"),ge(typeof P=="boolean",e,"internal-error"),Jn(m,e.name),Jn(_,e.name),Jn(S,e.name),Jn(x,e.name),Jn(F,e.name),Jn(b,e.name);const V=new Hr({uid:E,auth:e,email:p,emailVerified:T,displayName:d,isAnonymous:P,photoURL:_,phoneNumber:m,tenantId:S,stsTokenManager:O,createdAt:F,lastLoginAt:b});return A&&Array.isArray(A)&&(V.providerData=A.map(H=>Object.assign({},H))),x&&(V._redirectEventId=x),V}static async _fromIdTokenResponse(e,n,r=!1){const i=new Hs;i.updateFromServerResponse(n);const s=new Hr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fa(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=new Map;function Pn(t){Un(t instanceof Function,"Expected a class definition");let e=Jp.get(t);return e?(Un(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Jp.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ow.type="NONE";const Xp=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,e,n){return`firebase:${t}:${e}:${n}`}class bi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=la(this.userKey,i.apiKey,s),this.fullPersistenceKey=la("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new bi(Pn(Xp),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Pn(Xp);const o=la(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const l=await u._get(o);if(l){const d=Hr._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new bi(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new bi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hw(e))return"Blackberry";if(fw(e))return"Webos";if(af(e))return"Safari";if((e.includes("chrome/")||cw(e))&&!e.includes("edge/"))return"Chrome";if(uw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aw(t=Ct()){return/firefox\//i.test(t)}function af(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cw(t=Ct()){return/crios\//i.test(t)}function lw(t=Ct()){return/iemobile/i.test(t)}function uw(t=Ct()){return/android/i.test(t)}function hw(t=Ct()){return/blackberry/i.test(t)}function fw(t=Ct()){return/webos/i.test(t)}function Cc(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ER(t=Ct()){var e;return Cc(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IR(){return U1()&&document.documentMode===10}function dw(t=Ct()){return Cc(t)||uw(t)||fw(t)||hw(t)||/windows phone/i.test(t)||lw(t)}function bR(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e=[]){let n;switch(t){case"Browser":n=Zp(Ct());break;case"Worker":n=`${Zp(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zi}/${r}`}async function gw(t,e){return Qi(t,"GET","/v2/recaptchaConfig",Gi(t,e))}function eg(t){return t!==void 0&&t.enterprise!==void 0}class mw{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function yw(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",TR().appendChild(r)})}function SR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CR="https://www.google.com/recaptcha/enterprise.js?render=",AR="recaptcha-enterprise",kR="NO_RECAPTCHA";class vw{constructor(e){this.type=AR,this.auth=ni(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{gw(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new mw(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){const c=window.grecaptcha;eg(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(kR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&eg(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}yw(CR+a).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Ua(t,e,n,r=!1){const i=new vw(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tg(this),this.idTokenSubscription=new tg(this),this.beforeStateQueue=new RR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await bi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Fa(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ft(e):null;return n&&ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Pn(e))})}async initializeRecaptchaConfig(){const e=await gw(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new mw(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new vw(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ti("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pn(e)||this._popupRedirectResolver;ge(n,this,"argument-error"),this.redirectPersistenceManager=await bi.create(this,[Pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ge(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rR(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ni(t){return Ft(t)}class tg{constructor(e){this.auth=e,this.observer=null,this.addObserver=q1(n=>this.observer=n)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e){const n=fo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Da(s,e??{}))return i;Zt(i,"already-initialized")}return n.initialize({options:e})}function NR(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function OR(t,e,n){const r=ni(t);ge(r._canInitEmulator,r,"emulator-config-failed"),ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=ww(e),{host:o,port:a}=DR(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),MR()}function ww(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function DR(t){const e=ww(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ng(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ng(o)}}}function ng(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xn("not implemented")}_getIdTokenResponse(e){return xn("not implemented")}_linkToIdToken(e,n){return xn("not implemented")}_getReauthenticationResolver(e){return xn("not implemented")}}async function LR(t,e){return Qi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bl(t,e){return go(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function UR(t,e){return go(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends cf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new qs(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new qs(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Ua(e,r,"signInWithPassword");return Bl(e,i)}else return Bl(e,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await Ua(e,r,"signInWithPassword");return Bl(e,s)}else return Promise.reject(i)});case"emailLink":return FR(e,{email:this._email,oobCode:this._password});default:Zt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return LR(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return UR(e,{idToken:n,email:this._email,oobCode:this._password});default:Zt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ti(t,e){return go(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR="http://localhost";class zr extends cf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=nf(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new zr(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ti(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ti(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ti(e,n)}buildRequest(){const e={requestUri:BR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VR(t){const e=us(hs(t)).link,n=e?us(hs(e)).deep_link_id:null,r=us(hs(t)).deep_link_id;return(r?us(hs(r)).link:null)||r||n||e||t}class lf{constructor(e){var n,r,i,s,o,a;const c=us(hs(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=$R((i=c.mode)!==null&&i!==void 0?i:null);ge(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=VR(e);try{return new lf(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.providerId=Yi.PROVIDER_ID}static credential(e,n){return qs._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lf.parseLink(n);return ge(r,"argument-error"),qs._fromEmailAndCode(e,r.code,r.tenantId)}}Yi.PROVIDER_ID="password";Yi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends uf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends mo{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends mo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zr._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends mo{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends mo{constructor(){super("twitter.com")}static credential(e,n){return zr._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $l(t,e){return go(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Hr._fromIdTokenResponse(e,r,i),o=rg(r);return new Gr({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rg(r);return new Gr({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends ln{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ba.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ba(e,n,r,i)}}function _w(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ba._fromErrorAndOperation(t,s,e,r):s})}async function jR(t,e,n=!1){const r=await js(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gr._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await js(t,_w(r,i,e,t),n);ge(s.idToken,r,"internal-error");const o=of(s.idToken);ge(o,r,"internal-error");const{sub:a}=o;return ge(t.uid===a,r,"user-mismatch"),Gr._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Zt(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(t,e,n=!1){const r="signIn",i=await _w(t,r,e),s=await Gr._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function qR(t,e){return Ew(ni(t),e)}async function bF(t,e,n){var r;const i=ni(t),s={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await Ua(i,s,"signUpPassword");o=$l(i,u)}else o=$l(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const l=await Ua(i,s,"signUpPassword");return $l(i,l)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),c=await Gr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(c.user),c}function TF(t,e,n){return qR(Ft(t),Yi.credential(e,n))}function KR(t,e,n,r){return Ft(t).onIdTokenChanged(e,n,r)}function WR(t,e,n){return Ft(t).beforeAuthStateChanged(e,n)}const $a="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){const t=Ct();return af(t)||Cc(t)}const GR=1e3,QR=10;class bw extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=zR()&&bR(),this.fallbackToPolling=dw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);IR()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,QR):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},GR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bw.type="LOCAL";const YR=bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Tw.type="SESSION";const Sw=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ac(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await JR(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ac.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=hf("",20);i.port1.start();const l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return window}function ZR(t){En().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function ex(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tx(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function nx(){return Cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="firebaseLocalStorageDb",rx=1,Va="firebaseLocalStorage",kw="fbase_key";class yo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kc(t,e){return t.transaction([Va],e?"readwrite":"readonly").objectStore(Va)}function ix(){const t=indexedDB.deleteDatabase(Aw);return new yo(t).toPromise()}function Wu(){const t=indexedDB.open(Aw,rx);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Va,{keyPath:kw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Va)?e(r):(r.close(),await ix(),e(await Wu()))})})}async function ig(t,e,n){const r=kc(t,!0).put({[kw]:e,value:n});return new yo(r).toPromise()}async function sx(t,e){const n=kc(t,!1).get(e),r=await new yo(n).toPromise();return r===void 0?null:r.value}function sg(t,e){const n=kc(t,!0).delete(e);return new yo(n).toPromise()}const ox=800,ax=3;class Rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wu(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ax)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ac._getInstance(nx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ex(),!this.activeServiceWorker)return;this.sender=new XR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wu();return await ig(e,$a,"1"),await sg(e,$a),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ig(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>sx(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=kc(i,!1).getAll();return new yo(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Rw.type="LOCAL";const cx=Rw;new po(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e){return e?Pn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff extends cf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ti(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ti(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ti(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lx(t){return Ew(t.auth,new ff(t),t.bypassAuthState)}function ux(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),HR(n,new ff(t),t.bypassAuthState)}async function hx(t){const{auth:e,user:n}=t;return ge(n,e,"internal-error"),jR(n,new ff(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lx;case"linkViaPopup":case"linkViaRedirect":return hx;case"reauthViaPopup":case"reauthViaRedirect":return ux;default:Zt(this.auth,"internal-error")}}resolve(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=new po(2e3,1e4);async function SF(t,e,n){const r=ni(t);iR(t,e,uf);const i=xw(r,n);return new Dr(r,"signInViaPopup",e,i).executeNotNull()}class Dr extends Pw{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Dr.currentPopupAction&&Dr.currentPopupAction.cancel(),Dr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Un(this.filter.length===1,"Popup operations only handle one event");const e=hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Dr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fx.get())};e()}}Dr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="pendingRedirect",ua=new Map;class px extends Pw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ua.get(this.auth._key());if(!e){try{const r=await gx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ua.set(this.auth._key(),e)}return this.bypassAuthState||ua.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gx(t,e){const n=vx(e),r=yx(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mx(t,e){ua.set(t._key(),e)}function yx(t){return Pn(t._redirectPersistence)}function vx(t){return la(dx,t.config.apiKey,t.name)}async function wx(t,e,n=!1){const r=ni(t),i=xw(r,e),o=await new px(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=10*60*1e3;class Ex{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ix(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Nw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(_n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_x&&this.cachedEventUids.clear(),this.cachedEventUids.has(og(e))}saveEventToCache(e){this.cachedEventUids.add(og(e)),this.lastProcessedEventTime=Date.now()}}function og(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Nw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ix(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bx(t,e={}){return Qi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sx=/^https?/;async function Cx(t){if(t.config.emulator)return;const{authorizedDomains:e}=await bx(t);for(const n of e)try{if(Ax(n))return}catch{}Zt(t,"unauthorized-domain")}function Ax(t){const e=Ku(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Sx.test(n))return!1;if(Tx.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new po(3e4,6e4);function ag(){const t=En().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Rx(t){return new Promise((e,n)=>{var r,i,s;function o(){ag(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ag(),n(_n(t,"network-request-failed"))},timeout:kx.get()})}if(!((i=(r=En().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=En().gapi)===null||s===void 0)&&s.load)o();else{const a=SR("iframefcb");return En()[a]=()=>{gapi.load?o():n(_n(t,"network-request-failed"))},yw(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw ha=null,e})}let ha=null;function xx(t){return ha=ha||Rx(t),ha}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new po(5e3,15e3),Nx="__/auth/iframe",Ox="emulator/auth/iframe",Dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Lx(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?sf(e,Ox):`https://${t.config.authDomain}/${Nx}`,r={apiKey:e.apiKey,appName:t.name,v:zi},i=Mx.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ho(r).slice(1)}`}async function Fx(t){const e=await xx(t),n=En().gapi;return ge(n,t,"internal-error"),e.open({where:document.body,url:Lx(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dx,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=_n(t,"network-request-failed"),a=En().setTimeout(()=>{s(o)},Px.get());function c(){En().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bx=500,$x=600,Vx="_blank",jx="http://localhost";class cg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hx(t,e,n,r=Bx,i=$x){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Ux),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ct().toLowerCase();n&&(a=cw(u)?Vx:n),aw(u)&&(e=e||jx,c.scrollbars="yes");const l=Object.entries(c).reduce((p,[m,_])=>`${p}${m}=${_},`,"");if(ER(u)&&a!=="_self")return qx(e||"",a),new cg(null);const d=window.open(e||"",a,l);ge(d,t,"popup-blocked");try{d.focus()}catch{}return new cg(d)}function qx(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="__/auth/handler",Wx="emulator/auth/handler",zx=encodeURIComponent("fac");async function lg(t,e,n,r,i,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:zi,eventId:i};if(e instanceof uf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",H1(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,d]of Object.entries({}))o[l]=d}if(e instanceof mo){const l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))a[l]===void 0&&delete a[l];const c=await t._getAppCheckToken(),u=c?`#${zx}=${encodeURIComponent(c)}`:"";return`${Gx(t)}?${ho(a).slice(1)}${u}`}function Gx({config:t}){return t.emulator?sf(t,Wx):`https://${t.authDomain}/${Kx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl="webStorageSupport";class Qx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sw,this._completeRedirectFn=wx,this._overrideRedirectResult=mx}async _openPopup(e,n,r,i){var s;Un((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await lg(e,n,r,Ku(),i);return Hx(e,o,hf())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await lg(e,n,r,Ku(),i);return ZR(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Un(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Fx(e),r=new Ex(e);return n.register("authEvent",i=>(ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Vl,{type:Vl},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Vl];o!==void 0&&n(!!o),Zt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Cx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dw()||af()||Cc()}}const Yx=Qx;var ug="@firebase/auth",hg="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Zx(t){Sn(new on("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pw(t)},u=new xR(r,i,s,c);return NR(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Sn(new on("auth-internal",e=>{const n=ni(e.getProvider("auth").getImmediate());return(r=>new Jx(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(ug,hg,Xx(t)),Yt(ug,hg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=5*60,tP=Hv("authIdTokenMaxAge")||eP;let fg=null;const nP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>tP)return;const i=n==null?void 0:n.token;fg!==i&&(fg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rP(t=Yv()){const e=fo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PR(t,{popupRedirectResolver:Yx,persistence:[cx,YR,Sw]}),r=Hv("authTokenSyncURL");if(r){const s=nP(r);WR(n,s,()=>s(n.currentUser)),KR(n,o=>s(o))}const i=Vv("auth");return i&&OR(n,`http://${i}`),n}Zx("Browser");var iP="firebase",sP="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt(iP,sP,"app");const oP=(t,e)=>e.some(n=>t instanceof n);let dg,pg;function aP(){return dg||(dg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cP(){return pg||(pg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ow=new WeakMap,zu=new WeakMap,Dw=new WeakMap,jl=new WeakMap,df=new WeakMap;function lP(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(dr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ow.set(n,t)}).catch(()=>{}),df.set(e,t),e}function uP(t){if(zu.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});zu.set(t,e)}let Gu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return zu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hP(t){Gu=t(Gu)}function fP(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Hl(this),e,...n);return Dw.set(r,e.sort?e.sort():[e]),dr(r)}:cP().includes(t)?function(...e){return t.apply(Hl(this),e),dr(Ow.get(this))}:function(...e){return dr(t.apply(Hl(this),e))}}function dP(t){return typeof t=="function"?fP(t):(t instanceof IDBTransaction&&uP(t),oP(t,aP())?new Proxy(t,Gu):t)}function dr(t){if(t instanceof IDBRequest)return lP(t);if(jl.has(t))return jl.get(t);const e=dP(t);return e!==t&&(jl.set(t,e),df.set(e,t)),e}const Hl=t=>df.get(t);function pP(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=dr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(dr(o.result),c.oldVersion,c.newVersion,dr(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const gP=["get","getKey","getAll","getAllKeys","count"],mP=["put","add","delete","clear"],ql=new Map;function gg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ql.get(e))return ql.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mP.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gP.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return ql.set(e,s),s}hP(t=>({...t,get:(e,n,r)=>gg(e,n)||t.get(e,n,r),has:(e,n)=>!!gg(e,n)||t.has(e,n)}));const Mw="@firebase/installations",pf="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1e4,Fw=`w:${pf}`,Uw="FIS_v2",yP="https://firebaseinstallations.googleapis.com/v1",vP=60*60*1e3,wP="installations",_P="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qr=new ti(wP,_P,EP);function Bw(t){return t instanceof ln&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w({projectId:t}){return`${yP}/projects/${t}/installations`}function Vw(t){return{token:t.token,requestStatus:2,expiresIn:bP(t.expiresIn),creationTime:Date.now()}}async function jw(t,e){const r=(await e.json()).error;return Qr.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Hw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function IP(t,{refreshToken:e}){const n=Hw(t);return n.append("Authorization",TP(e)),n}async function qw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function bP(t){return Number(t.replace("s","000"))}function TP(t){return`${Uw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$w(t),i=Hw(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Uw,appId:t.appId,sdkVersion:Fw},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await qw(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Vw(u.authToken)}}else throw await jw("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP=/^[cdef][\w-]{21}$/,Qu="";function kP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=RP(t);return AP.test(n)?n:Qu}catch{return Qu}}function RP(t){return CP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=new Map;function zw(t,e){const n=Rc(t);Gw(n,e),xP(n,e)}function Gw(t,e){const n=Ww.get(t);if(n)for(const r of n)r(e)}function xP(t,e){const n=PP();n&&n.postMessage({key:t,fid:e}),NP()}let Mr=null;function PP(){return!Mr&&"BroadcastChannel"in self&&(Mr=new BroadcastChannel("[Firebase] FID Change"),Mr.onmessage=t=>{Gw(t.data.key,t.data.fid)}),Mr}function NP(){Ww.size===0&&Mr&&(Mr.close(),Mr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="firebase-installations-database",DP=1,Yr="firebase-installations-store";let Kl=null;function gf(){return Kl||(Kl=pP(OP,DP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yr)}}})),Kl}async function ja(t,e){const n=Rc(t),i=(await gf()).transaction(Yr,"readwrite"),s=i.objectStore(Yr),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&zw(t,e.fid),e}async function Qw(t){const e=Rc(t),r=(await gf()).transaction(Yr,"readwrite");await r.objectStore(Yr).delete(e),await r.done}async function xc(t,e){const n=Rc(t),i=(await gf()).transaction(Yr,"readwrite"),s=i.objectStore(Yr),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&zw(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mf(t){let e;const n=await xc(t.appConfig,r=>{const i=MP(r),s=LP(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Qu?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function MP(t){const e=t||{fid:kP(),registrationStatus:0};return Yw(e)}function LP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Qr.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=FP(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:UP(t)}:{installationEntry:e}}async function FP(t,e){try{const n=await SP(t,e);return ja(t.appConfig,n)}catch(n){throw Bw(n)&&n.customData.serverCode===409?await Qw(t.appConfig):await ja(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function UP(t){let e=await mg(t.appConfig);for(;e.registrationStatus===1;)await Kw(100),e=await mg(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await mf(t);return r||n}return e}function mg(t){return xc(t,e=>{if(!e)throw Qr.create("installation-not-found");return Yw(e)})}function Yw(t){return BP(t)?{fid:t.fid,registrationStatus:0}:t}function BP(t){return t.registrationStatus===1&&t.registrationTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $P({appConfig:t,heartbeatServiceProvider:e},n){const r=VP(t,n),i=IP(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:Fw,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await qw(()=>fetch(r,a));if(c.ok){const u=await c.json();return Vw(u)}else throw await jw("Generate Auth Token",c)}function VP(t,{fid:e}){return`${$w(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t,e=!1){let n;const r=await xc(t.appConfig,s=>{if(!Jw(s))throw Qr.create("not-registered");const o=s.authToken;if(!e&&qP(o))return s;if(o.requestStatus===1)return n=jP(t,e),s;{if(!navigator.onLine)throw Qr.create("app-offline");const a=WP(s);return n=HP(t,a),a}});return n?await n:r.authToken}async function jP(t,e){let n=await yg(t.appConfig);for(;n.authToken.requestStatus===1;)await Kw(100),n=await yg(t.appConfig);const r=n.authToken;return r.requestStatus===0?yf(t,e):r}function yg(t){return xc(t,e=>{if(!Jw(e))throw Qr.create("not-registered");const n=e.authToken;return zP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function HP(t,e){try{const n=await $P(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ja(t.appConfig,r),n}catch(n){if(Bw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Qw(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ja(t.appConfig,r)}throw n}}function Jw(t){return t!==void 0&&t.registrationStatus===2}function qP(t){return t.requestStatus===2&&!KP(t)}function KP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+vP}function WP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function zP(t){return t.requestStatus===1&&t.requestTime+Lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t){const e=t,{installationEntry:n,registrationPromise:r}=await mf(e);return r?r.catch(console.error):yf(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(t,e=!1){const n=t;return await YP(n),(await yf(n,e)).token}async function YP(t){const{registrationPromise:e}=await mf(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){if(!t||!t.options)throw Wl("App Configuration");if(!t.name)throw Wl("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Wl(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wl(t){return Qr.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="installations",XP="installations-internal",ZP=t=>{const e=t.getProvider("app").getImmediate(),n=JP(e),r=fo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},eN=t=>{const e=t.getProvider("app").getImmediate(),n=fo(e,Xw).getImmediate();return{getId:()=>GP(n),getToken:i=>QP(n,i)}};function tN(){Sn(new on(Xw,ZP,"PUBLIC")),Sn(new on(XP,eN,"PRIVATE"))}tN();Yt(Mw,pf);Yt(Mw,pf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="analytics",nN="firebase_id",rN="origin",iN=60*1e3,sN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dt=new Sc("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Jt=new ti("analytics","Analytics",oN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(t){if(!t.startsWith(vf)){const e=Jt.create("invalid-gtag-resource",{gtagURL:t});return Dt.warn(e.message),""}return t}function Zw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function cN(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function lN(t,e){const n=cN("firebase-js-sdk-policy",{createScriptURL:aN}),r=document.createElement("script"),i=`${vf}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function uN(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function hN(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const c=(await Zw(n)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(a){Dt.error(a)}t("config",i,s)}async function fN(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Zw(n);for(const c of o){const u=a.find(d=>d.measurementId===c),l=u&&e[u.appId];if(l)s.push(l);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Dt.error(s)}}function dN(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,c]=o;await fN(t,e,n,a,c)}else if(s==="config"){const[a,c]=o;await hN(t,e,n,r,a,c)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Dt.error(a)}}return i}function pN(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=dN(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function gN(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(vf)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=30,yN=1e3;class vN{constructor(e={},n=yN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const e0=new vN;function wN(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _N(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:wN(r)},s=sN.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Jt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function EN(t,e=e0,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Jt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Jt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TN;return setTimeout(async()=>{a.abort()},iN),t0({appId:r,apiKey:i,measurementId:s},o,a,e)}async function t0(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=e0){var s;const{appId:o,measurementId:a}=t;try{await IN(r,e)}catch(c){if(a)return Dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await _N(t);return i.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!bN(u)){if(i.deleteThrottleMetadata(o),a)return Dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}const l=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?jp(n,i.intervalMillis,mN):jp(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Dt.debug(`Calling attemptFetch again in ${l} millis`),t0(t,d,r,i)}}function IN(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Jt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bN(t){if(!(t instanceof ln)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class TN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function SN(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(){if(Kv())try{await Wv()}catch(t){return Dt.warn(Jt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Dt.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AN(t,e,n,r,i,s,o){var a;const c=EN(t);c.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Dt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Dt.error(m)),e.push(c);const u=CN().then(m=>{if(m)return r.getId()}),[l,d]=await Promise.all([c,u]);gN(s)||lN(s,l.measurementId),i("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[rN]="firebase",p.update=!0,d!=null&&(p[nN]=d),i("config",l.measurementId,p),l.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.app=e}_delete(){return delete Cs[this.app.options.appId],Promise.resolve()}}let Cs={},wg=[];const _g={};let zl="dataLayer",RN="gtag",Eg,n0,Ig=!1;function xN(){const t=[];if(qv()&&t.push("This is a browser extension environment."),B1()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jt.create("invalid-analytics-context",{errorInfo:e});Dt.warn(n.message)}}function PN(t,e,n){xN();const r=t.options.appId;if(!r)throw Jt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Jt.create("no-api-key");if(Cs[r]!=null)throw Jt.create("already-exists",{id:r});if(!Ig){uN(zl);const{wrappedGtag:s,gtagCore:o}=pN(Cs,wg,_g,zl,RN);n0=s,Eg=o,Ig=!0}return Cs[r]=AN(t,wg,_g,e,Eg,zl,n),new kN(t)}function NN(t,e,n,r){t=Ft(t),SN(n0,Cs[t.app.options.appId],e,n,r).catch(i=>Dt.error(i))}const bg="@firebase/analytics",Tg="0.10.0";function ON(){Sn(new on(vg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return PN(r,i,n)},"PUBLIC")),Sn(new on("analytics-internal",t,"PRIVATE")),Yt(bg,Tg),Yt(bg,Tg,"esm2017");function t(e){try{const n=e.getProvider(vg).getImmediate();return{logEvent:(r,i,s)=>NN(n,r,i,s)}}catch(n){throw Jt.create("interop-component-reg-failed",{reason:n})}}}ON();var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Xt<"u"?Xt:typeof self<"u"?self:{},X,wf=wf||{},ve=DN||self;function Pc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Nc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function MN(t){return Object.prototype.hasOwnProperty.call(t,Gl)&&t[Gl]||(t[Gl]=++LN)}var Gl="closure_uid_"+(1e9*Math.random()>>>0),LN=0;function FN(t,e,n){return t.call.apply(t.bind,arguments)}function UN(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function bt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?bt=FN:bt=UN,bt.apply(null,arguments)}function Wo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ut(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function br(){this.s=this.s,this.o=this.o}var BN=0;br.prototype.s=!1;br.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BN!=0)&&MN(this)};br.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function _f(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sg(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Pc(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Tt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var $N=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return t}();function Ks(t){return/^[\s\xa0]*$/.test(t)}function Oc(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function mn(t){return Oc().indexOf(t)!=-1}function Ef(t){return Ef[" "](t),t}Ef[" "]=function(){};function VN(t,e){var n=DO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var jN=mn("Opera"),Mi=mn("Trident")||mn("MSIE"),i0=mn("Edge"),Yu=i0||Mi,s0=mn("Gecko")&&!(Oc().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge"))&&!(mn("Trident")||mn("MSIE"))&&!mn("Edge"),HN=Oc().toLowerCase().indexOf("webkit")!=-1&&!mn("Edge");function o0(){var t=ve.document;return t?t.documentMode:void 0}var Ju;e:{var Ql="",Yl=function(){var t=Oc();if(s0)return/rv:([^\);]+)(\)|;)/.exec(t);if(i0)return/Edge\/([\d\.]+)/.exec(t);if(Mi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(HN)return/WebKit\/(\S+)/.exec(t);if(jN)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Yl&&(Ql=Yl?Yl[1]:""),Mi){var Jl=o0();if(Jl!=null&&Jl>parseFloat(Ql)){Ju=String(Jl);break e}}Ju=Ql}var Xu;if(ve.document&&Mi){var Cg=o0();Xu=Cg||parseInt(Ju,10)||void 0}else Xu=void 0;var qN=Xu;function Ws(t,e){if(Tt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s0){e:{try{Ef(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:KN[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ws.$.h.call(this)}}ut(Ws,Tt);var KN={2:"touch",3:"pen",4:"mouse"};Ws.prototype.h=function(){Ws.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Dc="closure_listenable_"+(1e6*Math.random()|0),WN=0;function zN(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++WN,this.fa=this.ia=!1}function Mc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function If(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function GN(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function a0(t){const e={};for(const n in t)e[n]=t[n];return e}const Ag="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function c0(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<Ag.length;s++)n=Ag[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Lc(t){this.src=t,this.g={},this.h=0}Lc.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=eh(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new zN(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Zu(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=r0(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Mc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function eh(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var bf="closure_lm_"+(1e6*Math.random()|0),Xl={};function l0(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)l0(t,e[s],n,r,i);return null}return n=f0(n),t&&t[Dc]?t.O(e,n,Nc(r)?!!r.capture:!!r,i):QN(t,e,n,!1,r,i)}function QN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Nc(i)?!!i.capture:!!i,a=Sf(t);if(a||(t[bf]=a=new Lc(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=YN(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$N||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(h0(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function YN(){function t(n){return e.call(t.src,t.listener,n)}const e=JN;return t}function u0(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)u0(t,e[s],n,r,i);else r=Nc(r)?!!r.capture:!!r,n=f0(n),t&&t[Dc]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=eh(s,n,r,i),-1<n&&(Mc(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Sf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=eh(e,n,r,i)),(n=-1<t?e[t]:null)&&Tf(n))}function Tf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Dc])Zu(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(h0(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Sf(e))?(Zu(n,t),n.h==0&&(n.src=null,e[bf]=null)):Mc(t)}}}function h0(t){return t in Xl?Xl[t]:Xl[t]="on"+t}function JN(t,e){if(t.fa)t=!0;else{e=new Ws(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Tf(t),t=n.call(r,e)}return t}function Sf(t){return t=t[bf],t instanceof Lc?t:null}var Zl="__closure_events_fn_"+(1e9*Math.random()>>>0);function f0(t){return typeof t=="function"?t:(t[Zl]||(t[Zl]=function(e){return t.handleEvent(e)}),t[Zl])}function lt(){br.call(this),this.i=new Lc(this),this.S=this,this.J=null}ut(lt,br);lt.prototype[Dc]=!0;lt.prototype.removeEventListener=function(t,e,n,r){u0(this,t,e,n,r)};function pt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Tt(e,t);else if(e instanceof Tt)e.target=e.target||t;else{var i=e;e=new Tt(r,t),c0(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=zo(o,r,!0,e)&&i}if(o=e.g=t,i=zo(o,r,!0,e)&&i,i=zo(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=zo(o,r,!1,e)&&i}lt.prototype.N=function(){if(lt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mc(n[r]);delete t.g[e],t.h--}}this.J=null};lt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};lt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zo(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Zu(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Cf=ve.JSON.stringify;class XN{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function ZN(){var t=Af;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eO{constructor(){this.h=this.g=null}add(e,n){const r=d0.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var d0=new XN(()=>new tO,t=>t.reset());class tO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rO(t){ve.setTimeout(()=>{throw t},0)}let zs,Gs=!1,Af=new eO,p0=()=>{const t=ve.Promise.resolve(void 0);zs=()=>{t.then(iO)}};var iO=()=>{for(var t;t=ZN();){try{t.h.call(t.g)}catch(n){rO(n)}var e=d0;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Gs=!1};function Fc(t,e){lt.call(this),this.h=t||1,this.g=e||ve,this.j=bt(this.qb,this),this.l=Date.now()}ut(Fc,lt);X=Fc.prototype;X.ga=!1;X.T=null;X.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pt(this,"tick"),this.ga&&(kf(this),this.start()))}};X.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function kf(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}X.N=function(){Fc.$.N.call(this),kf(this),delete this.g};function Rf(t,e,n){if(typeof t=="function")n&&(t=bt(t,n));else if(t&&typeof t.handleEvent=="function")t=bt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function g0(t){t.g=Rf(()=>{t.g=null,t.i&&(t.i=!1,g0(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sO extends br{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g0(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(t){br.call(this),this.h=t,this.g={}}ut(Qs,br);var kg=[];function m0(t,e,n,r){Array.isArray(n)||(n&&(kg[0]=n.toString()),n=kg);for(var i=0;i<n.length;i++){var s=l0(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function y0(t){If(t.g,function(e,n){this.g.hasOwnProperty(n)&&Tf(e)},t),t.g={}}Qs.prototype.N=function(){Qs.$.N.call(this),y0(this)};Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uc(){this.g=!0}Uc.prototype.Ea=function(){this.g=!1};function oO(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aO(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function fi(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+lO(t,n)+(r?" "+r:"")})}function cO(t,e){t.info(function(){return"TIMEOUT: "+e})}Uc.prototype.info=function(){};function lO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Cf(n)}catch{return e}}var ri={},Rg=null;function Bc(){return Rg=Rg||new lt}ri.Ta="serverreachability";function v0(t){Tt.call(this,ri.Ta,t)}ut(v0,Tt);function Ys(t){const e=Bc();pt(e,new v0(e))}ri.STAT_EVENT="statevent";function w0(t,e){Tt.call(this,ri.STAT_EVENT,t),this.stat=e}ut(w0,Tt);function xt(t){const e=Bc();pt(e,new w0(e,t))}ri.Ua="timingevent";function _0(t,e){Tt.call(this,ri.Ua,t),this.size=e}ut(_0,Tt);function vo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var $c={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},E0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xf(){}xf.prototype.h=null;function xg(t){return t.h||(t.h=t.i())}function I0(){}var wo={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Pf(){Tt.call(this,"d")}ut(Pf,Tt);function Nf(){Tt.call(this,"c")}ut(Nf,Tt);var th;function Vc(){}ut(Vc,xf);Vc.prototype.g=function(){return new XMLHttpRequest};Vc.prototype.i=function(){return{}};th=new Vc;function _o(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qs(this),this.P=uO,t=Yu?125:void 0,this.V=new Fc(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new b0}function b0(){this.i=null,this.g="",this.h=!1}var uO=45e3,nh={},Ha={};X=_o.prototype;X.setTimeout=function(t){this.P=t};function rh(t,e,n){t.L=1,t.v=Hc(Bn(e)),t.s=n,t.S=!0,T0(t,null)}function T0(t,e){t.G=Date.now(),Eo(t),t.A=Bn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),N0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new b0,t.g=Z0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new sO(bt(t.Pa,t,t.g),t.O)),m0(t.U,t.g,"readystatechange",t.nb),e=t.I?a0(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ys(),oO(t.j,t.u,t.A,t.m,t.W,t.s)}X.nb=function(t){t=t.target;const e=this.M;e&&yn(t)==3?e.l():this.Pa(t)};X.Pa=function(t){try{if(t==this.g)e:{const l=yn(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>l)&&(l!=3||Yu||this.g&&(this.h.h||this.g.ja()||Dg(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ys(3):Ys(2)),jc(this);var n=this.g.da();this.ca=n;t:if(S0(this)){var r=Dg(this.g);t="";var i=r.length,s=yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),As(this);var o="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,aO(this.j,this.u,this.A,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ks(a)){var u=a;break t}}u=null}if(n=u)fi(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ih(this,n);else{this.i=!1,this.o=3,xt(12),Lr(this),As(this);break e}}this.S?(C0(this,l,o),Yu&&this.i&&l==3&&(m0(this.U,this.V,"tick",this.mb),this.V.start())):(fi(this.j,this.m,o,null),ih(this,o)),l==4&&Lr(this),this.i&&!this.J&&(l==4?Q0(this.l,this):(this.i=!1,Eo(this)))}else PO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),Lr(this),As(this)}}}catch{}finally{}};function S0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function C0(t,e,n){let r=!0,i;for(;!t.J&&t.C<n.length;)if(i=hO(t,n),i==Ha){e==4&&(t.o=4,xt(14),r=!1),fi(t.j,t.m,null,"[Incomplete Response]");break}else if(i==nh){t.o=4,xt(15),fi(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else fi(t.j,t.m,i,null),ih(t,i);S0(t)&&i!=Ha&&i!=nh&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uf(e),e.M=!0,xt(11))):(fi(t.j,t.m,n,"[Invalid Chunked Response]"),Lr(t),As(t))}X.mb=function(){if(this.g){var t=yn(this.g),e=this.g.ja();this.C<e.length&&(jc(this),C0(this,t,e),this.i&&t!=4&&Eo(this))}};function hO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ha:(n=Number(e.substring(n,r)),isNaN(n)?nh:(r+=1,r+n>e.length?Ha:(e=e.slice(r,r+n),t.C=r+n,e)))}X.cancel=function(){this.J=!0,Lr(this)};function Eo(t){t.Y=Date.now()+t.P,A0(t,t.P)}function A0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=vo(bt(t.lb,t),e)}function jc(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}X.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(cO(this.j,this.A),this.L!=2&&(Ys(),xt(17)),Lr(this),this.o=2,As(this)):A0(this,this.Y-t)};function As(t){t.l.H==0||t.J||Q0(t.l,t)}function Lr(t){jc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,kf(t.V),y0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function ih(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||sh(n.i,t))){if(!t.K&&sh(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Wa(n),Wc(n);else break e;Ff(n),xt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=vo(bt(n.ib,n),6e3));if(1>=M0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Fr(n,11)}else if((t.K||n.g==t)&&Wa(n),!Ks(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const m=t.g;if(m){const _=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Of(s,s.h),s.h=null))}if(r.F){const S=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;S&&(r.Da=S,$e(r.I,r.F,S))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=X0(r,r.J?r.pa:null,r.Y),o.K){L0(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(jc(a),Eo(a)),r.g=o}else z0(r);0<n.j.length&&zc(n)}else u[0]!="stop"&&u[0]!="close"||Fr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Fr(n,7):Lf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ys(4)}catch{}}function fO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Pc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function dO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Pc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function k0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Pc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=dO(t),r=fO(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var R0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function qr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qr){this.h=t.h,qa(this,t.j),this.s=t.s,this.g=t.g,Ka(this,t.m),this.l=t.l;var e=t.i,n=new Js;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Pg(this,n),this.o=t.o}else t&&(e=String(t).match(R0))?(this.h=!1,qa(this,e[1]||"",!0),this.s=fs(e[2]||""),this.g=fs(e[3]||"",!0),Ka(this,e[4]),this.l=fs(e[5]||"",!0),Pg(this,e[6]||"",!0),this.o=fs(e[7]||"")):(this.h=!1,this.i=new Js(null,this.h))}qr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ds(e,Ng,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ds(e,Ng,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ds(n,n.charAt(0)=="/"?yO:mO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ds(n,wO)),t.join("")};function Bn(t){return new qr(t)}function qa(t,e,n){t.j=n?fs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ka(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Pg(t,e,n){e instanceof Js?(t.i=e,_O(t.i,t.h)):(n||(e=ds(e,vO)),t.i=new Js(e,t.h))}function $e(t,e,n){t.i.set(e,n)}function Hc(t){return $e(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ds(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,gO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Ng=/[#\/\?@]/g,mO=/[#\?:]/g,yO=/[#\?]/g,vO=/[#\?@]/g,wO=/#/g;function Js(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Tr(t){t.g||(t.g=new Map,t.h=0,t.i&&pO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}X=Js.prototype;X.add=function(t,e){Tr(this),this.i=null,t=Ji(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function x0(t,e){Tr(t),e=Ji(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function P0(t,e){return Tr(t),e=Ji(t,e),t.g.has(e)}X.forEach=function(t,e){Tr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};X.ta=function(){Tr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};X.Z=function(t){Tr(this);let e=[];if(typeof t=="string")P0(this,t)&&(e=e.concat(this.g.get(Ji(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};X.set=function(t,e){return Tr(this),this.i=null,t=Ji(this,t),P0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};X.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function N0(t,e,n){x0(t,e),0<n.length&&(t.i=null,t.g.set(Ji(t,e),_f(n)),t.h+=n.length)}X.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ji(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _O(t,e){e&&!t.j&&(Tr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(x0(this,r),N0(this,i,n))},t)),t.j=e}var EO=class{constructor(t,e){this.g=t,this.map=e}};function O0(t){this.l=t||IO,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var IO=10;function D0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function M0(t){return t.h?1:t.g?t.g.size:0}function sh(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Of(t,e){t.g?t.g.add(e):t.h=e}function L0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}O0.prototype.cancel=function(){if(this.i=F0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function F0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return _f(t.i)}var bO=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function TO(){this.g=new bO}function SO(t,e,n){const r=n||"";try{k0(t,function(i,s){let o=i;Nc(i)&&(o=Cf(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function CO(t,e){const n=new Uc;if(ve.Image){const r=new Image;r.onload=Wo(Go,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Wo(Go,n,r,"TestLoadImage: error",!1,e),r.onabort=Wo(Go,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Wo(Go,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Go(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Io(t){this.l=t.fc||null,this.j=t.ob||!1}ut(Io,xf);Io.prototype.g=function(){return new qc(this.l,this.j)};Io.prototype.i=function(t){return function(){return t}}({});function qc(t,e){lt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Df,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(qc,lt);var Df=0;X=qc.prototype;X.open=function(t,e){if(this.readyState!=Df)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xs(this)};X.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=Df};X.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xs(this)),this.g&&(this.readyState=3,Xs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function U0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}X.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bo(this):Xs(this),this.readyState==3&&U0(this)}};X.Za=function(t){this.g&&(this.response=this.responseText=t,bo(this))};X.Ya=function(t){this.g&&(this.response=t,bo(this))};X.ka=function(){this.g&&bo(this)};function bo(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xs(t)}X.setRequestHeader=function(t,e){this.v.append(t,e)};X.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};X.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Xs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var AO=ve.JSON.parse;function Je(t){lt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=B0,this.L=this.M=!1}ut(Je,lt);var B0="",kO=/^https?$/i,RO=["POST","PUT"];X=Je.prototype;X.Oa=function(t){this.M=t};X.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():th.g(),this.C=this.u?xg(this.u):xg(th),this.g.onreadystatechange=bt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){Og(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=r0(RO,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{j0(this),0<this.B&&((this.L=xO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=bt(this.ua,this)):this.A=Rf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Og(this,s)}};function xO(t){return Mi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}X.ua=function(){typeof wf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pt(this,"timeout"),this.abort(8))};function Og(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,$0(t),Kc(t)}function $0(t){t.F||(t.F=!0,pt(t,"complete"),pt(t,"error"))}X.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,pt(this,"complete"),pt(this,"abort"),Kc(this))};X.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kc(this,!0)),Je.$.N.call(this)};X.La=function(){this.s||(this.G||this.v||this.l?V0(this):this.kb())};X.kb=function(){V0(this)};function V0(t){if(t.h&&typeof wf<"u"&&(!t.C[1]||yn(t)!=4||t.da()!=2)){if(t.v&&yn(t)==4)Rf(t.La,0,t);else if(pt(t,"readystatechange"),yn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(R0)[1]||null;!i&&ve.self&&ve.self.location&&(i=ve.self.location.protocol.slice(0,-1)),r=!kO.test(i?i.toLowerCase():"")}n=r}if(n)pt(t,"complete"),pt(t,"success");else{t.m=6;try{var s=2<yn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",$0(t)}}finally{Kc(t)}}}}function Kc(t,e){if(t.g){j0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||pt(t,"ready");try{n.onreadystatechange=r}catch{}}}function j0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}X.isActive=function(){return!!this.g};function yn(t){return t.g?t.g.readyState:0}X.da=function(){try{return 2<yn(this)?this.g.status:-1}catch{return-1}};X.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};X.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),AO(e)}};function Dg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case B0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function PO(t){const e={};t=(t.g&&2<=yn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ks(t[r]))continue;var n=nO(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}GN(e,function(r){return r.join(", ")})}X.Ia=function(){return this.m};X.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H0(t){let e="";return If(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Mf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):$e(t,e,n))}function os(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function q0(t){this.Ga=0,this.j=[],this.l=new Uc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=os("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=os("baseRetryDelayMs",5e3,t),this.hb=os("retryDelaySeedMs",1e4,t),this.eb=os("forwardChannelMaxRetries",2,t),this.xa=os("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new O0(t&&t.concurrentRequestLimit),this.Ja=new TO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}X=q0.prototype;X.ra=8;X.H=1;function Lf(t){if(K0(t),t.H==3){var e=t.W++,n=Bn(t.I);if($e(n,"SID",t.K),$e(n,"RID",e),$e(n,"TYPE","terminate"),To(t,n),e=new _o(t,t.l,e),e.L=2,e.v=Hc(Bn(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=Z0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Eo(e)}J0(t)}function Wc(t){t.g&&(Uf(t),t.g.cancel(),t.g=null)}function K0(t){Wc(t),t.u&&(ve.clearTimeout(t.u),t.u=null),Wa(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function zc(t){if(!D0(t.i)&&!t.m){t.m=!0;var e=t.Na;zs||p0(),Gs||(zs(),Gs=!0),Af.add(e,t),t.C=0}}function NO(t,e){return M0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=vo(bt(t.Na,t,e),Y0(t,t.C)),t.C++,!0)}X.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new _o(this,this.l,t);let s=this.s;if(this.U&&(s?(s=a0(s),c0(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=W0(this,i,e),n=Bn(this.I),$e(n,"RID",t),$e(n,"CVER",22),this.F&&$e(n,"X-HTTP-Session-Id",this.F),To(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(H0(s)))+"&"+e:this.o&&Mf(n,this.o,s)),Of(this.i,i),this.bb&&$e(n,"TYPE","init"),this.P?($e(n,"$req",e),$e(n,"SID","null"),i.aa=!0,rh(i,n,null)):rh(i,n,e),this.H=2}}else this.H==3&&(t?Mg(this,t):this.j.length==0||D0(this.i)||Mg(this))};function Mg(t,e){var n;e?n=e.m:n=t.W++;const r=Bn(t.I);$e(r,"SID",t.K),$e(r,"RID",n),$e(r,"AID",t.V),To(t,r),t.o&&t.s&&Mf(r,t.o,t.s),n=new _o(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=W0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Of(t.i,n),rh(n,r,e)}function To(t,e){t.na&&If(t.na,function(n,r){$e(e,r,n)}),t.h&&k0({},function(n,r){$e(e,r,n)})}function W0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?bt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g;const l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{SO(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function z0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;zs||p0(),Gs||(zs(),Gs=!0),Af.add(e,t),t.A=0}}function Ff(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=vo(bt(t.Ma,t),Y0(t,t.A)),t.A++,!0)}X.Ma=function(){if(this.u=null,G0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=vo(bt(this.jb,this),t)}};X.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),Wc(this),G0(this))};function Uf(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function G0(t){t.g=new _o(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Bn(t.wa);$e(e,"RID","rpc"),$e(e,"SID",t.K),$e(e,"AID",t.V),$e(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&$e(e,"TO",t.qa),$e(e,"TYPE","xmlhttp"),To(t,e),t.o&&t.s&&Mf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Hc(Bn(e)),n.s=null,n.S=!0,T0(n,t)}X.ib=function(){this.v!=null&&(this.v=null,Wc(this),Ff(this),xt(19))};function Wa(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function Q0(t,e){var n=null;if(t.g==e){Wa(t),Uf(t),t.g=null;var r=2}else if(sh(t.i,e))n=e.F,L0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;r=Bc(),pt(r,new _0(r,n)),zc(t)}else z0(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(r==1&&NO(t,e)||r==2&&Ff(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Fr(t,5);break;case 4:Fr(t,10);break;case 3:Fr(t,6);break;default:Fr(t,2)}}}function Y0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Fr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=bt(t.pb,t);n||(n=new qr("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||qa(n,"https"),Hc(n)),CO(n.toString(),r)}else xt(2);t.H=0,t.h&&t.h.za(e),J0(t),K0(t)}X.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function J0(t){if(t.H=0,t.ma=[],t.h){const e=F0(t.i);(e.length!=0||t.j.length!=0)&&(Sg(t.ma,e),Sg(t.ma,t.j),t.i.i.length=0,_f(t.j),t.j.length=0),t.h.ya()}}function X0(t,e,n){var r=n instanceof qr?Bn(n):new qr(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ka(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new qr(null);r&&qa(s,r),e&&(s.g=e),i&&Ka(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&$e(r,n,e),$e(r,"VER",t.ra),To(t,r),r}function Z0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Je(new Io({ob:!0})):new Je(t.va),e.Oa(t.J),e}X.isActive=function(){return!!this.h&&this.h.isActive(this)};function e_(){}X=e_.prototype;X.Ba=function(){};X.Aa=function(){};X.za=function(){};X.ya=function(){};X.isActive=function(){return!0};X.Va=function(){};function za(){if(Mi&&!(10<=Number(qN)))throw Error("Environmental error: no available transport.")}za.prototype.g=function(t,e){return new $t(t,e)};function $t(t,e){lt.call(this),this.g=new q0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ks(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ks(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Xi(this)}ut($t,lt);$t.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=X0(t,null,t.Y),zc(t)};$t.prototype.close=function(){Lf(this.g)};$t.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Cf(t),t=n);e.j.push(new EO(e.fb++,t)),e.H==3&&zc(e)};$t.prototype.N=function(){this.g.h=null,delete this.j,Lf(this.g),delete this.g,$t.$.N.call(this)};function t_(t){Pf.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ut(t_,Pf);function n_(){Nf.call(this),this.status=1}ut(n_,Nf);function Xi(t){this.g=t}ut(Xi,e_);Xi.prototype.Ba=function(){pt(this.g,"a")};Xi.prototype.Aa=function(t){pt(this.g,new t_(t))};Xi.prototype.za=function(t){pt(this.g,new n_)};Xi.prototype.ya=function(){pt(this.g,"b")};function OO(){this.blockSize=-1}function an(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ut(an,OO);an.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function eu(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}an.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)eu(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){eu(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){eu(this,r),i=0;break}}this.h=i,this.i+=e};an.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function De(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var DO={};function Bf(t){return-128<=t&&128>t?VN(t,function(e){return new De([e|0],0>e?-1:0)}):new De([t|0],0>t?-1:0)}function vn(t){if(isNaN(t)||!isFinite(t))return Si;if(0>t)return dt(vn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=oh;return new De(e,0)}function r_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return dt(r_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=vn(Math.pow(e,8)),r=Si,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=vn(Math.pow(e,s)),r=r.R(s).add(vn(o))):(r=r.R(n),r=r.add(vn(o)))}return r}var oh=4294967296,Si=Bf(0),ah=Bf(1),Lg=Bf(16777216);X=De.prototype;X.ea=function(){if(Kt(this))return-dt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:oh+r)*e,e*=oh}return t};X.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Nn(this))return"0";if(Kt(this))return"-"+dt(this).toString(t);for(var e=vn(Math.pow(t,6)),n=this,r="";;){var i=Qa(n,e).g;n=Ga(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Nn(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};X.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Nn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kt(t){return t.h==-1}X.X=function(t){return t=Ga(this,t),Kt(t)?-1:Nn(t)?0:1};function dt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new De(n,~t.h).add(ah)}X.abs=function(){return Kt(this)?dt(this):this};X.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new De(n,n[n.length-1]&-2147483648?-1:0)};function Ga(t,e){return t.add(dt(e))}X.R=function(t){if(Nn(this)||Nn(t))return Si;if(Kt(this))return Kt(t)?dt(this).R(dt(t)):dt(dt(this).R(t));if(Kt(t))return dt(this.R(dt(t)));if(0>this.X(Lg)&&0>t.X(Lg))return vn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,Qo(n,2*r+2*i),n[2*r+2*i+1]+=s*c,Qo(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Qo(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Qo(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new De(n,0)};function Qo(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function as(t,e){this.g=t,this.h=e}function Qa(t,e){if(Nn(e))throw Error("division by zero");if(Nn(t))return new as(Si,Si);if(Kt(t))return e=Qa(dt(t),e),new as(dt(e.g),dt(e.h));if(Kt(e))return e=Qa(t,dt(e)),new as(dt(e.g),e.h);if(30<t.g.length){if(Kt(t)||Kt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=ah,r=e;0>=r.X(t);)n=Fg(n),r=Fg(r);var i=ai(n,1),s=ai(r,1);for(r=ai(r,2),n=ai(n,2);!Nn(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ai(r,1),n=ai(n,1)}return e=Ga(t,i.R(e)),new as(i,e)}for(i=Si;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=vn(n),o=s.R(e);Kt(o)||0<o.X(t);)n-=r,s=vn(n),o=s.R(e);Nn(s)&&(s=ah),i=i.add(s),t=Ga(t,o)}return new as(i,t)}X.gb=function(t){return Qa(this,t).h};X.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new De(n,this.h&t.h)};X.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new De(n,this.h|t.h)};X.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new De(n,this.h^t.h)};function Fg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new De(n,t.h)}function ai(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new De(i,t.h)}za.prototype.createWebChannel=za.prototype.g;$t.prototype.send=$t.prototype.u;$t.prototype.open=$t.prototype.m;$t.prototype.close=$t.prototype.close;$c.NO_ERROR=0;$c.TIMEOUT=8;$c.HTTP_ERROR=6;E0.COMPLETE="complete";I0.EventType=wo;wo.OPEN="a";wo.CLOSE="b";wo.ERROR="c";wo.MESSAGE="d";lt.prototype.listen=lt.prototype.O;Je.prototype.listenOnce=Je.prototype.P;Je.prototype.getLastError=Je.prototype.Sa;Je.prototype.getLastErrorCode=Je.prototype.Ia;Je.prototype.getStatus=Je.prototype.da;Je.prototype.getResponseJson=Je.prototype.Wa;Je.prototype.getResponseText=Je.prototype.ja;Je.prototype.send=Je.prototype.ha;Je.prototype.setWithCredentials=Je.prototype.Oa;an.prototype.digest=an.prototype.l;an.prototype.reset=an.prototype.reset;an.prototype.update=an.prototype.j;De.prototype.add=De.prototype.add;De.prototype.multiply=De.prototype.R;De.prototype.modulo=De.prototype.gb;De.prototype.compare=De.prototype.X;De.prototype.toNumber=De.prototype.ea;De.prototype.toString=De.prototype.toString;De.prototype.getBits=De.prototype.D;De.fromNumber=vn;De.fromString=r_;var MO=function(){return new za},LO=function(){return Bc()},tu=$c,FO=E0,UO=ri,Ug={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},BO=Io,Yo=I0,$O=Je,VO=an,Ci=De;const Bg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zi="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr=new Sc("@firebase/firestore");function $g(){return Jr.logLevel}function oe(t,...e){if(Jr.logLevel<=ke.DEBUG){const n=e.map($f);Jr.debug(`Firestore (${Zi}): ${t}`,...n)}}function $n(t,...e){if(Jr.logLevel<=ke.ERROR){const n=e.map($f);Jr.error(`Firestore (${Zi}): ${t}`,...n)}}function Li(t,...e){if(Jr.logLevel<=ke.WARN){const n=e.map($f);Jr.warn(`Firestore (${Zi}): ${t}`,...n)}}function $f(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Zi}) INTERNAL ASSERTION FAILED: `+t;throw $n(e),new Error(e)}function je(t,e){t||me()}function _e(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends ln{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class HO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qO{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Mn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je(typeof r.accessToken=="string"),new i_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string"),new vt(e)}}class KO{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class WO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new KO(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GO{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(je(typeof n.token=="string"),this.T=n.token,new zO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=QO(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Fi(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new at(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new at(0,0))}static max(){return new we(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ve extends Zs{construct(e,n,r){return new Ve(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ve(n)}static emptyPath(){return new Ve([])}}const YO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Zs{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return YO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ie(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ie(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ve.fromString(e))}static fromName(e){return new ue(Ve.fromString(e).popFirst(5))}static empty(){return new ue(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ve(e.slice()))}}function JO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new mr(i,ue.empty(),e)}function XO(t){return new mr(t.readTime,t.key,-1)}class mr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new mr(we.min(),ue.empty(),-1)}static max(){return new mr(we.max(),ue.empty(),-1)}}function ZO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==eD)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new q((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Co(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Vf.ct=-1;function Gc(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function nD(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,n){this.comparator=e,this.root=n||ft.EMPTY}insert(e,n){return new ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ft.BLACK,null,null))}remove(e){return new ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jo(this.root,e,this.comparator,!0)}}class Jo{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ft{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ft.RED,this.left=i??ft.EMPTY,this.right=s??ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ft(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}ft.EMPTY=null,ft.RED=!0,ft.BLACK=!1;ft.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ft(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jg(this.data.getIterator())}getIteratorFrom(e){return new jg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class jg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new rn([])}unionWith(e){let n=new St(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new a_("Invalid base64 string: "+i):i}}(e);return new At(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new At(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}At.EMPTY_BYTE_STRING=new At("");const rD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(t){if(je(!!t),typeof t=="string"){let e=0;const n=rD.exec(t);if(je(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xr(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hf(t){const e=t.mapValue.fields.__previous_value__;return jf(e)?Hf(e):e}function eo(t){const e=yr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class to{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new to("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jf(t)?4:sD(t)?9007199254740991:10:me()}function Cn(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eo(t).isEqual(eo(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=yr(r.timestampValue),o=yr(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Xr(r.bytesValue).isEqual(Xr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?Ya(s)===Ya(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return Fi(t.arrayValue.values||[],e.arrayValue.values||[],Cn);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Vg(s)!==Vg(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Cn(s[a],o[a])))return!1;return!0}(t,e);default:return me()}}function no(t,e){return(t.values||[]).find(n=>Cn(n,e))!==void 0}function Ui(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Hg(t.timestampValue,e.timestampValue);case 4:return Hg(eo(t),eo(e));case 5:return xe(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Xr(i),a=Xr(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){const u=xe(o[c],a[c]);if(u!==0)return u}return xe(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=xe(tt(i.latitude),tt(s.latitude));return o!==0?o:xe(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){const u=Ui(o[c],a[c]);if(u)return u}return xe(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Xo.mapValue&&s===Xo.mapValue)return 0;if(i===Xo.mapValue)return 1;if(s===Xo.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){const d=xe(a[l],u[l]);if(d!==0)return d;const p=Ui(o[a[l]],c[u[l]]);if(p!==0)return p}return xe(a.length,u.length)}(t.mapValue,e.mapValue);default:throw me()}}function Hg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=yr(t),r=yr(e),i=xe(n.seconds,r.seconds);return i!==0?i:xe(n.nanos,r.nanos)}function Bi(t){return ch(t)}function ch(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=yr(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Xr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=ch(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${ch(r.fields[a])}`;return s+"}"}(t.mapValue):me();var e,n}function qg(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lh(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function Kg(t){return!!t&&"nullValue"in t}function Wg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fa(t){return!!t&&"mapValue"in t}function ks(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ks(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ks(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.value=e}static empty(){return new Wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ks(n)}setAll(e){let n=Et.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ks(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());fa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){es(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Wt(ks(this.value))}}function c_(t){const e=[];return es(t.fields,(n,r)=>{const i=new Et([n]);if(fa(r)){const s=c_(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,we.min(),we.min(),we.min(),Wt.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,we.min(),we.min(),Wt.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,we.min(),we.min(),Wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){this.position=e,this.inclusive=n}}function zg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Ui(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Gg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n="asc"){this.field=e,this.dir=n}}function oD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{}class nt extends l_{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new cD(e,n,r):n==="array-contains"?new hD(e,r):n==="in"?new fD(e,r):n==="not-in"?new dD(e,r):n==="array-contains-any"?new pD(e,r):new nt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lD(e,r):new uD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ui(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Ui(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cn extends l_{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new cn(e,n)}matches(e){return u_(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function u_(t){return t.op==="and"}function h_(t){return aD(t)&&u_(t)}function aD(t){for(const e of t.filters)if(e instanceof cn)return!1;return!0}function uh(t){if(t instanceof nt)return t.field.canonicalString()+t.op.toString()+Bi(t.value);if(h_(t))return t.filters.map(e=>uh(e)).join(",");{const e=t.filters.map(n=>uh(n)).join(",");return`${t.op}(${e})`}}function f_(t,e){return t instanceof nt?function(n,r){return r instanceof nt&&n.op===r.op&&n.field.isEqual(r.field)&&Cn(n.value,r.value)}(t,e):t instanceof cn?function(n,r){return r instanceof cn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&f_(s,r.filters[o]),!0):!1}(t,e):void me()}function d_(t){return t instanceof nt?function(e){return`${e.field.canonicalString()} ${e.op} ${Bi(e.value)}`}(t):t instanceof cn?function(e){return e.op.toString()+" {"+e.getFilters().map(d_).join(" ,")+"}"}(t):"Filter"}class cD extends nt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class lD extends nt{constructor(e,n){super(e,"in",n),this.keys=p_("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class uD extends nt{constructor(e,n){super(e,"not-in",n),this.keys=p_("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function p_(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class hD extends nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qf(n)&&no(n.arrayValue,this.value)}}class fD extends nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&no(this.value.arrayValue,n)}}class dD extends nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(no(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!no(this.value.arrayValue,n)}}class pD extends nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>no(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}}function Qg(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gD(t,e,n,r,i,s,o)}function Kf(t){const e=_e(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>uh(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Gc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bi(r)).join(",")),e.dt=n}return e.dt}function Wf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!f_(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gg(t.startAt,e.startAt)&&Gg(t.endAt,e.endAt)}function hh(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this._t=null,this.startAt,this.endAt}}function mD(t,e,n,r,i,s,o,a){return new Ao(t,e,n,r,i,s,o,a)}function zf(t){return new Ao(t)}function Yg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function g_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Gf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function m_(t){return t.collectionGroup!==null}function Ai(t){const e=_e(t);if(e.wt===null){e.wt=[];const n=Gf(e),r=g_(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new Rs(n)),e.wt.push(new Rs(Et.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Rs(Et.keyField(),s))}}}return e.wt}function Vn(t){const e=_e(t);if(!e._t)if(e.limitType==="F")e._t=Qg(e.path,e.collectionGroup,Ai(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Ai(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new Rs(s.field,o))}const r=e.endAt?new Ja(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ja(e.startAt.position,e.startAt.inclusive):null;e._t=Qg(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function fh(t,e){e.getFirstInequalityField(),Gf(t);const n=t.filters.concat([e]);return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dh(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qc(t,e){return Wf(Vn(t),Vn(e))&&t.limitType===e.limitType}function y_(t){return`${Kf(Vn(t))}|lt:${t.limitType}`}function ph(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>d_(r)).join(", ")}]`),Gc(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bi(r)).join(",")),`Target(${n})`}(Vn(t))}; limitType=${t.limitType})`}function Yc(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ue.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Ai(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=zg(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Ai(n),r)||n.endAt&&!function(i,s,o){const a=zg(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Ai(n),r))}(t,e)}function yD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v_(t){return(e,n)=>{let r=!1;for(const i of Ai(t)){const s=vD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vD(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Ui(a,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new ze(ue.comparator);function jn(){return wD}const w_=new ze(ue.comparator);function ps(...t){let e=w_;for(const n of t)e=e.insert(n.key,n);return e}function __(t){let e=w_;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return xs()}function E_(){return xs()}function xs(){return new ts(t=>t.toString(),(t,e)=>t.isEqual(e))}const _D=new ze(ue.comparator),ED=new St(ue.comparator);function Se(...t){let e=ED;for(const n of t)e=e.add(n);return e}const ID=new St(xe);function bD(){return ID}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function b_(t){return{integerValue:""+t}}function TD(t,e){return nD(e)?b_(e):I_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function SD(t,e,n){return t instanceof Xa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&jf(i)&&(i=Hf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ro?S_(t,e):t instanceof io?C_(t,e):function(r,i){const s=T_(r,i),o=Jg(s)+Jg(r.gt);return lh(s)&&lh(r.gt)?b_(o):I_(r.serializer,o)}(t,e)}function CD(t,e,n){return t instanceof ro?S_(t,e):t instanceof io?C_(t,e):n}function T_(t,e){return t instanceof Za?lh(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Xa extends Jc{}class ro extends Jc{constructor(e){super(),this.elements=e}}function S_(t,e){const n=A_(e);for(const r of t.elements)n.some(i=>Cn(i,r))||n.push(r);return{arrayValue:{values:n}}}class io extends Jc{constructor(e){super(),this.elements=e}}function C_(t,e){let n=A_(e);for(const r of t.elements)n=n.filter(i=>!Cn(i,r));return{arrayValue:{values:n}}}class Za extends Jc{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Jg(t){return tt(t.integerValue||t.doubleValue)}function A_(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AD(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ro&&r instanceof ro||n instanceof io&&r instanceof io?Fi(n.elements,r.elements,Cn):n instanceof Za&&r instanceof Za?Cn(n.gt,r.gt):n instanceof Xa&&r instanceof Xa}(t.transform,e.transform)}class kD{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function da(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xc{}function k_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qf(t.key,In.none()):new ko(t.key,t.data,In.none());{const n=t.data,r=Wt.empty();let i=new St(Et.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ii(t.key,r,new rn(i.toArray()),In.none())}}function RD(t,e,n){t instanceof ko?function(r,i,s){const o=r.value.clone(),a=Zg(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ii?function(r,i,s){if(!da(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Zg(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(R_(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ps(t,e,n,r){return t instanceof ko?function(i,s,o,a){if(!da(i.precondition,s))return o;const c=i.value.clone(),u=em(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ii?function(i,s,o,a){if(!da(i.precondition,s))return o;const c=em(i.fieldTransforms,a,s),u=s.data;return u.setAll(R_(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):function(i,s,o){return da(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(t,e,n)}function xD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=T_(r.transform,i||null);s!=null&&(n===null&&(n=Wt.empty()),n.set(r.field,s))}return n||null}function Xg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fi(n,r,(i,s)=>AD(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ko extends Xc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ii extends Xc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function R_(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Zg(t,e,n){const r=new Map;je(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,CD(o,a,n[i]))}return r}function em(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,SD(s,o,e))}return r}class Qf extends Xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PD extends Xc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&RD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ps(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=E_();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=k_(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&Fi(this.mutations,e.mutations,(n,r)=>Xg(n,r))&&Fi(this.baseMutations,e.baseMutations,(n,r)=>Xg(n,r))}}class Yf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){je(e.mutations.length===r.length);let i=_D;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Yf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var et,Ce;function MD(t){switch(t){default:return me();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function x_(t){if(t===void 0)return $n("GRPC error has no .code"),U.UNKNOWN;switch(t){case et.OK:return U.OK;case et.CANCELLED:return U.CANCELLED;case et.UNKNOWN:return U.UNKNOWN;case et.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case et.INTERNAL:return U.INTERNAL;case et.UNAVAILABLE:return U.UNAVAILABLE;case et.UNAUTHENTICATED:return U.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case et.NOT_FOUND:return U.NOT_FOUND;case et.ALREADY_EXISTS:return U.ALREADY_EXISTS;case et.PERMISSION_DENIED:return U.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case et.ABORTED:return U.ABORTED;case et.OUT_OF_RANGE:return U.OUT_OF_RANGE;case et.UNIMPLEMENTED:return U.UNIMPLEMENTED;case et.DATA_LOSS:return U.DATA_LOSS;default:return me()}}(Ce=et||(et={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Zo}static getOrCreateInstance(){return Zo===null&&(Zo=new Jf),Zo}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Zo=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Ci([4294967295,4294967295],0);function tm(t){const e=LD().encode(t),n=new VO;return n.update(e),new Uint8Array(n.digest())}function nm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([i,s],0)]}class Xf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gs(`Invalid padding: ${n}`);if(r<0)throw new gs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gs(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gs(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ci.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Ci.fromNumber(r)));return i.compare(FD)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=tm(e),[r,i]=nm(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Xf(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=tm(e),[r,i]=nm(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gs extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ro.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zc(we.min(),i,new ze(xe),jn(),Se())}}class Ro{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ro(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class P_{constructor(e,n){this.targetId=e,this.Vt=n}}class N_{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rm{constructor(){this.St=0,this.Dt=sm(),this.Ct=At.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Se(),n=Se(),r=Se();return this.Dt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new Ro(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=sm()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class UD{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=jn(),this.zt=im(),this.Wt=new ze(xe)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,s=this.se(r);if(s){const o=s.target;if(hh(o))if(i===0){const a=new ue(o.path);this.Yt(r,a,wt.newNoDocument(a,we.min()))}else je(i===1);else{const a=this.ie(r);if(a!==i){const c=this.re(e,a);if(c!==0){this.ee(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=Jf.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,l,d){var p,m,_,S,x,F;const b={localCacheCount:l,existenceFilterCount:d.count},E=d.unchangedNames;return E&&(b.bloomFilter={applied:u===0,hashCount:(p=E==null?void 0:E.hashCount)!==null&&p!==void 0?p:0,bitmapLength:(S=(_=(m=E==null?void 0:E.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&S!==void 0?S:0,padding:(F=(x=E==null?void 0:E.bits)===null||x===void 0?void 0:x.padding)!==null&&F!==void 0?F:0}),b}(c,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let c,u;try{c=Xr(s).toUint8Array()}catch(l){if(l instanceof a_)return Li("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw l}try{u=new Xf(c,o,a)}catch(l){return Li(l instanceof gs?"BloomFilter error: ":"Applying bloom filter failed: ",l),1}return u.It===0?1:i!==n-this.oe(e.targetId,u)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(e,s,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&hh(a.target)){const c=new ue(a.target.path);this.jt.get(c)!==null||this.ae(o,c)||this.Yt(o,c,wt.newNoDocument(c,e))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Se();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.se(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(e));const i=new Zc(e,n,this.Wt,this.jt,r);return this.jt=jn(),this.zt=im(),this.Wt=new ze(xe),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new rm,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new St(xe),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new rm),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function im(){return new ze(ue.comparator)}function sm(){return new ze(ue.comparator)}const BD={asc:"ASCENDING",desc:"DESCENDING"},$D={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VD={and:"AND",or:"OR"};class jD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gh(t,e){return t.useProto3Json||Gc(e)?e:{value:e}}function ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function HD(t,e){return ec(t,e.toTimestamp())}function bn(t){return je(!!t),we.fromTimestamp(function(e){const n=yr(e);return new at(n.seconds,n.nanos)}(t))}function Zf(t,e){return function(n){return new Ve(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function D_(t){const e=Ve.fromString(t);return je(U_(e)),e}function mh(t,e){return Zf(t.databaseId,e.path)}function nu(t,e){const n=D_(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(M_(n))}function yh(t,e){return Zf(t.databaseId,e)}function qD(t){const e=D_(t);return e.length===4?Ve.emptyPath():M_(e)}function vh(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function M_(t){return je(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function om(t,e,n){return{name:mh(t,e),fields:n.value.mapValue.fields}}function KD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(je(u===void 0||typeof u=="string"),At.fromBase64String(u||"")):(je(u===void 0||u instanceof Uint8Array),At.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?U.UNKNOWN:x_(c.code);return new ie(u,c.message||"")}(o);n=new N_(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=nu(t,r.document.name),s=bn(r.document.updateTime),o=r.document.createTime?bn(r.document.createTime):we.min(),a=new Wt({mapValue:{fields:r.document.fields}}),c=wt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new pa(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=nu(t,r.document),s=r.readTime?bn(r.readTime):we.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new pa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=nu(t,r.document),s=r.removedTargetIds||[];n=new pa([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DD(i,s),a=r.targetId;n=new P_(a,o)}}return n}function WD(t,e){let n;if(e instanceof ko)n={update:om(t,e.key,e.value)};else if(e instanceof Qf)n={delete:mh(t,e.key)};else if(e instanceof ii)n={update:om(t,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof PD))return me();n={verify:mh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof Xa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof ro)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof io)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Za)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:HD(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function zD(t,e){return t&&t.length>0?(je(e!==void 0),t.map(n=>function(r,i){let s=r.updateTime?bn(r.updateTime):bn(i);return s.isEqual(we.min())&&(s=bn(i)),new kD(s,r.transformResults||[])}(n,e))):[]}function GD(t,e){return{documents:[yh(t,e.path)]}}function QD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=yh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=yh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(c.length!==0)return F_(cn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:li(l.field),direction:XD(l.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=gh(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function YD(t){let e=qD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){je(r===1);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=L_(l);return d instanceof cn&&h_(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>function(d){return new Rs(ui(d.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(l)));let a=null;n.limit&&(a=function(l){let d;return d=typeof l=="object"?l.value:l,Gc(d)?null:d}(n.limit));let c=null;n.startAt&&(c=function(l){const d=!!l.before,p=l.values||[];return new Ja(p,d)}(n.startAt));let u=null;return n.endAt&&(u=function(l){const d=!l.before,p=l.values||[];return new Ja(p,d)}(n.endAt)),mD(e,i,o,s,a,"F",c,u)}function JD(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L_(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ui(e.unaryFilter.field);return nt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ui(e.unaryFilter.field);return nt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(e.unaryFilter.field);return nt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ui(e.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(e){return nt.create(ui(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return cn.create(e.compositeFilter.filters.map(n=>L_(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return me()}}(e.compositeFilter.op))}(t):me()}function XD(t){return BD[t]}function ZD(t){return $D[t]}function eM(t){return VD[t]}function li(t){return{fieldPath:t.canonicalString()}}function ui(t){return Et.fromServerFormat(t.fieldPath)}function F_(t){return t instanceof nt?function(e){if(e.op==="=="){if(Wg(e.value))return{unaryFilter:{field:li(e.field),op:"IS_NAN"}};if(Kg(e.value))return{unaryFilter:{field:li(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Wg(e.value))return{unaryFilter:{field:li(e.field),op:"IS_NOT_NAN"}};if(Kg(e.value))return{unaryFilter:{field:li(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(e.field),op:ZD(e.op),value:e.value}}}(t):t instanceof cn?function(e){const n=e.getFilters().map(r=>F_(r));return n.length===1?n[0]:{compositeFilter:{op:eM(e.op),filters:n}}}(t):me()}function tM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,s=we.min(),o=we.min(),a=At.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.fe=e}}function rM(t){const e=YD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.rn=new sM}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(mr.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(mr.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new St(Ve.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new St(Ve.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new $i(0)}static Mn(){return new $i(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.changes=new ts(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ps(r.mutation,i,rn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ps();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=jn();const o=xs(),a=xs();return n.forEach((c,u)=>{const l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof ii)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Ps(l.mutation,u,l.mutation.getFieldMask(),at.now())):o.set(u.key,rn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new aM(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=xs();let i=new ze((o,a)=>o-a),s=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let l=r.get(c)||rn.empty();l=a.applyToLocalView(u,l),r.set(c,l);const d=(i.get(a.batchId)||Se()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,l=c.value,d=E_();l.forEach(p=>{if(!s.has(p)){const m=k_(n.get(p),r.get(p));m!==null&&d.set(p,m),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return q.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):m_(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):q.resolve(Ur());let a=-1,c=s;return o.next(u=>q.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?q.resolve():this.remoteDocumentCache.getEntry(e,l).next(p=>{c=c.insert(l,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Se())).next(l=>({batchId:a,changes:__(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=ps();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ps();return this.indexManager.getCollectionParents(e,i).next(o=>q.forEach(o,a=>{const c=function(u,l){return new Ao(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,wt.newInvalidDocument(u)))});let o=ps();return s.forEach((a,c)=>{const u=i.get(a);u!==void 0&&Ps(u.mutation,c,rn.empty(),at.now()),Yc(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:bn(r.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:rM(r.bundledQuery),readTime:bn(r.readTime)}}(n)),q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.overlays=new ze(ue.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return q.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.we(e,n,s)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ze((u,l)=>u-l);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Ur(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}const a=Ur(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return q.resolve(a)}we(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new OD(n,r));let s=this.ls.get(n);s===void 0&&(s=Se(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(){this.fs=new St(ct.ds),this.ws=new St(ct._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new ct(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new ct(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ue(new Ve([])),r=new ct(n,e),i=new ct(n,e+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ue(new Ve([])),r=new ct(n,e),i=new ct(n,e+1);let s=Se();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ct{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ue.comparator(e.key,n.key)||xe(e.As,n.As)}static _s(e,n){return xe(e.As,n.As)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new St(ct.ds)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ND(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ct(n,0),i=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(xe);return n.forEach(i=>{const s=new ct(i,0),o=new ct(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new ct(new ue(s),0);let a=new St(xe);return this.Rs.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.As)),!0)},o),q.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){je(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return q.forEach(n.mutations,i=>{const s=new ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new ct(n,0),i=this.Rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.Ds=e,this.docs=new ze(ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=jn();const o=n.path,a=new ue(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||ZO(XO(l),r)<=0||(i.has(l.key)||Yc(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Cs(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dM(this)}getSize(e){return q.resolve(this.size)}}class dM extends oM{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.persistence=e,this.xs=new ts(n=>Kf(n),Wf),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ed,this.targetCount=0,this.Ms=$i.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new $i(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),q.waitFor(s).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n){this.$s={},this.overlays={},this.Os=new Vf(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new pM(this),this.indexManager=new iM,this.remoteDocumentCache=function(r){return new fM(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new nM(n),this.qs=new lM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new hM(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new mM(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(e,n){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class mM extends tD{constructor(e){super(),this.currentSequenceNumber=e}}class td{constructor(e){this.persistence=e,this.Qs=new ed,this.js=null}static zs(e){return new td(e)}get Ws(){if(this.js)return this.js;throw me()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const i=ue.fromPath(r);return this.Hs(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Se(),i=Se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nd(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(s=>s||this.Gi(e,n,i,r)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(Yg(n))return q.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dh(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Se(...s);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ji(n,a);return this.zi(n,u,o,c.readTime)?this.Ki(e,dh(n,null,"F")):this.Wi(e,u,n,c)}))})))}Gi(e,n,r,i){return Yg(n)||i.isEqual(we.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(e,n):($g()<=ke.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ph(n)),this.Wi(e,o,n,JO(i,-1)))})}ji(e,n){let r=new St(v_(e));return n.forEach((i,s)=>{Yc(e,s)&&(r=r.add(s))}),r}zi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(e,n){return $g()<=ke.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ph(n)),this.Ui.getDocumentsMatchingQuery(e,n,mr.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new ze(xe),this.Yi=new ts(s=>Kf(s),Wf),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function wM(t,e,n,r){return new vM(t,e,n,r)}async function B_(t,e){const n=_e(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Se();for(const u of i){o.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}for(const u of s){a.push(u.batchId);for(const l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function _M(t,e){const n=_e(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){const l=c.batch,d=l.keys();let p=q.resolve();return d.forEach(m=>{p=p.next(()=>u.getEntry(a,m)).next(_=>{const S=c.docVersions.get(m);je(S!==null),_.version.compareTo(S)<0&&(l.applyToRemoteDocument(_,c),_.isValidDocument()&&(_.setReadTime(c.commitVersion),u.addEntry(_)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Se();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $_(t){const e=_e(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function EM(t,e){const n=_e(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];e.targetChanges.forEach((l,d)=>{const p=i.get(d);if(!p)return;a.push(n.Bs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,l.addedDocuments,d)));let m=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(At.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):l.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(l.resumeToken,r)),i=i.insert(d,m),function(_,S,x){return _.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,m,l)&&a.push(n.Bs.updateTargetData(s,m))});let c=jn(),u=Se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(IM(s,o,e.documentUpdates).next(l=>{c=l.nr,u=l.sr})),!r.isEqual(we.min())){const l=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ji=i,s))}function IM(t,e,n){let r=Se(),i=Se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=jn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(we.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{nr:o,sr:i}})}function bM(t,e){const n=_e(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function TM(t,e){const n=_e(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(s=>s?(i=s,q.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function wh(t,e,n){const r=_e(t),i=r.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Co(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}function am(t,e,n){const r=_e(t);let i=we.min(),s=Se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){const l=_e(a),d=l.Yi.get(u);return d!==void 0?q.resolve(l.Ji.get(d)):l.Bs.getTargetData(c,u)}(r,o,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Se())).next(a=>(SM(r,yD(e),a),{documents:a,ir:s})))}function SM(t,e,n){let r=t.Xi.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Xi.set(e,r)}class cm{constructor(){this.activeTargetIds=bD()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CM{constructor(){this.Hr=new cm,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new cm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea=null;function ru(){return ea===null?ea=268435456+Math.round(2147483648*Math.random()):ea++,"0x"+ea.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class xM extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,s){const o=ru(),a=this.To(e,n);oe("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const c={};return this.Eo(c,i,s),this.Ao(e,a,c,r).then(u=>(oe("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Li("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(e,n,r,i,s,o){return this.Io(e,n,r,i,s)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Zi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}To(e,n){const r=kM[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const s=ru();return new Promise((o,a)=>{const c=new $O;c.setWithCredentials(!0),c.listenOnce(FO.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case tu.NO_ERROR:const l=c.getResponseJson();oe(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case tu.TIMEOUT:oe(yt,`RPC '${e}' ${s} timed out`),a(new ie(U.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:const d=c.getStatus();if(oe(yt,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const _=function(S){const x=S.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(x)>=0?x:U.UNKNOWN}(m.status);a(new ie(_,m.message))}else a(new ie(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ie(U.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{oe(yt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);oe(yt,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Ro(e,n,r){const i=ru(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MO(),a=LO(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new BO({})),this.Eo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const l=s.join("");oe(yt,`Creating RPC '${e}' stream ${i}: ${l}`,c);const d=o.createWebChannel(l,c);let p=!1,m=!1;const _=new RM({ro:x=>{m?oe(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(p||(oe(yt,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),oe(yt,`RPC '${e}' stream ${i} sending:`,x),d.send(x))},oo:()=>d.close()}),S=(x,F,b)=>{x.listen(F,E=>{try{b(E)}catch(T){setTimeout(()=>{throw T},0)}})};return S(d,Yo.EventType.OPEN,()=>{m||oe(yt,`RPC '${e}' stream ${i} transport opened.`)}),S(d,Yo.EventType.CLOSE,()=>{m||(m=!0,oe(yt,`RPC '${e}' stream ${i} transport closed`),_.wo())}),S(d,Yo.EventType.ERROR,x=>{m||(m=!0,Li(yt,`RPC '${e}' stream ${i} transport errored:`,x),_.wo(new ie(U.UNAVAILABLE,"The operation could not be completed")))}),S(d,Yo.EventType.MESSAGE,x=>{var F;if(!m){const b=x.data[0];je(!!b);const E=b,T=E.error||((F=E[0])===null||F===void 0?void 0:F.error);if(T){oe(yt,`RPC '${e}' stream ${i} received error:`,T);const P=T.status;let A=function(O){const V=et[O];if(V!==void 0)return x_(V)}(P),$=T.message;A===void 0&&(A=U.INTERNAL,$="Unknown error status: "+P+" with message "+T.message),m=!0,_.wo(new ie(A,$)),d.close()}else oe(yt,`RPC '${e}' stream ${i} received:`,b),_._o(b)}}),S(a,UO.STAT_EVENT,x=>{x.stat===Ug.PROXY?oe(yt,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===Ug.NOPROXY&&oe(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}function iu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){return new jD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,n,r,i,s,o,a,c){this.ii=e,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new V_(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===U.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new ie(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PM extends j_{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=KD(this.serializer,e),r=function(i){if(!("targetChange"in i))return we.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?bn(s.readTime):we.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=vh(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=hh(a)?{documents:GD(i,a)}:{query:QD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=O_(i,s.resumeToken);const c=gh(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(we.min())>0){o.readTime=ec(i,s.snapshotVersion.toTimestamp());const c=gh(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=JD(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=vh(this.serializer),n.removeTarget=e,this.Wo(n)}}class NM extends j_{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=zD(e.writeResults,e.commitTime),r=bn(e.commitTime);return this.listener.cu(r,n)}return je(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=vh(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>WD(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(U.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(e,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(U.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class DM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?($n(n),this.mu=!1):oe("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{si(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=_e(a);c.vu.add(4),await xo(c),c.bu.set("Unknown"),c.vu.delete(4),await tl(c)}(this))})}),this.bu=new DM(r,i)}}async function tl(t){if(si(t))for(const e of t.Ru)await e(!0)}async function xo(t){for(const e of t.Ru)await e(!1)}function H_(t,e){const n=_e(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),sd(n)?id(n):ns(n).Ko()&&rd(n,e))}function q_(t,e){const n=_e(t),r=ns(n);n.Au.delete(e),r.Ko()&&K_(n,e),n.Au.size===0&&(r.Ko()?r.jo():si(n)&&n.bu.set("Unknown"))}function rd(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ns(t).su(e)}function K_(t,e){t.Vu.qt(e),ns(t).iu(e)}function id(t){t.Vu=new UD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),ns(t).start(),t.bu.gu()}function sd(t){return si(t)&&!ns(t).Uo()&&t.Au.size>0}function si(t){return _e(t).vu.size===0}function W_(t){t.Vu=void 0}async function LM(t){t.Au.forEach((e,n)=>{rd(t,e)})}async function FM(t,e){W_(t),sd(t)?(t.bu.Iu(e),id(t)):t.bu.set("Unknown")}async function UM(t,e,n){if(t.bu.set("Online"),e instanceof N_&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tc(t,r)}else if(e instanceof pa?t.Vu.Ht(e):e instanceof P_?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(we.min()))try{const r=await $_(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(c);u&&i.Au.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,c)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(At.EMPTY_BYTE_STRING,u.snapshotVersion)),K_(i,a);const l=new cr(u.target,a,c,u.sequenceNumber);rd(i,l)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await tc(t,r)}}async function tc(t,e,n){if(!Co(e))throw e;t.vu.add(1),await xo(t),t.bu.set("Offline"),n||(n=()=>$_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await tl(t)})}function z_(t,e){return e().catch(n=>tc(t,n,e))}async function nl(t){const e=_e(t),n=vr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;BM(e);)try{const i=await bM(e.localStore,r);if(i===null){e.Eu.length===0&&n.jo();break}r=i.batchId,$M(e,i)}catch(i){await tc(e,i)}G_(e)&&Q_(e)}function BM(t){return si(t)&&t.Eu.length<10}function $M(t,e){t.Eu.push(e);const n=vr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function G_(t){return si(t)&&!vr(t).Uo()&&t.Eu.length>0}function Q_(t){vr(t).start()}async function VM(t){vr(t).hu()}async function jM(t){const e=vr(t);for(const n of t.Eu)e.uu(n.mutations)}async function HM(t,e,n){const r=t.Eu.shift(),i=Yf.from(r,e,n);await z_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await nl(t)}async function qM(t,e){e&&vr(t).ou&&await async function(n,r){if(i=r.code,MD(i)&&i!==U.ABORTED){const s=n.Eu.shift();vr(n).Qo(),await z_(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await nl(n)}var i}(t,e),G_(t)&&Q_(t)}async function um(t,e){const n=_e(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=si(n);n.vu.add(3),await xo(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await tl(n)}async function KM(t,e){const n=_e(t);e?(n.vu.delete(2),await tl(n)):e||(n.vu.add(2),await xo(n),n.bu.set("Unknown"))}function ns(t){return t.Su||(t.Su=function(e,n,r){const i=_e(e);return i.fu(),new PM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:LM.bind(null,t),ao:FM.bind(null,t),nu:UM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),sd(t)?id(t):t.bu.set("Unknown")):(await t.Su.stop(),W_(t))})),t.Su}function vr(t){return t.Du||(t.Du=function(e,n,r){const i=_e(e);return i.fu(),new NM(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:VM.bind(null,t),ao:qM.bind(null,t),au:jM.bind(null,t),cu:HM.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await nl(t)):(await t.Du.stop(),t.Eu.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new od(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ad(t,e){if($n("AsyncQueue",`${e}: ${t}`),Co(t))return new ie(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=ps(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new ki(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ki;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this.Cu=new ze(ue.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):me():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vi{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Vi(e,n,ki.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(){this.Nu=void 0,this.listeners=[]}}class zM{constructor(){this.queries=new ts(e=>y_(e),Qc),this.onlineState="Unknown",this.ku=new Set}}async function Y_(t,e){const n=_e(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new WM),i)try{s.Nu=await n.onListen(r)}catch(o){const a=ad(o,`Initialization of query '${ph(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&cd(n)}async function J_(t,e){const n=_e(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function GM(t,e){const n=_e(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&cd(n)}function QM(t,e,n){const r=_e(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function cd(t){t.ku.forEach(e=>{e.next()})}class X_{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=Vi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this.key=e}}class eE{constructor(e){this.key=e}}class YM{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Se(),this.mutatedKeys=Se(),this.tc=v_(e),this.ec=new ki(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new hm,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const p=i.get(l),m=Yc(this.query,d)?d:null,_=!!p&&this.mutatedKeys.has(p.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?_!==S&&(r.track({type:3,doc:m}),x=!0):this.rc(p,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.tc(m,c)>0||u&&this.tc(m,u)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(c||u)&&(a=!0)),x&&(m?(o=o.add(m),s=S?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((u,l)=>function(d,p){const m=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return m(d)-m(p)}(u.type,l.type)||this.tc(u.doc,l.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,c=a!==this.Xu;return this.Xu=a,s.length!==0||c?{snapshot:new Vi(this.query,e.ec,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new hm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Se(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new eE(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Z_(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Se();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Vi.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class JM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XM{constructor(e){this.key=e,this.fc=!1}}class ZM{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new ts(a=>y_(a),Qc),this._c=new Map,this.mc=new Set,this.gc=new ze(ue.comparator),this.yc=new Map,this.Ic=new ed,this.Tc={},this.Ec=new Map,this.Ac=$i.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function eL(t,e){const n=uL(t);let r,i;const s=n.wc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await TM(n.localStore,Vn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await tL(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&H_(n.remoteStore,o)}return i}async function tL(t,e,n,r,i){t.Rc=(d,p,m)=>async function(_,S,x,F){let b=S.view.sc(x);b.zi&&(b=await am(_.localStore,S.query,!1).then(({documents:P})=>S.view.sc(P,b)));const E=F&&F.targetChanges.get(S.targetId),T=S.view.applyChanges(b,_.isPrimaryClient,E);return dm(_,S.targetId,T.cc),T.snapshot}(t,d,p,m);const s=await am(t.localStore,e,!0),o=new YM(e,s.ir),a=o.sc(s.documents),c=Ro.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);dm(t,n,u.cc);const l=new JM(e,n,o);return t.wc.set(e,l),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),u.snapshot}async function nL(t,e){const n=_e(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Qc(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wh(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),q_(n.remoteStore,r.targetId),_h(n,r.targetId)}).catch(So)):(_h(n,r.targetId),await wh(n.localStore,r.targetId,!0))}async function rL(t,e,n){const r=hL(t);try{const i=await function(s,o){const a=_e(s),c=at.now(),u=o.reduce((p,m)=>p.add(m.key),Se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=jn(),_=Se();return a.Zi.getEntries(p,u).next(S=>{m=S,m.forEach((x,F)=>{F.isValidDocument()||(_=_.add(x))})}).next(()=>a.localDocuments.getOverlayedDocuments(p,m)).next(S=>{l=S;const x=[];for(const F of o){const b=xD(F,l.get(F.key).overlayedDocument);b!=null&&x.push(new ii(F.key,b,c_(b.value.mapValue),In.exists(!0)))}return a.mutationQueue.addMutationBatch(p,c,x,o)}).next(S=>{d=S;const x=S.applyToLocalDocumentSet(l,_);return a.documentOverlayCache.saveOverlays(p,S.batchId,x)})}).then(()=>({batchId:d.batchId,changes:__(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.Tc[s.currentUser.toKey()];c||(c=new ze(xe)),c=c.insert(o,a),s.Tc[s.currentUser.toKey()]=c}(r,i.batchId,n),await Po(r,i.changes),await nl(r.remoteStore)}catch(i){const s=ad(i,"Failed to persist write");n.reject(s)}}async function tE(t,e){const n=_e(t);try{const r=await EM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?je(o.fc):i.removedDocuments.size>0&&(je(o.fc),o.fc=!1))}),await Po(n,r,e)}catch(r){await So(r)}}function fm(t,e,n){const r=_e(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=_e(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(const d of l.listeners)d.Mu(o)&&(c=!0)}),c&&cd(a)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iL(t,e,n){const r=_e(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),s=i&&i.key;if(s){let o=new ze(ue.comparator);o=o.insert(s,wt.newNoDocument(s,we.min()));const a=Se().add(s),c=new Zc(we.min(),new Map,new ze(xe),o,a);await tE(r,c),r.gc=r.gc.remove(s),r.yc.delete(e),ld(r)}else await wh(r.localStore,e,!1).then(()=>_h(r,e,n)).catch(So)}async function sL(t,e){const n=_e(t),r=e.batch.batchId;try{const i=await _M(n.localStore,e);rE(n,r,null),nE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Po(n,i)}catch(i){await So(i)}}async function oL(t,e,n){const r=_e(t);try{const i=await function(s,o){const a=_e(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(je(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);rE(r,e,n),nE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Po(r,i)}catch(i){await So(i)}}function nE(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function rE(t,e,n){const r=_e(t);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function _h(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||iE(t,r)})}function iE(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(q_(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),ld(t))}function dm(t,e,n){for(const r of n)r instanceof Z_?(t.Ic.addReference(r.key,e),aL(t,r)):r instanceof eE?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||iE(t,r.key)):me()}function aL(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.mc.add(r),ld(t))}function ld(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ue(Ve.fromString(e)),r=t.Ac.next();t.yc.set(r,new XM(n)),t.gc=t.gc.insert(n,r),H_(t.remoteStore,new cr(Vn(zf(n.path)),r,"TargetPurposeLimboResolution",Vf.ct))}}async function Po(t,e,n){const r=_e(t),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,c)=>{o.push(r.Rc(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const l=nd.Li(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,c){const u=_e(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>q.forEach(c,d=>q.forEach(d.Fi,p=>u.persistence.referenceDelegate.addReference(l,d.targetId,p)).next(()=>q.forEach(d.Bi,p=>u.persistence.referenceDelegate.removeReference(l,d.targetId,p)))))}catch(l){if(!Co(l))throw l;oe("LocalStore","Failed to update sequence numbers: "+l)}for(const l of c){const d=l.targetId;if(!l.fromCache){const p=u.Ji.get(d),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);u.Ji=u.Ji.insert(d,_)}}}(r.localStore,s))}async function cL(t,e){const n=_e(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await B_(n.localStore,e);n.currentUser=e,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new ie(U.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Po(n,r.er)}}function lL(t,e){const n=_e(t),r=n.yc.get(e);if(r&&r.fc)return Se().add(r.key);{let i=Se();const s=n._c.get(e);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function uL(t){const e=_e(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=lL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iL.bind(null,e),e.dc.nu=GM.bind(null,e.eventManager),e.dc.Pc=QM.bind(null,e.eventManager),e}function hL(t){const e=_e(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oL.bind(null,e),e}class pm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=el(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return wM(this.persistence,new yM,e.initialUser,this.serializer)}createPersistence(e){return new gM(td.zs,this.serializer)}createSharedClientState(e){return new CM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class fL{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cL.bind(null,this.syncEngine),await KM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new zM}createDatastore(e){const n=el(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new xM(i));var i;return function(s,o,a,c){return new OM(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>fm(this.syncEngine,a,0),o=lm.D()?new lm:new AM,new MM(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,c,u){const l=new ZM(r,i,s,o,a,c);return u&&(l.vc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=_e(e);oe("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await xo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=s_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ad(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function su(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await B_(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gL(t);oe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>um(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>um(e.remoteStore,s)),t._onlineComponents=e}function pL(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function gL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await su(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!pL(n))throw n;Li("Error using user provided cache. Falling back to memory cache: "+n),await su(t,new pm)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await su(t,new pm);return t._offlineComponents}async function oE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await gm(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await gm(t,new fL))),t._onlineComponents}function mL(t){return oE(t).then(e=>e.syncEngine)}async function aE(t){const e=await oE(t),n=e.eventManager;return n.onListen=eL.bind(null,e.syncEngine),n.onUnlisten=nL.bind(null,e.syncEngine),n}function yL(t,e,n={}){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const u=new sE({next:d=>{s.enqueueAndForget(()=>J_(i,l));const p=d.docs.has(o);!p&&d.fromCache?c.reject(new ie(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&a&&a.source==="server"?c.reject(new ie(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new X_(zf(o.path),u,{includeMetadataChanges:!0,Ku:!0});return Y_(i,l)}(await aE(t),t.asyncQueue,e,n,r)),r.promise}function vL(t,e,n={}){const r=new Mn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){const u=new sE({next:d=>{s.enqueueAndForget(()=>J_(i,l)),d.fromCache&&a.source==="server"?c.reject(new ie(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),l=new X_(o,u,{includeMetadataChanges:!0,Ku:!0});return Y_(i,l)}(await aE(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e,n){if(!n)throw new ie(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wL(t,e,n,r){if(e===!0&&r===!0)throw new ie(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ym(t){if(!ue.isDocumentKey(t))throw new ie(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vm(t){if(ue.isDocumentKey(t))throw new ie(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function rl(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rl(t);throw new ie(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class il{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wm(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new jO;switch(n.type){case"firstParty":return new WO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=mm.get(e);n&&(oe("ComponentProvider","Removing Datastore"),mm.delete(e),n.terminate())}(this),Promise.resolve()}}function _L(t,e,n,r={}){var i;const s=(t=wr(t,il))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=vt.MOCK_USER;else{a=M1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ie(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new vt(u)}t._authCredentials=new HO(new i_(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}}class rs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class pr extends rs{constructor(e,n,r){super(e,n,zf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ue(e))}withConverter(e){return new pr(this.firestore,e,this._path)}}function EL(t,e,...n){if(t=Ft(t),lE("collection","path",e),t instanceof il){const r=Ve.fromString(e,...n);return vm(r),new pr(t,null,r)}{if(!(t instanceof Mt||t instanceof pr))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return vm(r),new pr(t.firestore,null,r)}}function IL(t,e,...n){if(t=Ft(t),arguments.length===1&&(e=s_.A()),lE("doc","path",e),t instanceof il){const r=Ve.fromString(e,...n);return ym(r),new Mt(t,null,new ue(r))}{if(!(t instanceof Mt||t instanceof pr))throw new ie(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ve.fromString(e,...n));return ym(r),new Mt(t.firestore,t instanceof pr?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new V_(this,"async_queue_retry"),this.Xc=()=>{const n=iu();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=iu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=iu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Mn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Co(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw $n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=od.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&me()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class No extends il{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new bL,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||uE(this),this._firestoreClient.terminate()}}function TL(t,e){const n=typeof t=="object"?t:Yv(),r=typeof t=="string"?t:"(default)",i=fo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=O1("firestore");s&&_L(i,...s)}return i}function ud(t){return t._firestoreClient||uE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function uE(t){var e,n,r;const i=t._freezeSettings(),s=function(o,a,c,u){return new iD(o,a,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,cE(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new dL(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ji(At.fromBase64String(e))}catch(n){throw new ie(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ji(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=/^__.*__$/;class CL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ii(e,this.data,this.fieldMask,n,this.fieldTransforms):new ko(e,this.data,n,this.fieldTransforms)}}function fE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class dd{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new dd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return nc(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(fE(this.ca)&&SL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class AL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||el(e)}ya(e,n,r,i=!1){return new dd({ca:e,methodName:n,ga:r,path:Et.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dE(t){const e=t._freezeSettings(),n=el(t._databaseId);return new AL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kL(t,e,n,r,i,s={}){const o=t.ya(s.merge||s.mergeFields?2:0,e,n,i);mE("Data must be an object, but it was:",o,r);const a=pE(r,o);let c,u;if(s.merge)c=new rn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const p=xL(e,d,n);if(!o.contains(p))throw new ie(U.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);NL(l,p)||l.push(p)}c=new rn(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new CL(new Wt(a),c,u)}function RL(t,e,n,r=!1){return pd(n,t.ya(r?4:3,e))}function pd(t,e){if(gE(t=Ft(t)))return mE("Unsupported field value:",e,t),pE(t,e);if(t instanceof hE)return function(n,r){if(!fE(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=pd(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=Ft(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return TD(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=at.fromDate(n);return{timestampValue:ec(r.serializer,i)}}if(n instanceof at){const i=new at(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ec(r.serializer,i)}}if(n instanceof fd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ji)return{bytesValue:O_(r.serializer,n._byteString)};if(n instanceof Mt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zf(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${rl(n)}`)}(t,e)}function pE(t,e){const n={};return o_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(r,i)=>{const s=pd(i,e.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof fd||t instanceof ji||t instanceof Mt||t instanceof hE)}function mE(t,e,n){if(!gE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=rl(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function xL(t,e,n){if((e=Ft(e))instanceof hd)return e._internalPath;if(typeof e=="string")return yE(t,e);throw nc("Field path arguments must be of type string or ",t,!1,void 0,n)}const PL=new RegExp("[~\\*/\\[\\]]");function yE(t,e,n){if(e.search(PL)>=0)throw nc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hd(...e.split("."))._internalPath}catch{throw nc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ie(U.INVALID_ARGUMENT,a+t+c)}function NL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class OL extends vE{data(){return super.data()}}function gd(t,e){return typeof e=="string"?yE(t,e):e instanceof hd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class md{}class ML extends md{}function LL(t,e,...n){let r=[];e instanceof md&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof yd).length,o=i.filter(a=>a instanceof sl).length;if(s>1||s>0&&o>0)throw new ie(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sl extends ML{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sl(e,n,r)}_apply(e){const n=this._parse(e);return wE(e._query,n),new rs(e.firestore,e.converter,fh(e._query,n))}_parse(e){const n=dE(e.firestore);return function(i,s,o,a,c,u,l){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ie(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Em(l,u);const p=[];for(const m of l)p.push(_m(a,i,m));d={arrayValue:{values:p}}}else d=_m(a,i,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Em(l,u),d=RL(o,s,l,u==="in"||u==="not-in");return nt.create(c,u,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function FL(t,e,n){const r=e,i=gd("where",t);return sl._create(i,r,n)}class yd extends md{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)wE(s,a),s=fh(s,a)}(e._query,n),new rs(e.firestore,e.converter,fh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _m(t,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new ie(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!m_(e)&&n.indexOf("/")!==-1)throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ve.fromString(n));if(!ue.isDocumentKey(r))throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qg(t,new ue(r))}if(n instanceof Mt)return qg(t,n._key);throw new ie(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rl(n)}.`)}function Em(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(t,e){if(e.isInequality()){const r=Gf(t),i=e.field;if(r!==null&&!r.isEqual(i))throw new ie(U.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=g_(t);s!==null&&UL(t,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function UL(t,e,n){if(!n.isEqual(e))throw new ie(U.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class BL{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return es(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new fd(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eo(e));default:return null}}convertTimestamp(e){const n=yr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ve.fromString(e);je(U_(r));const i=new to(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||$n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _E extends vE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ga(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ga extends _E{data(e={}){return super.data(e)}}class VL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ga(this._firestore,this._userDataWriter,r.key,r,new ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new ga(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ms(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new ga(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ms(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:jL(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function jL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){t=wr(t,Mt);const e=wr(t.firestore,No);return yL(ud(e),t._key).then(n=>KL(e,t,n))}class EE extends BL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}function qL(t){t=wr(t,rs);const e=wr(t.firestore,No),n=ud(e),r=new EE(e);return DL(t._query),vL(n,t._query).then(i=>new VL(e,r,t,i))}function CF(t,e,n){t=wr(t,Mt);const r=wr(t.firestore,No),i=$L(t.converter,e);return IE(r,[kL(dE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,In.none())])}function AF(t){return IE(wr(t.firestore,No),[new Qf(t._key,In.none())])}function IE(t,e){return function(n,r){const i=new Mn;return n.asyncQueue.enqueueAndForget(async()=>rL(await mL(n),r,i)),i.promise}(ud(t),e)}function KL(t,e,n){const r=n.docs.get(e._key),i=new EE(t);return new _E(t,i,e._key,r,new ms(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){Zi=n})(zi),Sn(new on("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new No(new qO(n.getProvider("auth-internal")),new GO(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ie(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Yt(Bg,"3.13.0",t),Yt(Bg,"3.13.0","esm2017")})();const WL={apiKey:"AIzaSyAd7SbQQhA-A3L7VvCp9IpKWLBqTxoas4I",authDomain:"poly-8e297.firebaseapp.com",projectId:"poly-8e297",storageBucket:"poly-8e297.firebasestorage.app",messagingSenderId:"971216082470",appId:"1:971216082470:web:e299d20607a86675b638e7"},bE=Qv(WL),TE=TL(bE);async function zL(t){return new Promise(async(e,n)=>{const r=IL(TE,"poly_users",t),i=await HL(r);e(i.data())})}async function kF(t){return new Promise(async(e,n)=>{const r=EL(TE,"poly_users"),i=LL(r,FL("email","==",t)),s=await qL(i);let o=[];s.forEach(a=>{o.push(a.data())}),o.length<=0&&e(null),e(o[0]||null)})}class GL{constructor(){this._events={}}on(e,n){return this._events[e]||(this._events[e]=[]),this._events[e].push(n),()=>{this._events[e]=this._events[e].filter(r=>r!==n)}}publish(e,...n){this._events[e]&&this._events[e].forEach(r=>{r(...n)})}}function QL(t){Ov().value.user=t}function YL(){const t=rP(bE),e=new GL;return t.onAuthStateChanged(async n=>{if(n){const r=await zL(n==null?void 0:n.uid);QL(r),e.publish("USER_CHANGED",r)}else Ov().value.user=null,e.publish("USER_CHANGED",null)}),e}const JL={__name:"app",setup(t){return pc(()=>{YL()}),EC({title:"Polywhaler",link:[{rel:"icon",type:"image/png",href:"/images/logo.svg"}],meta:[{name:"description",content:"PolyWhaler analyzes Polymarket wallets on Polygon. Discover whale trades, wallet scores, performance metrics, risk profiles, and real on-chain trading activity."}]}),(e,n)=>{const r=g1;return pn(),db("div",null,[Ke(r)])}}},XL={__name:"nuxt-error-page",props:{error:Object},setup(t){const n=t.error;n.stack&&n.stack.split(`
`).splice(1).map(d=>({text:d.replace("webpack:/","").replace(".vue",".js").trim(),internal:d.includes("node_modules")&&!d.includes(".cache")||d.includes("internal")||d.includes("new Promise")})).map(d=>`<span class="stack${d.internal?" internal":""}">${d.text}</span>`).join(`
`);const r=Number(n.statusCode||500),i=r===404,s=n.statusMessage??(i?"Page Not Found":"Internal Server Error"),o=n.message||n.toString(),a=void 0,l=i?du(()=>Ht(()=>import("./COiYDASg.js"),__vite__mapDeps([17,2,18]),import.meta.url).then(d=>d.default||d)):du(()=>Ht(()=>import("./C8wzLd-L.js"),__vite__mapDeps([19,2,20]),import.meta.url).then(d=>d.default||d));return(d,p)=>(pn(),rr(qe(l),ME(Fy({statusCode:qe(r),statusMessage:qe(s),description:qe(o),stack:qe(a)})),null,16))}},Im={__name:"nuxt-root",setup(t){const e=()=>null,n=Ye(),r=n.deferHydration();if(n.isHydrating){const a=n.hooks.hookOnce("app:error",r);qn().beforeEach(a)}const i=!1;_i(wc,av()),n.hooks.callHookWith(a=>a.map(c=>c()),"vue:setup");const s=_c();my((a,c,u)=>{if(n.hooks.callHook("vue:error",a,c,u).catch(l=>console.error("[nuxt] Error in `vue:error` hook",l)),NS(a)&&(a.fatal||a.unhandled))return n.runWithContext(()=>hi(a)),!1});const o=!1;return(a,c)=>(pn(),rr(sy,{onResolve:qe(r)},{default:ey(()=>[qe(s)?(pn(),rr(qe(XL),{key:0,error:qe(s)},null,8,["error"])):qe(o)?(pn(),rr(qe(e),{key:1,context:qe(o)},null,8,["context"])):qe(i)?(pn(),rr(SI(qe(i)),{key:2})):(pn(),rr(qe(JL),{key:3}))]),_:1},8,["onResolve"]))}};let bm;{let t;bm=async function(){var o,a;if(t)return t;const r=!!((o=window.__NUXT__)!=null&&o.serverRendered||((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?tT(Im):eT(Im),i=aS({vueApp:r});async function s(c){await i.callHook("app:error",c),i.payload.error=i.payload.error||Ec(c)}r.config.errorHandler=s;try{await lS(i,d1)}catch(c){s(c)}try{await i.hooks.callHook("app:created",r),await i.hooks.callHook("app:beforeMount",r),r.mount(AC),await i.hooks.callHook("app:mounted",r),await Wi()}catch(c){s(c)}return r.config.errorHandler===s&&(r.config.errorHandler=void 0),r},t=bm().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{TE as $,Ke as A,ey as B,Uy as C,nF as D,rF as E,Ov as F,qe as G,lF as H,Vr as I,Ot as J,oF as K,ac as L,uF as M,oc as N,sF as O,hF as P,fF as Q,rr as R,Ir as S,rP as T,bE as U,EF as V,_F as W,LL as X,FL as Y,qL as Z,EL as _,Pv as a,IL as a0,CF as a1,AF as a2,gt as a3,Ec as a4,gF as a5,vF as a6,Os as a7,Qm as a8,jI as a9,gy as aa,eF as ab,lo as ac,jE as ad,tF as ae,wF as af,cF as ag,$h as ah,sr as ai,SF as aj,kF as ak,HL as al,TF as am,bF as an,dF as ao,aF as ap,gv as aq,_1 as ar,SI as as,Bp as b,nn as c,ao as d,gc as e,IF as f,Dn as g,ei as h,iF as i,Hh as j,vT as k,Wh as l,Ye as m,yF as n,pc as o,yc as p,mF as q,wn as r,jh as s,EC as t,qn as u,pn as v,Tu as w,db as x,Ly as y,ZL as z};
